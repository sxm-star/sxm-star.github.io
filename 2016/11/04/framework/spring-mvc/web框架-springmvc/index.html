<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>SpringMVC-WEB框架 - 藏经阁</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="藏经阁"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="藏经阁"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="三层架构和MVC模型三层架构 包括:表现层、业务层、持久层。三层架构在我们的实际开发中使用的非常多。三层架构中，每一层各司其职，接下来我们就说说每层都负责哪些方面: 表现层: 也就是我们常说的web层。它负责接收客户端请求，向客户端响应结果，通常客户端使用http协议请求web层，web需要接收http请求，完成http响应。表现层包括展示层和控制层:控制层负责接收请求，展示层负责结果的展示。表现"><meta property="og:type" content="blog"><meta property="og:title" content="SpringMVC-WEB框架"><meta property="og:url" content="http://example.com/2016/11/04/framework/spring-mvc/web%E6%A1%86%E6%9E%B6-springmvc/"><meta property="og:site_name" content="藏经阁"><meta property="og:description" content="三层架构和MVC模型三层架构 包括:表现层、业务层、持久层。三层架构在我们的实际开发中使用的非常多。三层架构中，每一层各司其职，接下来我们就说说每层都负责哪些方面: 表现层: 也就是我们常说的web层。它负责接收客户端请求，向客户端响应结果，通常客户端使用http协议请求web层，web需要接收http请求，完成http响应。表现层包括展示层和控制层:控制层负责接收请求，展示层负责结果的展示。表现"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://example.com/images/spring/JSR303.png"><meta property="og:image" content="http://example.com/images/spring/spring_component_mvc.png"><meta property="og:image" content="http://example.com/images/spring/SpringMVC%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B.png"><meta property="og:image" content="http://example.com/images/spring/json%E6%B6%89%E5%8F%8A%E7%9A%84%E8%BD%AC%E6%8D%A2%E5%99%A8%E5%8E%9F%E7%90%86.png"><meta property="og:image" content="http://example.com/images/spring/HttpMessageConverter%E5%AD%90%E7%B1%BB.png"><meta property="og:image" content="http://example.com/images/spring/HttpMessageConverter%E5%AD%90%E7%B1%BB%E8%AF%B4%E6%98%8E.png"><meta property="og:image" content="http://example.com/images/spring/xml%E8%BD%AC%E6%8D%A21.png"><meta property="og:image" content="http://example.com/images/spring/xml%E8%BD%AC%E6%8D%A22.png"><meta property="og:image" content="http://example.com/images/spring/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E6%B5%81%E7%A8%8B.png"><meta property="og:image" content="http://example.com/images/spring/%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90.png"><meta property="og:image" content="http://example.com/images/spring/%E5%B8%B8%E8%A7%81%E8%A7%86%E5%9B%BE%E5%AE%9E%E7%8E%B0%E7%B1%BB.png"><meta property="og:image" content="http://example.com/images/spring/%E5%B8%B8%E8%A7%81%E7%9A%84%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8%E5%AE%9E%E7%8E%B0%E7%B1%BB.png"><meta property="og:image" content="http://example.com/images/spring/pdf%E6%A8%A1%E6%9D%BF%E5%88%B6%E4%BD%9C.png"><meta property="og:image" content="http://example.com/images/spring/pdf%E6%95%88%E6%9E%9C.png"><meta property="og:image" content="http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96.png"><meta property="og:image" content="http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E9%85%8D%E7%BD%AE.png"><meta property="og:image" content="http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E6%8B%A6%E6%88%AA%E5%99%A8%E5%8E%9F%E7%90%86.png"><meta property="og:image" content="http://example.com/images/spring/%E6%9C%AC%E5%9C%B0%E5%8C%96%E8%A7%A3%E6%9E%90%E5%99%A8%E5%92%8C%E6%8B%A6%E6%88%AA%E5%99%A8.png"><meta property="og:image" content="http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6.png"><meta property="og:image" content="http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E5%90%AF%E5%8A%A8.png"><meta property="og:image" content="http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E4%B8%AD%E6%96%87.png"><meta property="og:image" content="http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E8%8B%B1%E6%96%87.png"><meta property="og:image" content="http://example.com/images/spring/%E6%8B%A6%E6%88%AA%E5%99%A8%E6%AD%A3%E5%B8%B8%E6%B5%81%E7%A8%8B.png"><meta property="og:image" content="http://example.com/images/spring/%E6%8B%A6%E6%88%AA%E5%99%A8%E4%B8%AD%E6%96%AD%E6%B5%81%E7%A8%8B.png"><meta property="og:image" content="http://example.com/images/spring/%E5%BC%82%E5%B8%B8%E8%BD%AC%E7%8A%B6%E6%80%81%E7%A0%81.jpeg"><meta property="article:published_time" content="2016-11-04T12:52:41.000Z"><meta property="article:modified_time" content="2020-07-10T07:25:45.683Z"><meta property="article:author" content="sxm-star"><meta property="article:tag" content="SpringMVC"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/images/spring/JSR303.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/2016/11/04/framework/spring-mvc/web%E6%A1%86%E6%9E%B6-springmvc/"},"headline":"SpringMVC-WEB框架","image":["http://example.com/images/spring/JSR303.png","http://example.com/images/spring/spring_component_mvc.png","http://example.com/images/spring/SpringMVC%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B.png","http://example.com/images/spring/json%E6%B6%89%E5%8F%8A%E7%9A%84%E8%BD%AC%E6%8D%A2%E5%99%A8%E5%8E%9F%E7%90%86.png","http://example.com/images/spring/HttpMessageConverter%E5%AD%90%E7%B1%BB.png","http://example.com/images/spring/HttpMessageConverter%E5%AD%90%E7%B1%BB%E8%AF%B4%E6%98%8E.png","http://example.com/images/spring/xml%E8%BD%AC%E6%8D%A21.png","http://example.com/images/spring/xml%E8%BD%AC%E6%8D%A22.png","http://example.com/images/spring/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E6%B5%81%E7%A8%8B.png","http://example.com/images/spring/%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90.png","http://example.com/images/spring/%E5%B8%B8%E8%A7%81%E8%A7%86%E5%9B%BE%E5%AE%9E%E7%8E%B0%E7%B1%BB.png","http://example.com/images/spring/%E5%B8%B8%E8%A7%81%E7%9A%84%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8%E5%AE%9E%E7%8E%B0%E7%B1%BB.png","http://example.com/images/spring/pdf%E6%A8%A1%E6%9D%BF%E5%88%B6%E4%BD%9C.png","http://example.com/images/spring/pdf%E6%95%88%E6%9E%9C.png","http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96.png","http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E9%85%8D%E7%BD%AE.png","http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E6%8B%A6%E6%88%AA%E5%99%A8%E5%8E%9F%E7%90%86.png","http://example.com/images/spring/%E6%9C%AC%E5%9C%B0%E5%8C%96%E8%A7%A3%E6%9E%90%E5%99%A8%E5%92%8C%E6%8B%A6%E6%88%AA%E5%99%A8.png","http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6.png","http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E5%90%AF%E5%8A%A8.png","http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E4%B8%AD%E6%96%87.png","http://example.com/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E8%8B%B1%E6%96%87.png","http://example.com/images/spring/%E6%8B%A6%E6%88%AA%E5%99%A8%E6%AD%A3%E5%B8%B8%E6%B5%81%E7%A8%8B.png","http://example.com/images/spring/%E6%8B%A6%E6%88%AA%E5%99%A8%E4%B8%AD%E6%96%AD%E6%B5%81%E7%A8%8B.png"],"datePublished":"2016-11-04T12:52:41.000Z","dateModified":"2020-07-10T07:25:45.683Z","author":{"@type":"Person","name":"sxm-star"},"publisher":{"@type":"Organization","name":"藏经阁","logo":{"@type":"ImageObject","url":"http://example.com/img/logo.svg"}},"description":"三层架构和MVC模型三层架构 包括:表现层、业务层、持久层。三层架构在我们的实际开发中使用的非常多。三层架构中，每一层各司其职，接下来我们就说说每层都负责哪些方面: 表现层: 也就是我们常说的web层。它负责接收客户端请求，向客户端响应结果，通常客户端使用http协议请求web层，web需要接收http请求，完成http响应。表现层包括展示层和控制层:控制层负责接收请求，展示层负责结果的展示。表现"}</script><link rel="canonical" href="http://example.com/2016/11/04/framework/spring-mvc/web%E6%A1%86%E6%9E%B6-springmvc/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="藏经阁" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-11-04T12:52:41.000Z" title="2016/11/4 下午8:52:41">2016-11-04</time>发表</span><span class="level-item"><time dateTime="2020-07-10T07:25:45.683Z" title="2020/7/10 下午3:25:45">2020-07-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a><span> / </span><a class="link-muted" href="/categories/%E6%A1%86%E6%9E%B6/SpringMVC/">SpringMVC</a></span><span class="level-item">2 小时读完 (大约14560个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">SpringMVC-WEB框架</h1><div class="content"><h2 id="三层架构和MVC模型"><a href="#三层架构和MVC模型" class="headerlink" title="三层架构和MVC模型"></a>三层架构和MVC模型</h2><h3 id="三层架构"><a href="#三层架构" class="headerlink" title="三层架构"></a>三层架构</h3><ul>
<li>包括:<strong>表现层、业务层、持久层</strong>。三层架构在我们的实际开发中使用的非常多。三层架构中，每一层各司其职，接下来我们就说说每层都负责哪些方面:</li>
<li><strong>表现层:</strong><br> 也就是我们常说的web层。<strong>它负责接收客户端请求，向客户端响应结果</strong>，通常客户端使用http协议请求web层，web需要接收http请求，完成http响应。<strong>表现层包括展示层和控制层</strong>:控制层负责接收请求，展示层负责结果的展示。表现层依赖业务层，接收到客户端请求一般会调用业务层进行业务处理，并将处理结果响应给客户端。<strong>表现层的设计一般都使用MVC模型。(MVC 是表现层的设计模型，和其他层没有关系)</strong></li>
<li><strong>业务层:</strong><br> 也就是我们常说的service层。它负责业务逻辑处理，和我们开发项目的需求息息相关。<strong>web层依赖业务层，但是业务层不依赖web层。</strong>业务层在业务处理时可能会依赖持久层，<strong>如果要对数据持久化需要保证事务一致性。(也就是我们说的，事务应该放到业务层来控制)</strong></li>
<li><strong>持久层:</strong><br> 也就是我们是常说的dao层。负责数据持久化，<strong>包括数据层即数据库和数据访问层，</strong>数据库是对数据进行持久化的载体，数据访问层是业务层和持久层交互的接口，业务层需要通过数据访问层将数据持久化到数据库中。通俗的讲，持久层就是和数据库交互，对数据库表进行曾删改查的。</li>
</ul>
<h3 id="MVC模型"><a href="#MVC模型" class="headerlink" title="MVC模型"></a>MVC模型</h3><ul>
<li>MVC<strong>全名是Model View Controller, 是模型(model) -视图(view) -控制器(controller)的缩写，是一种用于设计创建Web应用程序表现层的模式</strong>。MVC中每个部分各司其职:</li>
<li><strong>Model (模型) :</strong><br> 通常指的就是我们的数据模型。作用一般情况下用于封装数据，常等同于封装的JavaBean来接收数据(JSR303JavaBean快捷校验)</li>
<li><strong>View (视图) :</strong><br> 通常指的就是我们的jsp或者html。作用一般就是展示数据的。通常视图是依据模型数据创建的。</li>
<li><strong>Controller (控制器) :</strong><br> 是应用程序中处理用户交互的部分。作用一般就是处理程序逻辑的。它相对于前两个不是很好理解，这里举个例子:<br> 例如:<br> 我们要保存一个用户的信息，该用户信息中包含了姓名，性别，年龄等等。这时候表单输入要求年龄必须是1~100 之间的整数。姓名和性别不能为空。并且把数据填充到模型之中。<strong>此时除了js的校验之外，服务器端也应该有数据准确性的校验,那么校验就是控制器该做的。</strong>当校验失败后，由控制器负责把错误页面展示给使用者。<strong>如果校验成功，也是控制器负责把数据填充到模型，并且调用业务层实现完整的业务需求。</strong><span id="more"></span>
<h2 id="思考框架的产生"><a href="#思考框架的产生" class="headerlink" title="思考框架的产生"></a>思考框架的产生</h2></li>
<li>JAVAEE已经有 servlet 和 jsp ,加上html就可以开发web程序了，为什么还要 springmvc 这种web框架?</li>
<li><strong>问题</strong></li>
<li>1.servlet，jsp的路由问题：比如对于restful  接口 &#x2F;user&#x2F;{userId},servlet无法很好处理路由映射配置，可能只能配置成 &#x2F;user&#x2F;*,这就需要专门的springmvc框架来处理路由问题</li>
<li>2.servlet,jsp在MVC模式存在的问题：纯servlet开发，会导致大量HTML代码嵌入到Java代码里；纯jsp开发，会导致大量Java代码嵌入到HTML里，总之就是视图和数据耦合度高，这也需要springmvc这种web框架来处理MVC模式</li>
</ul>
<h2 id="Spring-MVC框架"><a href="#Spring-MVC框架" class="headerlink" title="Spring MVC框架"></a>Spring MVC框架</h2><ul>
<li>Spring为展现层提供的<strong>基于MVC设计理念的优秀的Web框架，是目前最主流的MVC框架之一</strong></li>
<li><strong>Spring3.0后全面超越Struts2，</strong>成为<strong>最优秀的MVC框架SpringMVC</strong>通过一套MVC注解，让POJO成为处理请求的控制器，而无须实现任何接口。</li>
<li>支持REST风格的URL请求</li>
<li><strong>采用了松散耦合可插拔组件结构，比其他MVC框架更具扩展性和灵活性</strong></li>
<li>此外,Spring MVC<strong>在数据绑定,视图解析,本地化处理及静态资源处理上都有许多不俗的表现</strong>,它在框架设计,可扩展,灵活性等方面全面超越了Struts2,WebWork等MVC框架,从原来的追赶者一跃成为了MVC的领跑者.</li>
<li>Spring MVC框架<strong>围绕DispatcherServlet这个核心展开</strong>,DispatcherServlet负责截获请求并将其分派给相应的处理器处理.<strong>Spring MVC框架包括注解驱动控制器,请求及响应的信息处理,视图解析,本地化解析,上传文件解析,异常处理及表单标签绑定内容等</strong></li>
</ul>
<h2 id="SpringMVC与Struts2优略分析"><a href="#SpringMVC与Struts2优略分析" class="headerlink" title="SpringMVC与Struts2优略分析"></a>SpringMVC与Struts2优略分析</h2><h3 id="共同点"><a href="#共同点" class="headerlink" title="共同点:"></a>共同点:</h3><ul>
<li>①. 它们都是表现层框架，都是基于MVC模型编写的。</li>
<li>②. 它们的底层都离不开原始ServletAPI。</li>
<li>③. 它们处理请求的机制都是一个核心控制器。<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3></li>
<li>①. Spring MVC的入口是Servlet,而Struts2 是Filter</li>
<li>②. Spring MVC会稍微比Struts2快些. Spring MVC是基于方法设计,而Sturts2是基于类,每次发一次请求都会实例一个Action.</li>
<li>③. Spring MVC使用更加简洁，开发效率Spring MVC确实比struts2高:支持JSR303,处理ajax的请求更方便<br>  <strong>(JSR303是一套JavaBean参数校验的标准，它定义了很多常用的校验注解，我们可以直接将这些注解加在我们JavaBean的属性上面，就可以在需要校验的时候进行校验了。)</strong><br>  <img src="/images/spring/JSR303.png" alt="JSR303"></li>
<li>④. Struts2的OGNL表达式使页面的开发效率相比Spring MVC更高些，但执行效率并没有比JSTL提升，尤其是Struts2的表单标签，远没有html执行效率高。</li>
</ul>
<h2 id="SpringMVC在Spring框架的位置"><a href="#SpringMVC在Spring框架的位置" class="headerlink" title="SpringMVC在Spring框架的位置"></a>SpringMVC在Spring框架的位置</h2><p><img src="/images/spring/spring_component_mvc.png"></p>
<h2 id="SpringMVC执行流程"><a href="#SpringMVC执行流程" class="headerlink" title="SpringMVC执行流程"></a>SpringMVC执行流程</h2><p><img src="/images/spring/SpringMVC%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B.png"></p>
<h3 id="核心分发器DispatcherServlet"><a href="#核心分发器DispatcherServlet" class="headerlink" title="核心分发器DispatcherServlet"></a>核心分发器DispatcherServlet</h3><ul>
<li>DispatcherServlet是Spring MVC的”灵魂”和”心脏”,它负责接受HTTP请求并协调 Spring MVC的各个组件完成请求处理的工作。和任何Servlet一样,用户必须在web.xml中配置好DispatcherServlet。</li>
<li>DispatcherServlet是前端控制器设计模式的实现，提供spring Web MVC的集中访问点，而且负责职责的分派，而且与Spring IoC容器无缝集成，从而可以获得Spring的所有好处。<h3 id="DispatcherServlet主要职责"><a href="#DispatcherServlet主要职责" class="headerlink" title="DispatcherServlet主要职责"></a>DispatcherServlet主要职责</h3>DispatcherServlet主要用作职责调度工作，本身主要用于控制流程，主要职责如下：</li>
<li>1.文件上传解析，如果请求类型是multipart将通过MultipartResolver进行文件上传解析；</li>
<li>2.通过HandlerMapping，将请求映射到处理器（返回一个HandlerExecutionChain，它包括一个处理器、多个HandlerInterceptor拦截器）；</li>
<li>3.通过HandlerAdapter支持多种类型的处理器(HandlerExecutionChain中的处理器)；</li>
<li>4.通过ViewResolver解析逻辑视图名到具体视图实现；</li>
<li>5.本地化解析；</li>
<li>6.渲染具体的视图等；</li>
<li>7.如果执行过程中遇到异常将交给HandlerExceptionResolver来解析。</li>
</ul>
<h3 id="DispatcherServlet核心代码"><a href="#DispatcherServlet核心代码" class="headerlink" title="DispatcherServlet核心代码"></a>DispatcherServlet核心代码</h3><pre><code class="line-numbers language-java">//前端控制器分派方法 
protected void doDispatch(HttpServletRequest request, HttpServletResponse response)    throws Exception &#123; 
        HttpServletRequest processedRequest = request; 
        HandlerExecutionChain mappedHandler = null; 
        int interceptorIndex = -1; 
        try &#123; 
            ModelAndView mv; 
            boolean errorView = false; 
            try &#123; 
                //检查是否是请求是否是multipart（如文件上传），如果是将通过MultipartResolver解析 
                processedRequest = checkMultipart(request); 
                //步骤2、请求到处理器（页面控制器）的映射，通过HandlerMapping进行映射 
                mappedHandler = getHandler(processedRequest, false); 
                if (mappedHandler == null || mappedHandler.getHandler() == null) &#123; 
                    noHandlerFound(processedRequest, response); 
                    return; 
                &#125; 
                //步骤3、处理器适配，即将我们的处理器包装成相应的适配器（从而支持多种类型的处理器） 
                HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler()); 
                // 304 Not Modified缓存支持 
                //此处省略具体代码 
 
                // 执行处理器相关的拦截器的预处理（HandlerInterceptor.preHandle） 
                //此处省略具体代码 

                // 步骤4、由适配器执行处理器（调用处理器相应功能处理方法） 
                mv = ha.handle(processedRequest, response, mappedHandler.getHandler()); 
                // Do we need view name translation? 
                if (mv != null &amp;&amp; !mv.hasView()) &#123; 
                    mv.setViewName(getDefaultViewName(request)); 
                &#125; 
 
                // 执行处理器相关的拦截器的后处理（HandlerInterceptor.postHandle） 
                //此处省略具体代码 
            &#125; 
            catch (ModelAndViewDefiningException ex) &#123; 
                logger.debug(&quot;ModelAndViewDefiningException encountered&quot;, ex); 
                mv = ex.getModelAndView(); 
            &#125; 
            catch (Exception ex) &#123; 
                Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null); 
                mv = processHandlerException(processedRequest, response, handler, ex); 
                errorView = (mv != null); 
            &#125; 
            //步骤5 步骤6、解析视图并进行视图的渲染 
            //步骤5 由ViewResolver解析View（viewResolver.resolveViewName(viewName, locale)） 
            //步骤6 视图在渲染时会把Model传入（view.render(mv.getModelInternal(), request, response);） 
            if (mv != null &amp;&amp; !mv.wasCleared()) &#123; 
                render(mv, processedRequest, response); 
                if (errorView) &#123; 
                    WebUtils.clearErrorRequestAttributes(request); 
                &#125; 
            &#125; 
            else &#123; 
                if (logger.isDebugEnabled()) &#123; 
                    logger.debug(&quot;Null ModelAndView returned to DispatcherServlet with name &#39;&quot; + getServletName() + 
                            &quot;&#39;: assuming HandlerAdapter completed request handling&quot;); 
                &#125; 
            &#125; 
            // 执行处理器相关的拦截器的完成后处理（HandlerInterceptor.afterCompletion） 
            //此处省略具体代码 
        catch (Exception ex) &#123; 
            // Trigger after-completion for thrown exception. 
            triggerAfterCompletion(mappedHandler, interceptorIndex, processedRequest, response, ex); 
            throw ex; 
        &#125; 
        catch (Error err) &#123; 
            ServletException ex = new NestedServletException(&quot;Handler processing failed&quot;, err); 
            triggerAfterCompletion(mappedHandler, interceptorIndex, processedRequest, response, ex); 
            throw ex; 
        &#125; 
        finally &#123; 
            if (processedRequest != request) &#123; 
                cleanupMultipart(processedRequest); 
            &#125; 
        &#125; 
&#125; 
</code></pre>
<h3 id="DispatcherServlet辅助类"><a href="#DispatcherServlet辅助类" class="headerlink" title="DispatcherServlet辅助类"></a>DispatcherServlet辅助类</h3><table>
<thead>
<tr>
<th>bean类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Controlle</td>
<td>处理器&#x2F;页面控制器，做的是MVC中的C的事情，但控制逻辑转移到前端控制器了，用于对请求进行处理</td>
</tr>
<tr>
<td>HandlerMapping</td>
<td>请求到处理器的映射，如果映射成功返回一个HandlerExecutionChain对象（包含一个Handler处理器（页面控制器）对象、多个HandlerInterceptor拦截器）对象；如BeanNameUrlHandlerMapping将URL与Bean名字映射，映射成功的Bean就是此处的处理器</td>
</tr>
<tr>
<td>HandlerAdapter</td>
<td>HandlerAdapter将会把处理器包装为适配器，从而支持多种类型的处理器，即适配器设计模式的应用，从而很容易支持很多类型的处理器；如SimpleControllerHandlerAdapter将对实现了Controller接口的Bean进行适配，并且掉处理器的handleRequest方法进行功能处理</td>
</tr>
<tr>
<td>HandlerExceptionResolver处理器异常解析器</td>
<td>处理器异常解析，可以将异常映射到相应的统一错误界面，从而显示用户友好的界面（而不是给用户看到具体的错误信息）</td>
</tr>
<tr>
<td>ViewResolver视图解析器</td>
<td>ViewResolver将把逻辑视图名解析为具体的View，通过这种策略模式，很容易更换其他视图技术；如InternalResourceViewResolver将逻辑视图名映射为jsp视图</td>
</tr>
<tr>
<td>LocaleResolver &amp; LocaleContextResolver地区解析器和地区Context解析器</td>
<td>解析客户端中使用的地区和时区，用来提供不同的国际化的view视图。</td>
</tr>
<tr>
<td>ThemeResolver</td>
<td>主题解析器,解析web应用中能够使用的主题，比如提供个性化的网页布局。</td>
</tr>
<tr>
<td>MultipartResolver</td>
<td>多部件解析器,主要处理multi-part(多部件)request请求，例如：在HTML表格中处理文件上传。</td>
</tr>
<tr>
<td>FlashMapManager</td>
<td>FlashMap管理器储存并检索在”input”和”output”的FlashMap中可以在request请求间(通常是通过重定向)传递属性的FlashMap,</td>
</tr>
</tbody></table>
<h2 id="SpringMVC搭建"><a href="#SpringMVC搭建" class="headerlink" title="SpringMVC搭建"></a>SpringMVC搭建</h2><h3 id="添加pom依赖jar"><a href="#添加pom依赖jar" class="headerlink" title="添加pom依赖jar"></a>添加pom依赖jar</h3><pre><code class="line-numbers language-xml">&lt;dependencies&gt;
     &lt;dependency&gt;
          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
          &lt;version&gt;3.1.0&lt;/version&gt;
          &lt;scope&gt;provided&lt;/scope&gt;
      &lt;/dependency&gt;
      &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;!--spring-context-support:包含支持UI模版，邮件服务，缓存Cache等方面的类。--&gt;
            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<h3 id="SpringMVC在web-xml配置–即一个核心组件DispatcherServlet的配置"><a href="#SpringMVC在web-xml配置–即一个核心组件DispatcherServlet的配置" class="headerlink" title="SpringMVC在web.xml配置–即一个核心组件DispatcherServlet的配置"></a>SpringMVC在web.xml配置–即一个核心组件DispatcherServlet的配置</h3><pre><code class="line-numbers language-xml">&lt;servlet&gt;
        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
        &lt;!--SpringMVC配置文件的名字  xxx-servlet.xml
        默认位置:src/resources  
        如果放在了 src/resources(maven),则 contextConfigLocation:classpath:文件名即可!
                 Web-INF/xx.xml，则 contextConfigLocation:/WEB-INF/xx.xml --&gt; 
            &lt;param-value&gt;classpath:springmvc-servlet.xml&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;!-- tomcat启动时就创建servlet --&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre>
<h4 id="param-name"><a href="#param-name" class="headerlink" title="param-name"></a>param-name</h4><table>
<thead>
<tr>
<th>param-name</th>
<th>param-value</th>
</tr>
</thead>
<tbody><tr>
<td>contextConfigLocation</td>
<td>引入springmvc配置文件,默认classpath:<servlet-name>-servlet.xml,如果放在src&#x2F;resources的下级文件夹,例如:resources&#x2F;spring&#x2F;servlet-name-servlet.xml,值可以编写成: classpath:&#x2F;spring&#x2F;servlet-name-servlet.xml，如果没有放在src&#x2F;resources资源的根目录下,放在了WEB项目的WEB-INF&#x2F;spring&#x2F;servlet-name-serlvet.xml,值可以编写成:&#x2F;WEB-INF&#x2F;spring&#x2F;servlet-name-servlet.xml。</td>
</tr>
<tr>
<td>namespace</td>
<td>修改DispatcherServlet对应的命名空间,默认为<servlet-name>-servlet,可以通过namespace修改默认名字!</td>
</tr>
<tr>
<td>publishContext</td>
<td>布尔类型的属性,默认值为ture,DispatcherServlet根据该属性决定是否将WebApplicationContext发布到ServletContext的属性列表中,以便调用者可以借用ServletContext找到WebApplicationContext实例,对应的属性名为DispatcherServlet#getServletContextAttributeName()方法返回的值</td>
</tr>
</tbody></table>
<h4 id="url-pattern问题"><a href="#url-pattern问题" class="headerlink" title="url-pattern问题"></a>url-pattern问题</h4><pre><code class="line-numbers language-xml">&lt;url-pattern&gt;/&lt;/url-pattern&gt;  会匹配到/login这样的路径型url，不会匹配到模式为*.jsp这样的后缀型url
&lt;url-pattern&gt;/*&lt;/url-pattern&gt; 会匹配所有url：路径型的和后缀型的url(包括/login,*.jsp,*.js和*.html等)
</code></pre>
<pre><code class="line-numbers language-text">最好不要配成 /，否则虽然jsp页面跳转 正常，但是 静态资源全都报错
最好也不要写为/，因为 Dispatcherservlet会将向静态资源的获取请求，例如.CS5、js、jpg、－png等资源的获取请求，当作是一个普通的 Controller求。中央调度器会调用处理器映射器为其查找相应的处理器。当然也是找不到的，所以在这种情况下，所有的静态资源获取请求也均会报404错误。
不能配成 /*，连jsp页面跳转都到不了,静态资源更访问不了,因为 Dispatcherservlet会将向动态页面的跳转请求，即向JSP页面的跳转请求也当作是一个普通的 Controller请求。中央调度器会调用处理器映射器为其查找相应的处理器。当然是找不到的，所以在这种情况下，所有的jSP页面跳转均会报404错误
</code></pre>
<h4 id="以下三种方式解决url-pattern访问静态资源的问题"><a href="#以下三种方式解决url-pattern访问静态资源的问题" class="headerlink" title="以下三种方式解决url-pattern访问静态资源的问题"></a>以下三种方式解决url-pattern访问静态资源的问题</h4><ul>
<li>第一种把静态资源后缀  在web.xml 用配置servlet-mapping方法配置，走tomcat default名的servlet示例:<pre><code class="line-numbers language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;
  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;
  id=&quot;webApp&quot; version=&quot;2.5&quot;&gt;
  &lt;!-- 注册中央调度器 --&gt;
  &lt;servlet&gt;
      &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
      &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
      &lt;init-param&gt;
         &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
         &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;
      &lt;/init-param&gt;
      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;!-- tomcat启动时就创建servlet --&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
      &lt;servlet-name&gt;spingmvc&lt;/servlet-name&gt;
      &lt;url-pattern&gt;/&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
      &lt;servlet-mapping&gt;
      &lt;servlet-name&gt;default&lt;/servlet-name&gt;
      &lt;url-pattern&gt;*.png&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  &lt;servlet-mapping&gt;
      &lt;servlet-name&gt;default&lt;/servlet-name&gt;
      &lt;url-pattern&gt;*.jpg&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
    &lt;servlet-mapping&gt;
      &lt;servlet-name&gt;default&lt;/servlet-name&gt;
      &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  &lt;servlet-mapping&gt;
      &lt;servlet-name&gt;default&lt;/servlet-name&gt;
      &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
&lt;/web-app&gt;
</code></pre>
</li>
<li>第二种方式使用 mvc标签的 default-servlet-handler<pre><code class="line-numbers language-text">mvc: default-servlet-handler会将对静态资源的访问请求通过 Handlermapping映射到默认 Servlet请求处理器 Default Servlethttprequesthandler对象。而该处理器调用了 Tomcat的 Defaultservlet来处理静态资源的访问请求
</code></pre>
示例mvc约束:<pre><code class="line-numbers language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
  xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
  xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/aop
      http://www.springframework.org/schema/aop/spring-aop.xsd
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context.xsd
      http://www.springframework.org/schema/mvc
      http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;
  &lt;bean id=&quot;/my.do&quot; class=&quot;com.songxm.learning.springmvc.controller.MyController&quot;&gt;&lt;/bean&gt;
  &lt;!-- 配置视图解析器 --&gt;
  &lt;bean
      class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
      &lt;!-- 前缀 --&gt;
      &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;
      &lt;!-- 后缀 --&gt;
      &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;
  &lt;/bean&gt;
  &lt;mvc:default-servlet-handler /&gt;
&lt;/beans&gt;        
</code></pre>
</li>
<li>第三种方式使用 mvc标签的  resources处理器<pre><code class="line-numbers language-xml">在 Springa3.0.4版本后， Spring中定义了专门用于处理静态资源访问请求的处理器,&lt;mvc: resources location=＂/images/＂ mapping=&quot;/images/＊＊&quot; /&gt;location表示静态资源所在目录。当然，这里的目录可以是/WEB－NF/目录及其子目录,mapping表示对该资源的请求。注意，后面是两个星号,该配置会把对该静态资源的访问请求经 Handlermapping直接映射到静态资源处理器对
</code></pre>
示例配置:<pre><code class="line-numbers language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
  xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/aop
      http://www.springframework.org/schema/aop/spring-aop.xsd
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context.xsd
      http://www.springframework.org/schema/mvc
      http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;
  &lt;bean id=&quot;/my.do&quot; class=&quot;com.songxm.learning.springmvc.controller.MyController&quot;&gt;&lt;/bean&gt;
  &lt;!-- 配置视图解析器 --&gt;
  &lt;bean
      class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
      &lt;!-- 前缀 --&gt;
      &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;
      &lt;!-- 后缀 --&gt;
      &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;
  &lt;/bean&gt;
  &lt;mvc:resources location=&quot;/images/&quot; mapping=&quot;/images/**&quot; /&gt;
  &lt;mvc:resources location=&quot;/css/&quot; mapping=&quot;/css/**&quot; /&gt;
  &lt;mvc:resources location=&quot;/js/&quot; mapping=&quot;/js/**&quot; /&gt;
&lt;/beans&gt;               
</code></pre>
</li>
</ul>
<h3 id="springmvc-servlet-xml配置"><a href="#springmvc-servlet-xml配置" class="headerlink" title="springmvc-servlet.xml配置"></a>springmvc-servlet.xml配置</h3><h4 id="非注解版本，了解即可"><a href="#非注解版本，了解即可" class="headerlink" title="非注解版本，了解即可"></a>非注解版本，了解即可</h4><pre><code class="line-numbers language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;
        http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;
        &lt;!-- 1.配置handlerMapping  
            1.1
                找出给请求该找哪一个处理器处理
                //http://localhost:8080/hello  &lt;bean name=&quot;/hello&quot;&gt;&lt;/bean&gt;
                根据url 匹配bean的name属性 
                根据name属性找处理器  		
         --&gt;
         &lt;bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;&gt;
         &lt;/bean&gt;
         &lt;!-- 
           1.2
         根据id找处理器 --&gt;
         &lt;bean class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;
             &lt;property name=&quot;mappings&quot;&gt;
                 &lt;props&gt;
                     &lt;!--   通过/aaa  或者/bbb  都能找到id为hello的处理器 --&gt;
                     &lt;prop key=&quot;/aaa&quot;&gt;hello&lt;/prop&gt;
                     &lt;prop key=&quot;/bbb&quot;&gt;hello&lt;/prop&gt;
                     &lt;prop key=&quot;/ccc&quot;&gt;hello2&lt;/prop&gt;
                     &lt;prop key=&quot;/ddd&quot;&gt;hello2&lt;/prop&gt;
                 &lt;/props&gt;
             &lt;/property&gt;
         &lt;/bean&gt;
         &lt;!-- 1.3  根据处理器的类名查找 --&gt;
         &lt;bean class=&quot;org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping&quot;&gt;&lt;/bean&gt;
         &lt;!-- 2.配置HandlerAdapter
         2.1  处理实现Controller的处理器  
           1）包装成适配器对象
           2）调用handler	
          --&gt;
            &lt;bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;&gt;&lt;/bean&gt;
        &lt;!-- 2.2 处理实现了HttpRequestHandler的处理器 --&gt;
        &lt;bean class=&quot;org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter&quot;&gt;&lt;/bean&gt;
        
        &lt;!-- 3.配置处理器   handler 自己写 --&gt;
        &lt;bean name=&quot;/hello&quot;  id=&quot;hello&quot; class=&quot;com.ecit.controller.MyController&quot;&gt;&lt;/bean&gt;
        &lt;bean name=&quot;/hello2&quot; id=&quot;hello2&quot; class=&quot;com.ecit.controller.MyHttpRequestHandler&quot;&gt;&lt;/bean&gt;
        &lt;!-- 4.配置视图解析器 
                    //物理视图 = 前缀+逻辑视图+后缀 = &quot;/WEB-INF/jsp/&quot;+&quot;hello&quot;+&quot;.jsp&quot; = /WEB-INF/jsp/hello.jsp       	
        --&gt;
        &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
                &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;
                &lt;property name=&quot;suffix&quot;  value=&quot;.jsp&quot;&gt;&lt;/property&gt;
        &lt;/bean&gt;       
&lt;/beans&gt;        
</code></pre>
<h4 id="注解版本"><a href="#注解版本" class="headerlink" title="注解版本"></a>注解版本</h4><pre><code class="line-numbers language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/mvc
        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;

    &lt;!--1.注解驱动  HandlerMapping  HandlerAdapter --&gt;
    &lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt;
    &lt;!--2.处理器 handler--&gt;
    &lt;context:component-scan base-package=&quot;com.ecit.controller&quot;&gt;&lt;/context:component-scan&gt;
    &lt;!--3.视图解析器--&gt;
    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;
    &lt;!--静态资源访问解决--&gt;
    &lt;mvc:resources location=&quot;/WEB-INF/images/&quot; mapping=&quot;/images/**&quot; /&gt;
    &lt;mvc:resources location=&quot;/WEB-INF/css/&quot; mapping=&quot;/css/**&quot; /&gt;
    &lt;mvc:resources location=&quot;/WEB-INF/js/&quot; mapping=&quot;/js/**&quot; /&gt;
&lt;/beans&gt;       
</code></pre>
<h2 id="第一个SpringMVC程序过程记录"><a href="#第一个SpringMVC程序过程记录" class="headerlink" title="第一个SpringMVC程序过程记录"></a>第一个SpringMVC程序过程记录</h2><h3 id="编写一个HelloController"><a href="#编写一个HelloController" class="headerlink" title="编写一个HelloController"></a>编写一个HelloController</h3><pre><code class="line-numbers language-java">package com.ecit.controller;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
@Controller
public class HelloController &#123;
    @RequestMapping(&quot;/hello&quot;)
    public String helloNoMsg()&#123;
        return &quot;success&quot;;
    &#125;
    @RequestMapping(&quot;/hello2&quot;)
    public ModelAndView helloWithMsg(HttpServletRequest arg0, HttpServletResponse arg1) throws Exception &#123;
        ModelAndView mv = new ModelAndView();
        mv.addObject(&quot;message&quot;,&quot;Welcome learning SpringMVC&quot;);
        mv.addObject(&quot;title&quot;,&quot;Hello&quot;);
        mv.setViewName(&quot;success&quot;);
        return mv;
    &#125;
&#125;
</code></pre>
<pre><code class="line-numbers language-java">@Controller 来源于@Component标示为控制层，用于加在类上。
@RequestMapping(&quot;/hello&quot;)  该方法对应的uri;
控制器类的方法返回字符串类型非常常见,返回字符串,代表根据返回的字符串找到对应的视图!
根据springmvc配置文件中视图解析器(InternalResourceViewResolver) 配置的视图文件的前缀和后缀!
方法返回  &quot;success&quot; 会找到 WEB-INF/jsp/success.jsp文件!
</code></pre>
<h3 id="测试Spring-MVC"><a href="#测试Spring-MVC" class="headerlink" title="测试Spring MVC"></a>测试Spring MVC</h3><h4 id="pom文件添加web服务器，这里用jetty服务器"><a href="#pom文件添加web服务器，这里用jetty服务器" class="headerlink" title="pom文件添加web服务器，这里用jetty服务器"></a>pom文件添加web服务器，这里用jetty服务器</h4><pre><code class="line-numbers language-xml">&lt;plugin&gt;
   &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;
   &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;
   &lt;version&gt;9.3.7.v20160115&lt;/version&gt;
   &lt;configuration&gt;
        &lt;httpConnector&gt;
            &lt;port&gt;8080&lt;/port&gt;
            &lt;host&gt;localhost&lt;/host&gt;
        &lt;/httpConnector&gt;
        &lt;scanIntervalSeconds&gt;1&lt;/scanIntervalSeconds&gt;
   &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre>
<h4 id="编译运行浏览"><a href="#编译运行浏览" class="headerlink" title="编译运行浏览"></a>编译运行浏览</h4><pre><code class="line-numbers language-shell">mvn compile
mvn jetty:run
</code></pre>
<p>通过浏览器,访问 <a target="_blank" rel="noopener" href="http://127.0.0.1:8080/hello2">http://127.0.0.1:8080/hello2</a> 即可!</p>
<h2 id="常用注解"><a href="#常用注解" class="headerlink" title="常用注解"></a>常用注解</h2><h3 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="@RequestMapping"></a>@RequestMapping</h3><ul>
<li>加在类上: 给模块添加根路径</li>
<li>加载方法: 方法具体的路径<pre><code class="line-numbers language-java">//如果不指定method属性,可以接收任何类型的请求!如果指定但是访问类型不对会出现405错误!**
@RequestMapping(value = &quot;/param&quot; ,headers=&#123;&quot;token&quot;&#125;,params = &#123;&quot;!usernam&quot;,&quot;age!=10&quot;&#125;,method = RequestMethod.GET) //请求头中必须包含有token参数， URL参数中不能含有usernam，age参数不能等于10
public String testParam(String username , Integer age)&#123;
      System.out.println(&quot;username:&quot;+username);
      System.out.println(&quot;age:&quot;+age);
      return &quot;success&quot;;
&#125;
</code></pre>
<h4 id="params和headers支持简单的表达式"><a href="#params和headers支持简单的表达式" class="headerlink" title="params和headers支持简单的表达式"></a>params和headers支持简单的表达式</h4></li>
<li>1.param:表示请求必须包含名为param的请求参数</li>
<li>2.!param:表示请求中不能包含名为param的参数</li>
<li>3.param !&#x3D; value:表示请求中包含param的请求参数,但是值不能为value</li>
<li>4.param &#x3D; value:表示请求中包含param的请求参数,但是值为value</li>
<li>{“param1 &#x3D; value1”,“param2”}:请求必须包含名为param1和param2的两个请求参数，且param1参数的值必须为value1<pre><code class="line-numbers language-java">@RequestMapping(value= &quot;/show&quot;, headers=&quot;contentType=text/*&quot;)
public String test(&#123;
      return &quot;user/test&quot;;
&#125;
</code></pre>
</li>
</ul>
<h4 id="Ant风格资源地址支持3种匹配符"><a href="#Ant风格资源地址支持3种匹配符" class="headerlink" title="Ant风格资源地址支持3种匹配符:"></a>Ant风格资源地址支持3种匹配符:</h4><pre><code class="line-numbers language-java">- 1.?:匹配文件名中的一个字符
- 2.*:匹配文件名中的任意字符
- 3.**:匹配多层路径
@RequestMapping还支持Ant风格的URL : 
/user/*/createUser: 匹配
/user/aaa/createUser、/user/bbb/createUser等URL
/user/**/createUser:匹配
/user/createUser、/user/aaa/bbb/createUser等URL
/user/createUser??: 匹配
/user/createUseraa、/user/createUserbb 等URL
</code></pre>
<h4 id="接收数组参数"><a href="#接收数组参数" class="headerlink" title="接收数组参数"></a>接收数组参数</h4><pre><code class="line-numbers language-html">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;兴趣爱好&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form action= &quot;/happy&quot; method= &quot;post&quot;&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; name=&quot;happies&quot; value=&quot;足球&quot; /&gt; 足球&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; name=&quot;happies&quot; value=&quot;篮球&quot; /&gt; 篮球&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; name=&quot;happies&quot; value=&quot;羽毛球&quot; /&gt;羽毛球e&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; name=&quot;happies&quot; value=&quot;乒乓球&quot; /&gt; 乒乓球&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; name=&quot;happies&quot; value=&quot;网球&quot; /&gt; 网球&lt;/p&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; name=&quot;happies&quot; value=&quot;计算机&quot; /&gt;计算机&lt;/p&gt;
    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="line-numbers language-java">@RequestMapping(&quot;/happy&quot;)
public String updateAccount(String[] happies)&#123;
        System.out.printf(&quot;happies:&quot; + Arrays.toString(happies));
        return &quot;success&quot;;
&#125;
</code></pre>
<h4 id="使用POJO对象绑定请求参数值"><a href="#使用POJO对象绑定请求参数值" class="headerlink" title="使用POJO对象绑定请求参数值"></a>使用POJO对象绑定请求参数值</h4><ul>
<li>Spring MVC会按请求参数名和POJO属性名进行自动匹配，自动为该对象填充属性值。支持级联属性。<br>如: dept.deptld、dept.address.tel 等<pre><code class="line-numbers language-java">@RequestMapping(&quot;/handle&quot;)
public String handle8(User user)&#123;
return &quot;success&quot;;
&#125;
//  /handle?userName=ecit&amp;dept.deptId=1&amp;dept.address.tel=52571522
</code></pre>
</li>
<li>表单模式模拟<pre><code class="line-numbers language-html">&lt;form action=&quot;/user/add&quot; method=&quot;post&quot;&gt;
 &lt;label for=&quot;username&quot;&gt;用户名:&lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; /&gt;&lt;/label&gt;&lt;br/&gt;
 &lt;label for=&quot;password&quot;&gt;密码:&lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;/label&gt;&lt;br/&gt;
 &lt;label for=&quot;age&quot;&gt;年龄:&lt;input type=&quot;text&quot; name=&quot;age&quot; /&gt;&lt;/label&gt;&lt;br/&gt;
 &lt;label for=&quot;address.province&quot;&gt;省份:&lt;input type=&quot;text&quot; name=&quot;address.province&quot; /&gt;&lt;/label&gt;&lt;br/&gt;
 &lt;label for=&quot;address.city&quot;&gt;城市:&lt;input type=&quot;text&quot; name=&quot;address.city&quot; /&gt;&lt;/label&gt;&lt;br/&gt;
 &lt;input type=&quot;submit&quot;  value=&quot;提交&quot; /&gt;
&lt;/form&gt;
</code></pre>
<pre><code class="line-numbers language-java">public class Address &#123;
  private String province;
  private String city;
  //toString,getter,setter
&#125;
public class User &#123;
  private String username;
  private String password;
  private Integer  age;
  private Address  address;
  //toString,getter,setter
&#125; 
</code></pre>
<pre><code class="line-numbers language-java">@RequestMapping(&quot;/add&quot;)
public String add(User user)&#123;
  System.out.println(user);
  return &quot;success&quot;;
&#125;
</code></pre>
</li>
</ul>
<h4 id="pojo-list集合参数和map参数接受"><a href="#pojo-list集合参数和map参数接受" class="headerlink" title="pojo list集合参数和map参数接受"></a>pojo list集合参数和map参数接受</h4><pre><code class="line-numbers language-jsp">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@ page isELIgnored=&quot;false&quot; %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;form action= &quot;/updateAccount&quot; method= &quot;post&quot;&gt;
    用户名称: &lt;input type= &quot;text&quot; name=&quot;username&quot;/&gt;&lt;br/&gt;
    用户年龄: &lt;input type= &quot;text&quot; name= &quot;age&quot;/&gt;&lt;br/&gt;
    账户1名称: &lt;input type=&quot;text&quot; name=&quot;accountList[0].name&quot;/&gt;&lt;br/&gt;
    账户1金额: &lt;input type= &quot;text&quot; name= &quot;accountList[0].money&quot;/&gt;&lt;br/&gt;
    账户2名称: &lt;input type=&quot;text&quot; name=&quot;accountList[1].name&quot;/&gt;&lt;br/&gt;
    账户2金额: &lt;input type= &quot;text&quot; name= &quot;accountList[1].money&quot;/&gt;&lt;br/&gt;
    账户3名称: &lt;input type=&quot;text&quot; name=&quot;accountMap[&#39;one&#39;].name&quot;/&gt;&lt;br/&gt;
    账户3金额: &lt;input type= &quot;text&quot; name= &quot;accountMap[&#39;one&#39;].money&quot;/&gt;&lt;br/&gt;
    账户4名称: &lt;input type=&quot;text&quot; name=&quot;accountMap[&#39;two&#39;].name&quot;/&gt;&lt;br/&gt;
    账户4金额: &lt;input type= &quot;text&quot; name= &quot;accountMap[&#39;two&#39;].money&quot;/&gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="line-numbers language-java">public class Account implements Serializable&#123;
    private String name;
    private Double money;
    //toString,getter,setter
&#125;
public class User implements Serializable&#123;
    private String username;
    private Integer age;
    private List&lt;Account&gt; accountList;
    private Map&lt;String,Account&gt; accountMap;
    //toString,getter,setter
&#125;	
</code></pre>
<pre><code class="line-numbers language-java">@RequestMapping(&quot;/updateAccount&quot;)
public String updateAccount(User user)&#123;
        System.out.printf(&quot;user:&quot; + user);
        return &quot;success&quot;;
&#125;
</code></pre>
<h4 id="使用Servlet-API作为入参"><a href="#使用Servlet-API作为入参" class="headerlink" title="使用Servlet API作为入参"></a>使用Servlet API作为入参</h4><pre><code class="line-numbers language-java">@RequestMapping(&quot;/handle1&quot;)
public void handle1(HttpServletRequest request, HttpServletResponse response)&#123;
&#125;
@RequestMapping(&quot;/handle2&quot;)
public String handle2(HttpSession session)&#123;
return &quot;success&quot; ;
&#125;
@RequestMapping(&quot;/handle3&quot;)
public String handle3(HttpServletRequest request,@RequestParam(&quot;userName&quot;) String userName)&#123;
return &quot;success&quot; ;
&#125;
</code></pre>
<h3 id="RequestParam表单参数处理"><a href="#RequestParam表单参数处理" class="headerlink" title="@RequestParam表单参数处理"></a>@RequestParam表单参数处理</h3><h4 id="方法的参数名与表单传参的name值相同"><a href="#方法的参数名与表单传参的name值相同" class="headerlink" title="方法的参数名与表单传参的name值相同"></a>方法的参数名与表单传参的name值相同</h4><ul>
<li>创建一个表单<pre><code class="line-numbers language-html">&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!--action指定controller中对应的方法路径即可!--&gt;
  &lt;form action=&quot;/login&quot; method=&quot;POST&quot;&gt;
      &lt;label for=&quot;username&quot;&gt;用户名:&lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; /&gt;&lt;/label&gt;
      &lt;label for=&quot;password&quot;&gt;密码:&lt;input type=&quot;text&quot; id=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;/label&gt;
      &lt;input type=&quot;submit&quot; value=&quot;登陆&quot;&gt;
  &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li>获取参数的控制器<pre><code class="line-numbers language-java">    //接收form表单
@RequestMapping(value = &quot;/login&quot;,method = RequestMethod.POST)
public  String login(String username,String password)&#123;
        System.out.println(&quot;username = &quot; + username);
        System.out.println(&quot;password = &quot; + password);
        return &quot;helloworld&quot;;
&#125;
</code></pre>
<strong>获取参数,只需要在对应的方法中添加参数即可,如果参数名与请求传参的name值相同即可直接赋值,注意:对应类型很重要,如果是普通的输入框,使用字符串即可,如果是多选框,可以使用List类型的参数接值!</strong><br><strong>如果参数名和name值相同,无需使用@RequestParam注解!</strong><br><strong>注意: 将基本类型转化成包装类型!</strong></li>
</ul>
<h4 id="方法的参数名与表单传参的name值不同"><a href="#方法的参数名与表单传参的name值不同" class="headerlink" title="方法的参数名与表单传参的name值不同"></a>方法的参数名与表单传参的name值不同</h4><ul>
<li>请求参数name的值与方法的参数名不同,我们还需要将指定的name对应参数传给方法的指定参数,这时,就不需要使用@RequestParam注解!</li>
<li>创建一个表单<pre><code class="line-numbers language-html">&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!--action指定controller中对应的方法路径即可!--&gt;
  &lt;form action=&quot;/login&quot; method=&quot;POST&quot;&gt;
      &lt;label for=&quot;username&quot;&gt;用户名:&lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;name&quot; /&gt;&lt;/label&gt;
      &lt;label for=&quot;password&quot;&gt;密码:&lt;input type=&quot;text&quot; id=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;/label&gt;
      &lt;input type=&quot;submit&quot; value=&quot;登陆&quot;&gt;
  &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li>获取参数的控制器<pre><code class="line-numbers language-java">    //接收form表单
  //如果客户端没有带参数，那么我们将得到null,我们不希望得到null,希望得到一个默认值,这个时候,我们还需要使用@RequestParam的defaultValue属性进行对应的设置。
@RequestMapping(value = &quot;/login&quot;,method = RequestMethod.POST)
public  String login(@RequestParam(value = &quot;name&quot;,defaultValue = &quot;ecit&quot;) String username,String password)&#123; 
        System.out.println(&quot;username = &quot; + username);
        System.out.println(&quot;password = &quot; + password);
        return &quot;helloworld&quot;;
&#125;
</code></pre>
</li>
</ul>
<h3 id="PathVariable获取路径参数"><a href="#PathVariable获取路径参数" class="headerlink" title="@PathVariable获取路径参数"></a>@PathVariable获取路径参数</h3><ul>
<li>带占位符的URL是Spring3.0新增的功能，该功能在SpringMVC向REST目标挺进发展过程中具有里程碑的意义</li>
<li>我们可以通过此注解,获取路径部分的数据!<br>例如: <a target="_blank" rel="noopener" href="http://localhost:8080/user/list/1">http://localhost:8080/user/list/1</a>   RESTful<br>传统：  <a target="_blank" rel="noopener" href="http://localhost:8080/user/list?id=1">http://localhost:8080/user/list?id=1</a><br>获取路径&#x2F;list&#x2F;后面1的数据!<pre><code class="line-numbers language-java">@RequestMapping(&quot;/user/list/&#123;id&#125;&quot;)
public  String getData(@PathVariable(value = &quot;id&quot;) Integer id)&#123;
      System.out.println(&quot;id = &quot; + id);
      return &quot;user-list&quot; ;
&#125;
</code></pre>
</li>
</ul>
<h3 id="CookieValue"><a href="#CookieValue" class="headerlink" title="@CookieValue"></a>@CookieValue</h3><ul>
<li>@CookieValue注解可以获取请求中的cookie<pre><code class="line-numbers language-java">@RequestMapping(&quot;/cookie&quot;)
public String testCookie(@CookieValue(&quot;JSESSIONID&quot;)String cookie)
&#123;
   System.out.println(&quot;cookie:&quot;+cookie);
   return &quot;success&quot;;
&#125;
</code></pre>
</li>
</ul>
<h3 id="RequestHeader"><a href="#RequestHeader" class="headerlink" title="@RequestHeader"></a>@RequestHeader</h3><ul>
<li>@RequestHeader注解可以获取请求头中的数据!<pre><code class="line-numbers language-java">@RequestMapping(&quot;/header&quot;)
public String testHeader(@CookieValue(&quot;JSESSIONID&quot;)String cookie,
                           @RequestHeader(&quot;User-Agent&quot;)String header)
&#123;
  System.out.println(&quot;cookie:&quot;+cookie);
  System.out.println(&quot;header:&quot;+header);
  return &quot;success&quot;;
&#125;
</code></pre>
</li>
</ul>
<h3 id="RequestBody-和-ResponseBody"><a href="#RequestBody-和-ResponseBody" class="headerlink" title="@RequestBody 和 @ResponseBody"></a>@RequestBody 和 @ResponseBody</h3><ul>
<li>这两个注解通常结合使用，处理涉及json格式的数据，使用他们还需要用到其它三个依赖包<pre><code class="line-numbers language-xml">&lt;dependency&gt;
          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
          &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
          &lt;version&gt;2.9.3&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
          &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;
          &lt;version&gt;2.9.3&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
          &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;
          &lt;version&gt;2.9.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
</ul>
<h4 id="原理理解-HttpMessageConverter转换器"><a href="#原理理解-HttpMessageConverter转换器" class="headerlink" title="原理理解 HttpMessageConverter转换器"></a>原理理解 HttpMessageConverter<T>转换器</h4><p><img src="/images/spring/json%E6%B6%89%E5%8F%8A%E7%9A%84%E8%BD%AC%E6%8D%A2%E5%99%A8%E5%8E%9F%E7%90%86.png"></p>
<ul>
<li>HttpMessageConverter<T>接口<br>&#96;&#96;&#96;java<br>HttpMessageConverter<T>是Spring3.0 新添加的一个接口，负责将请求信息转换为一个对象(类型为T) , 将对象(类型为T)输出为响应信息,HttpMessageConverter<T>接口定义的方法:</li>
<li>Boolean canRead(Class&lt;?&gt; clazz,MediaType mediaType):指定转换器<br>可以读取的对象类型，即转换器是否可将请求信息转换为clazz类型的对象,同时指定支持MIME类型(text&#x2F;html, applaiction&#x2F;json等)</li>
<li>Boolean canWrite(Class&lt;?&gt; clazz,MediaType mediaType):指定转换器是否可將clazz类型的对象写到响应流中，响应流支持的媒体类型。</li>
<li>List<Media Type> getSupportMediaTypes() :该转换器支持的媒体类型。</li>
<li>T read(Class&lt;? extends T&gt; clazz,HttpInputMessage inputMessage) :将请求信息流转换为T类型的对象。</li>
<li>void write(T t,MediaType contnetType,HttpOutputMessgae outputMessage):将T类型的对象写到响应流中，同时指定相应的媒体类型为contentType。<br>&#96;&#96;&#96;</li>
<li>HttpMessageConverter<T>接口的实现类</li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/images/spring/HttpMessageConverter%E5%AD%90%E7%B1%BB.png"></td>
<td align="center"><img src="/images/spring/HttpMessageConverter%E5%AD%90%E7%B1%BB%E8%AF%B4%E6%98%8E.png"></td>
</tr>
</tbody></table>
<ul>
<li>添加如下代码查看SpringMVC默认装配的有6个转换器<pre><code class="line-numbers language-java">@Autowired
RequestMappingHandlerAdapter requestMappingHandlerAdapter;
requestMappingHandlerAdapter.getMessageConverters().forEach(item-&gt; System.out.println(item) );
// 输出得到默认6个：
// org.springframework.http.converter.ByteArrayHttpMessageConverter@737bb4d1
// org.springframework.http.converter.StringHttpMessageConverter@55549cd7
// org.springframework.http.converter.ResourceHttpMessageConverter@549c773c
// org.springframework.http.converter.xml.SourceHttpMessageConverter@199dd163
// org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter@37ee23bd
// org.springframework.http.converter.xml.Jaxb2RootElementHttpMessageConverter@462db3b3
</code></pre>
</li>
<li>如果添加了处理json的那三个jar包，则会得到默认转配的7个转换器<pre><code class="line-numbers language-java">org.springframework.http.converter.ByteArrayHttpMessageConverter@2332b9dc
org.springframework.http.converter.StringHttpMessageConverter@266cb9c1
org.springframework.http.converter.ResourceHttpMessageConverter@577141fa
org.springframework.http.converter.xml.SourceHttpMessageConverter@739de07e
org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter@45575b88
org.springframework.http.converter.xml.Jaxb2RootElementHttpMessageConverter@6b65052
org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@5b15afef
</code></pre>
</li>
<li>使用HttpMessageConverter <T>将请求信息转化并绑定到处理方法的入参中或将响应结果转为对应类型的响应信息，Spring提供了两种途径:<br><strong>使用@RequestBody  @ResponseBody对处理方法进行标注.</strong><br><strong>使用HttpEntity <T> I ResponseEntity <T>作为处理方法的入参或返回值当控制器处理方法</strong><br>使用到@RequestBody&#x2F;@ResponseBody或HttpEntity<T>&#x2F;ResponseEntity<T>时, <strong>Spring首先根据请求头或响应头的Accept属性选择匹配的HttpMessageConverter</strong>，进而根据参数类型或泛型类型的过滤得到匹配的HttpMessageConverter , 若找不到可用的HttpMessageConverter将报错<br>@RequestBody和@ResponseBody不需要成对出现<pre><code class="line-numbers language-java">@RequestMapping(&quot;/picToByte&quot;)
@ResponseBody
public byte[] returnHttpMsg() throws IOException &#123;
      Resource res = new ClassPathResource(&quot;a92.jpg&quot;);
      byte[] mybyte = FileCopyUtils.copyToByteArray(res.getInputStream());
      return mybyte;
&#125;
//或
@RequestMapping(&quot;/picToByte2&quot;)
public ResponseEntity&lt;byte[]&gt; returnResponseEntityHttpMsg2() throws IOException&#123;
      Resource res = new ClassPathResource(&quot;a92.jpg&quot;);
      byte[] mybyte = FileCopyUtils.copyToByteArray(res.getInputStream());
      return new ResponseEntity&lt;byte[]&gt;(mybyte, HttpStatus.OK);
&#125;
</code></pre>
</li>
</ul>
<h4 id="MarshallingHttpMessageConverter-接收与返回xml数据自动转换为Java对象"><a href="#MarshallingHttpMessageConverter-接收与返回xml数据自动转换为Java对象" class="headerlink" title="MarshallingHttpMessageConverter 接收与返回xml数据自动转换为Java对象"></a>MarshallingHttpMessageConverter 接收与返回xml数据自动转换为Java对象</h4><ul>
<li><strong>返回时把对象转换为xml格式数据示例</strong><br>添加依赖<pre><code class="line-numbers language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;
  &lt;artifactId&gt;xstream&lt;/artifactId&gt;
  &lt;version&gt;1.4.10&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;/groupId&gt;
  &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;
  &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
创建一个对象类Employee,Department示例<pre><code class="line-numbers language-java">@Data
@NoArgsConstructor
@AllArgsConstructor
@XStreamAlias(&quot;department&quot;)
public class Department &#123;
  @XStreamAlias(&quot;depid&quot;)
  @XStreamAsAttribute //会在父节点属性显示
  private Integer id;
  private String departmentName; //默认作为父节点的子节点显示
&#125;
@Data
@XStreamAlias(&quot;employee&quot;)
public class Employee &#123;
  @XStreamAlias(&quot;id&quot;)
  @XStreamAsAttribute //会在父节点属性显示
  private Integer id;
  private String name;
  private String email;
  private List&lt;Department&gt; departments;
&#125;
</code></pre>
springmvc-servlet.xml配置对应转换器<pre><code class="line-numbers language-xml">&lt;mvc:annotation-driven conversion-service=&quot;conversionService&quot;&gt;
      &lt;mvc:message-converters&gt;
          &lt;bean class=&quot;org.springframework.http.converter.xml.MarshallingHttpMessageConverter&quot;&gt;
              &lt;property name=&quot;marshaller&quot; ref=&quot;marshallerHandler&quot; /&gt;
              &lt;property name=&quot;unmarshaller&quot; ref=&quot;marshallerHandler&quot;/&gt;
          &lt;/bean&gt;
      &lt;/mvc:message-converters&gt;
&lt;/mvc:annotation-driven&gt;
&lt;bean id=&quot;marshallerHandler&quot; class=&quot;org.springframework.oxm.xstream.XStreamMarshaller&quot;&gt;
      &lt;property name=&quot;streamDriver&quot;&gt;
          &lt;bean class=&quot;com.thoughtworks.xstream.io.xml.StaxDriver&quot;/&gt;
      &lt;/property&gt;
      &lt;property name=&quot;annotatedClasses&quot;&gt;
          &lt;list&gt;
              &lt;value&gt;com.ecit.controller.VO.Department&lt;/value&gt;
              &lt;value&gt;com.ecit.controller.VO.Employee&lt;/value&gt;
          &lt;/list&gt;
      &lt;/property&gt;
&lt;/bean&gt;
</code></pre>
<strong>测试返回对象转换为xml数据返回如下：</strong><pre><code class="line-numbers language-java">@RequestMapping(&quot;/employXML&quot;)
  @ResponseBody
  public Employee returnEmployXML()&#123;
      Employee employee  = new Employee();
      employee.setEmail(&quot;8430@163.com&quot;);
      employee.setId(1);
      employee.setName(&quot;风清扬&quot;);
      List&lt;Department&gt; departments = new ArrayList&lt;&gt;();
      departments.add(new Department(1,&quot;客服部门&quot;));
      departments.add(new Department(2,&quot;财务部门&quot;));
      employee.setDepartments(departments);
      return employee;
&#125;
//输出结果：
// &lt;?xml version=&quot;1.0&quot; ?&gt;
// &lt;employee id=&quot;1&quot;&gt;
//     &lt;name&gt;风清扬&lt;/name&gt;
//     &lt;email&gt;8430@163.com&lt;/email&gt;
//     &lt;departments&gt;
//         &lt;department depid=&quot;1&quot;&gt;
//             &lt;departmentName&gt;客服部门&lt;/departmentName&gt;
//         &lt;/department&gt;
//         &lt;department depid=&quot;2&quot;&gt;
//             &lt;departmentName&gt;财务部门&lt;/departmentName&gt;
//         &lt;/department&gt;
//     &lt;/departments&gt;
// &lt;/employee&gt;
</code></pre>
<strong>测试直接读取xml数据，然后转换为java对象</strong><pre><code class="line-numbers language-java">@RequestMapping(value = &quot;/employXML2&quot;,method = RequestMethod.POST,consumes =&quot;application/xml&quot;,produces =&quot;application/xml&quot;)
@ResponseBody
public Employee readEmployXML(@RequestBody Employee employee)&#123;
      System.out.printf(&quot;读取xml数据&quot; + employee);
      return employee;
&#125;
// 输出结果：
// 读取xml数据Employee(id=1, name=风清扬, email=8430@163.com, departments=[Department(id=1, departmentName=客服部门), Department(id=2, departmentName=财务部门)]) 
</code></pre>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/images/spring/xml%E8%BD%AC%E6%8D%A21.png"></td>
<td align="center"><img src="/images/spring/xml%E8%BD%AC%E6%8D%A22.png"></td>
</tr>
</tbody></table>
<h4 id="RequestBody原始接收key-x3D-value-amp-key2-x3D-value2"><a href="#RequestBody原始接收key-x3D-value-amp-key2-x3D-value2" class="headerlink" title="@RequestBody原始接收key&#x3D;value&amp;key2&#x3D;value2"></a>@RequestBody原始接收key&#x3D;value&amp;key2&#x3D;value2</h4><ul>
<li>使用说明<br> 作用:<br> <strong>用于获取请求体内容。直接使用得到是key&#x3D;value&amp;key2&#x3D;value2.. .结构的数据。get请求方式不适用。</strong><br> 属性:<br> reguired:是否必须有请求体。默认值是:true。当取值为true时，get请求方式会报错。如果取值为false; get 请求得到是null</li>
<li>表单<pre><code class="line-numbers language-html">&lt;html&gt;
&lt;body&gt;
&lt;form action= &quot;/doLogin&quot; method= &quot;post&quot;&gt;
  账户: &lt;input type= &quot;text&quot; name=&quot;username&quot; /&gt;&lt;br/&gt;
  密码: &lt;input type= &quot;password&quot; name=&quot;password&quot; /&gt;&lt;br/&gt;
  &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li>控制器<pre><code class="line-numbers language-java">@RequestMapping(&quot;/doLogin&quot;)
public String doLogin(@RequestBody String body)&#123; //针对上述表单仅且只能这样接收
      System.out.printf(&quot;body:&quot; + body);
      return &quot;success&quot;;
&#125;
</code></pre>
</li>
<li>测试结果<pre><code class="line-numbers language-java">输出:
body:password=123456&amp;username=admin
</code></pre>
<h4 id="RequestBody直接使用对象接收"><a href="#RequestBody直接使用对象接收" class="headerlink" title="@RequestBody直接使用对象接收"></a>@RequestBody直接使用对象接收</h4></li>
<li>表单<pre><code class="line-numbers language-html">&lt;html&gt;
&lt;head&gt;
  &lt;script src=&quot;https://cdn.bootcss.com/jquery/3.4.1/jquery.js&quot;&gt;
  &lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      $(document).ready(function () &#123;
          $(&quot;#submit&quot;).click(function () &#123;
              var paramdata = &#123; // 注意这里会是key=val&amp;key2=val2这种形式
                  username:$(&quot;#username&quot;).val(),
                  password:$(&quot;#password&quot;).val()
              &#125;;
              $.ajax(&#123;
                  url: &quot;/doLogin2&quot;,
                  type: &quot;POST&quot;,
                  data: JSON.stringify(paramdata), //注意转为json
                  headers : &#123;&quot;Content-Type&quot; : &quot;application/json;charset=utf-8&quot;&#125;,
                  success: function (data) &#123;
                      alert(&quot;request success! return data&quot; + data)
                  &#125;
              &#125;);
          &#125;);
      &#125;)
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form id=&quot;myform&quot;&gt;
  账户: &lt;input id=&quot;username&quot; type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br/&gt;
  密码: &lt;input id=&quot;password&quot; type=&quot;password&quot; name=&quot;password&quot;/&gt;&lt;br/&gt;
  &lt;input type=&quot;button&quot; id=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li>VO实体<pre><code class="line-numbers language-java">public class Login &#123;
  private String username;
  private String password;
  //toString,getter,setter
&#125;
</code></pre>
</li>
<li>控制器接收<pre><code class="line-numbers language-java">@RequestMapping(value = &quot;/doLogin2&quot;)
public String doLogin2(@RequestBody Login login)&#123;
      System.out.println(&quot;login:&quot; + login);
      return &quot;success&quot;;
&#125;
</code></pre>
</li>
<li>测试，输出值暂且 账户：admin,密码:123456<pre><code class="line-numbers language-java">输出结果：
login:Login&#123;username=&#39;admin&#39;, password=&#39;123456&#39;&#125;
</code></pre>
</li>
</ul>
<h4 id="ResponseBody直接把返回的对象转json返回"><a href="#ResponseBody直接把返回的对象转json返回" class="headerlink" title="@ResponseBody直接把返回的对象转json返回"></a>@ResponseBody直接把返回的对象转json返回</h4><pre><code class="line-numbers language-java">@RequestMapping(value = &quot;/doLogin2&quot;)
@ResponseBody                          
public Login doLogin2(@RequestBody Login login)&#123;
        System.out.println(&quot;login:&quot; + login);
        return login;
&#125;
</code></pre>
<h4 id="自定义类型转换–日期接收为例"><a href="#自定义类型转换–日期接收为例" class="headerlink" title="自定义类型转换–日期接收为例"></a>自定义类型转换–日期接收为例</h4><ul>
<li>带时间控件的表单<pre><code class="line-numbers language-html">&lt;html&gt;
&lt;body&gt;
&lt;form action= &quot;/updateDate&quot; method= &quot;post&quot;&gt;
  时间: &lt;input type= &quot;datetime-local&quot; name=&quot;dateTime&quot; /&gt;&lt;br/&gt;
  &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li>自定义类型转换器，<pre><code class="line-numbers language-java">import org.springframework.core.convert.converter.Converter;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
public class StringDateTimeConvertDateTime implements Converter&lt;String, Date&gt; &#123;
  @Override
  public Date convert(String source) &#123;
      if (source == null || source.length() &lt;= 0) &#123;
          throw new RuntimeException(&quot;时间字段不能为空&quot;);
      &#125;
      SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;);
      try &#123;
          return simpleDateFormat.parse(source);
      &#125; catch (ParseException e1) &#123;
          throw new RuntimeException(&quot;时间字段转换异常&quot;);
      &#125;
  &#125;
&#125;
</code></pre>
</li>
<li>自定义的转换器注册到服务中<pre><code class="line-numbers language-xml">&lt;!--配置自定义类型转换器:它的配置方式是采用注册服务的方式来实现的。--&gt;
&lt;bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;
      &lt;property name=&quot;converters&quot;&gt;
          &lt;set&gt;
              &lt;bean class=&quot;com.ecit.controller.utils.StringDateTimeConvertDateTime&quot;&gt;&lt;/bean&gt;
          &lt;/set&gt;
      &lt;/property&gt;
&lt;/bean&gt;
  &lt;!--1.注解驱动  HandlerMapping  HandlerAdapter ,添加转换器服务--&gt;
&lt;mvc:annotation-driven conversion-service=&quot;conversionService&quot;&gt;&lt;/mvc:annotation-driven&gt;
</code></pre>
</li>
<li>测试<pre><code class="line-numbers language-java">@RequestMapping(&quot;/updateDate&quot;)
public String updateDateTime(Date dateTime)&#123;
      System.out.printf(&quot;dateTime:&quot; + dateTime);
      return &quot;success&quot;;
&#125;
</code></pre>
</li>
</ul>
<h2 id="转发和重定向"><a href="#转发和重定向" class="headerlink" title="转发和重定向"></a>转发和重定向</h2><ul>
<li>转发: forward,服务器端跳转</li>
<li>重定向:redirect,浏览器端跳转<pre><code class="line-numbers language-java">@RequestMapping(value= &quot;/forward&quot;)
public String forward()&#123;
      return &quot;forward:/hello2&quot;;
&#125;
@RequestMapping(value= &quot;/redirect&quot;)
public String redirect()&#123;
      return &quot;redirect:/hello2&quot;;
&#125;
@RequestMapping(&quot;/hello2&quot;)
public ModelAndView helloWithMsg(HttpServletRequest arg0, HttpServletResponse arg1) throws Exception &#123;
      ModelAndView mv = new ModelAndView();
      mv.addObject(&quot;message&quot;,&quot;Welcome learning SpringMVC&quot;);
      mv.addObject(&quot;title&quot;,&quot;Hello&quot;);
      mv.setViewName(&quot;success&quot;);
      return mv;
&#125;
</code></pre>
</li>
</ul>
<h2 id="SpringMVC参数乱码–针对post方式的"><a href="#SpringMVC参数乱码–针对post方式的" class="headerlink" title="SpringMVC参数乱码–针对post方式的"></a>SpringMVC参数乱码–针对post方式的</h2><ul>
<li>在web.xml配置文件中添加spring自带的Filter设置编码格式<pre><code class="line-numbers language-xml">&lt;filter&gt;
  &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
  &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;encoding&lt;/param-name&gt;
    &lt;param-value&gt;UTF-8&lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;forceEncoding&lt;/param-name&gt;
    &lt;param-value&gt;true&lt;/param-value&gt;
  &lt;/init-param&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
  &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</code></pre>
</li>
<li>Spring MVC中 GET方式不会乱码!<br>get请求方式:<br><strong>tomacat对GET和POST请求处理方式是不同的，GET 请求的编码问题，要改tomcat的server.xml配置文件，如下:</strong><pre><code class="line-numbers language-xml">&lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080” protocol=&quot;HTTP/1.1&quot; redirestRort=&quot;8443&quot;/&gt;改为:
&lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1” redirectRort=&quot;8443” useBodyEncodingForURI=&quot;true&quot;/&gt;
如果遇到ajax请求仍然乱码，请把:
useBodyEncodingForURI=&quot;true&quot; 改为 URIEncoding=&quot;UTF-8&quot; 即可。
</code></pre>
</li>
</ul>
<h2 id="处理模型数据"><a href="#处理模型数据" class="headerlink" title="处理模型数据"></a>处理模型数据</h2><ul>
<li>SpringMVC提供了以下几种途径输出模型数据:</li>
</ul>
<h3 id="ModelAndView"><a href="#ModelAndView" class="headerlink" title="ModelAndView"></a>ModelAndView</h3><ul>
<li>处理方法返回值类型为ModelAndView时,则其既包含视图信息，也包含模型数据信息。<pre><code class="line-numbers language-java">//添加模型数据: .
MoelAndView addObject(String attributeName, Object attributeValue)
ModelAndView addAllObject(Map&lt;String, ?&gt; modelMap)
//设置视图:
void setView(View view)
void setViewName(String viewName)
</code></pre>
</li>
</ul>
<h3 id="Map及Model"><a href="#Map及Model" class="headerlink" title="Map及Model"></a>Map及Model</h3><ul>
<li>Spring MVC在内部使用了一个rg.springframework.ui.Model接口存储模型数据，Spring MVC在调用方法前会创建一个隐含的模型对象作为模型数据的存储容器。如果方法的入参为Map或Model类型, Spring MVC会将隐含模型的引用传递给这些入参。在方法体内，开发者可以通过这个入参对象访问到模型中的所有数据，也可以向模型中添加新的属性数据</li>
</ul>
<h3 id="SessionAttrilbutes"><a href="#SessionAttrilbutes" class="headerlink" title="@SessionAttrilbutes"></a>@SessionAttrilbutes</h3><ul>
<li>将模型中的某个属性暂存到HttpSession中，以便多个请求之间可以共享这个属性<br>@SessionAttributes除了可以通过属性名指定需要放到会话中的属性外，还可以通过模型属性的对象类型指定哪些模型属性需要放到会话中<br>@SessionAttributes(types&#x3D;User.class)会将隐含模型中所有类型为User.class的属性添加到会话中。<br>@SessionAttributes(value&#x3D;{“user1”,“user2”})<br>@SessionAttributes(types&#x3D;{User.class, Dept.class})<br>@SessionAttributes(value&#x3D;{“user1”,“user2”},types&#x3D;{Dept.class})<pre><code class="line-numbers language-html">&lt;a href=&quot;/testPut&quot;&gt;存入SessionAttribute&lt;/a&gt;
&lt;hr/&gt;
&lt;a href=&quot;/testGet&quot;&gt;取出SessionAttribute&lt;/a&gt; &lt;hr/&gt;
&lt;a href=&quot;/testClean&quot;&gt;清除SessionAttribute&lt;/a&gt;
</code></pre>
<pre><code class="line-numbers language-java">import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.SessionAttributes;
import org.springframework.web.bind.support.SessionStatus;
@SessionAttributes(value = &#123;&quot;username&quot;, &quot;password&quot;&#125;, types = &#123;Integer.class&#125;)
@Controller
public class UserController &#123;
  /**
   * 把数据存入 SessionAttribute * @param model
   *
   * @return Model 是 spring 提供的一个接口，该接口有一个实现类 ExtendedModelMap
   * 该类继承了 ModelMap，而 ModelMap 就是 LinkedHashMap 子类
   */
  @RequestMapping(&quot;/testPut&quot;)
  public String testPut(Model model) &#123;
      model.addAttribute(&quot;username&quot;, &quot;admin&quot;);
      model.addAttribute(&quot;password&quot;, &quot;123456&quot;);
      model.addAttribute(&quot;age&quot;, 31);
      //跳转之前将数据保存到 username、password 和 age 中，因为注解@SessionAttribute 中有 这几个参数
      return &quot;success&quot;;
  &#125;
  @RequestMapping(&quot;/testGet&quot;)
  public String testGet(ModelMap model) &#123;
      System.out.println(model.get(&quot;username&quot;) + &quot;;&quot; + model.get(&quot;password&quot;) + &quot;;&quot; + model.get(&quot;age&quot;));
      return &quot;success&quot;;
  &#125;
  @RequestMapping(&quot;/testClean&quot;)
  public String complete(SessionStatus sessionStatus) &#123;
      sessionStatus.setComplete();
      return &quot;success&quot;;
  &#125;
&#125;
// 输出结果：
// admin;123456;31
// null;null;null      清除session再获取时的结果
</code></pre>
</li>
</ul>
<h3 id="ModelAttribute"><a href="#ModelAttribute" class="headerlink" title="@ModelAttribute"></a>@ModelAttribute</h3><ul>
<li>使用说明</li>
<li>作用:该注解是SpringMVC4.3版本以后新加入的。<strong>它可以用于修饰方法和参数</strong>。出现在方法上，<strong>表示当前方法会在控制器的方法执行之前，先执行</strong>。它可以修饰没有返回值的方法，也可<br> 以修饰有具体返回值的方法。<br> <strong>出现在参数上，获取指定的数据给参数赋值。</strong></li>
<li>属性:<br> value:用于获取数据的keyo。key可以是POJO的属性名称，也可以是map结构的key。</li>
<li>应用场景:<br> 当表单提交数据不是完整的实体类数据时，保证没有提交数据的字段使用数据库对象原来的数据。例如:我们在编辑一个用户时，用户有一个创建信息字段，该字段的值是不允许被修改的。在提交表单数据是肯定没有此字段的内容，一旦更新会把该字段内容置为null,此时就可以使用此注解解决问题。</li>
</ul>
<h4 id="基于POJO属性的基本使用"><a href="#基于POJO属性的基本使用" class="headerlink" title="基于POJO属性的基本使用:"></a>基于POJO属性的基本使用:</h4><ul>
<li>jsp代码<pre><code class="line-numbers language-jsp">&lt;a href=&quot;/doModelAtt?username=system&quot;&gt;doModelAtt&lt;/a&gt;
</code></pre>
</li>
<li>控制器<pre><code class="line-numbers language-java">@ModelAttribute
public void showModel(Login user) &#123;
      System.out.println(&quot;执行了 showModel 方法,Login:&quot; + user);
&#125;
@RequestMapping(value = &quot;/doModelAtt&quot;)
public String doModelAtt(Login login)&#123;
      System.out.println(&quot;执行doModelAtt方法, login:&quot; + login);
      return &quot;success&quot;;
&#125;
// 输出结果：
// 执行了 showModel 方法,Login:Login&#123;username=&#39;system&#39;, password=&#39;null&#39;&#125;
// 执行doModelAtt方法, login:Login&#123;username=&#39;system&#39;, password=&#39;null&#39;&#125;
</code></pre>
</li>
</ul>
<h4 id="基于-Map-的应用场景示例-ModelAttribute-修饰方法带返回值"><a href="#基于-Map-的应用场景示例-ModelAttribute-修饰方法带返回值" class="headerlink" title="基于 Map 的应用场景示例:ModelAttribute 修饰方法带返回值"></a>基于 Map 的应用场景示例:ModelAttribute 修饰方法带返回值</h4><ul>
<li>需求:修改用户信息，要求 用户的密码不能修改<pre><code class="line-numbers language-html">&lt;form action=&quot;/doModelAtt2&quot; method=&quot;post&quot;&gt;
  用户名称:&lt;input type=&quot;text&quot; name=&quot;username&quot; &gt;&lt;br/&gt;
  &lt;input type=&quot;submit&quot; value=&quot;保存&quot;&gt;
&lt;/form&gt;
</code></pre>
<pre><code class="line-numbers language-java">@ModelAttribute
public Login showModel2(String username) &#123;
      //模拟去数据库查询
      Login abc = new Login();
      abc.setPassword(&quot;123456&quot;);
      abc.setUsername(username);
      System.out.println(&quot;执行了 showModel 方法&quot;+abc);
      return abc; 
&#125;
 @RequestMapping(&quot;/doModelAtt2&quot;)
public String doModelAtt2(Login user) &#123;
      System.out.println(&quot;控制器中处理请求的方法:修改用户:&quot;+user);
      return &quot;success&quot;;
&#125;
// 输出结果：
// 执行了 showModel 方法Login&#123;username=&#39;system&#39;, password=&#39;123456&#39;&#125;
// 控制器中处理请求的方法:修改用户:Login&#123;username=&#39;system&#39;, password=&#39;123456&#39;&#125;
</code></pre>
</li>
</ul>
<h4 id="基于-Map-的应用场景示例-ModelAttribute-修饰方法不带返回值"><a href="#基于-Map-的应用场景示例-ModelAttribute-修饰方法不带返回值" class="headerlink" title="基于 Map 的应用场景示例:ModelAttribute 修饰方法不带返回值"></a>基于 Map 的应用场景示例:ModelAttribute 修饰方法不带返回值</h4><ul>
<li>需求:修改用户信息，要求 用户的密码不能修改<pre><code class="line-numbers language-html">&lt;form action=&quot;/doModelAtt3&quot; method=&quot;post&quot;&gt;
  用户名称:&lt;input type=&quot;text&quot; name=&quot;username&quot; &gt;&lt;br/&gt;
  &lt;input type=&quot;submit&quot; value=&quot;保存&quot;&gt;
&lt;/form&gt;
</code></pre>
<pre><code class="line-numbers language-java">@ModelAttribute
public void showModel3(String username,Map&lt;String,Login&gt; map) &#123;
      //模拟去数据库查询
      Login abc = new Login();
      abc.setPassword(&quot;123456&quot;);
      abc.setUsername(username);
      System.out.println(&quot;执行了 showModel3 方法&quot;+abc);
      map.put(&quot;abc&quot;,abc);
&#125;
@RequestMapping(&quot;/doModelAtt3&quot;)
public String doModelAtt3(@ModelAttribute(&quot;abc&quot;)Login user) &#123;
      System.out.println(&quot;控制器中处理请求的方法:修改用户:&quot;+user);
      return &quot;success&quot;; 
&#125;
</code></pre>
</li>
</ul>
<h3 id="InitBinder"><a href="#InitBinder" class="headerlink" title="@InitBinder"></a>@InitBinder</h3><ul>
<li>由@InitBinder标识的方法,可以对WebDataBinder对象进行初始化。WebDataBinder 是DataBinder的子类,用于完成由表单字段到JavaBean属性的绑定</li>
<li>@InitBinder方法不能有返回值,它必须声明为void。</li>
<li>@InitBinder方法的参数通常是是WebDataBinder<h4 id="数据绑定流程"><a href="#数据绑定流程" class="headerlink" title="数据绑定流程"></a>数据绑定流程</h4><img src="/images/spring/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E6%B5%81%E7%A8%8B.png"></li>
</ul>
<h3 id="数据格式化"><a href="#数据格式化" class="headerlink" title="数据格式化"></a>数据格式化</h3><ul>
<li>对属性对象的输入&#x2F;输出进行格式化，从其本质上讲依然属于“类型转换”的范畴。Spring在格式化模块中定义了一个实现ConversionService接口的FormattingConversionService 实现类，该实现类扩展了GenericConversionService，因此它既具有类型转换的功能，又具有格式化的功能.<br>FormattingConversionService拥有一个FormattingConversionServiceFactroyBean 工厂类,后者用于在Spring上下文中构造前者</li>
<li>FormattingConversionServiceFactroyBean内部已经注册了:</li>
<li>NumberFormatAnnotationFormatterFactroy :支持对数字类型的属性使用@NumberFormat注解</li>
<li>JodaDateTimeFormatAnnotationFormatterFactroy :支持对日期类型的属性使用@DateTimeFormat注解<br>装配了FormattingConversionServiceFactroyBean后, 就可以在SpringMVC入参绑定及模型数据输出时使用注解驱动了。<pre><code class="line-numbers language-xml">&lt;mvc:annotation-driven/&gt; 默认创建的ConversionService实 例即为FormattingConversionServiceFactroyBean
</code></pre>
<h4 id="日期格式化"><a href="#日期格式化" class="headerlink" title="日期格式化"></a>日期格式化</h4></li>
<li>@DateTimeFormat注解可对java.util.Date、java.uti.Calendar 、java.long.Long 时 间类型进行标注:<br> pattern属性:类型为字符串。指定解析&#x2F;格式化字段数据的模式,如:”yyyy-MM-dd hh:mm:ss</li>
<li>iso属性:类型为DateTimeFormat.ISO。 指定解析&#x2F;格式化字段数据的ISO模式，包括四种: ISO.NONE (不使用) -默认、ISO.DATE(yyyy-MM-dd) 、ISO.TIME(hh:mm:ss.SSSZ)、ISO.DATE_TIME(yyyy-MM-dd hh:mm:ss.SSSZ)</li>
<li>style属性:字符串类型。通过样式指定日期时间的格式，由两位字符组成，第一位表示日期的格式，第二位表示时间的格式: S :短日期&#x2F;时间格式、M:中日期&#x2F;时间格式、L:长日期&#x2F;时间格式、F:完整日期&#x2F;时间格式、-:忽略日期或时间格式</li>
</ul>
<h4 id="数值格式化"><a href="#数值格式化" class="headerlink" title="数值格式化"></a>数值格式化</h4><ul>
<li>@NumberFormat 可对类似数字类型的属性进行标注，它拥有两个互斥的属性:</li>
<li>style :类型为NumberFormat.Style。用于指定样式类型，包括三种: Style.NUMBER (正常数字类型)、Style.CURRENCY (货币类型)、 Style.PERCENT (百分数类型)</li>
<li>pattern :类型为String， 自定义样式,如pattern&#x3D;”#,###” ;</li>
</ul>
<h2 id="SpringMVC-JSR303-Validation"><a href="#SpringMVC-JSR303-Validation" class="headerlink" title="SpringMVC-JSR303-Validation"></a>SpringMVC-JSR303-Validation</h2><ul>
<li>Spring3支持JSR-303验证框架，JSR-303 是JAVA EE 6 中的一项子规范，叫做Bean Validation，官方参考实现是Hibernate Validator（与Hibernate ORM 没有关系），JSR303 用于对Java Bean 中的字段的值进行验证。</li>
<li>依赖的jar<pre><code class="line-numbers language-xml">&lt;dependency&gt;
   &lt;groupId&gt;javax.validation&lt;/groupId&gt;
   &lt;artifactId&gt;validation-api&lt;/artifactId&gt;
   &lt;version&gt;2.0.1.Final&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
  &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
  &lt;version&gt;5.2.1.Final&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>在SpringMVC-servlet.xml配置validator<pre><code class="line-numbers language-xml">&lt;!-- 校验器 --&gt;
&lt;bean id=&quot;validator&quot;
        class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;&gt;
      &lt;!-- 校验器--&gt;
      &lt;property name=&quot;providerClass&quot; value=&quot;org.hibernate.validator.HibernateValidator&quot; /&gt;
      &lt;!-- 指定校验使用的资源文件，如果不指定则默认使用classpath下的ValidationMessages.properties --&gt;
      &lt;property name=&quot;validationMessageSource&quot; ref=&quot;messageSource&quot; /&gt;
&lt;/bean&gt;
  &lt;!-- 校验错误信息配置文件 --&gt;
&lt;bean id=&quot;messageSource&quot;
        class=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;
      &lt;!-- 资源文件名--&gt;
      &lt;property name=&quot;basenames&quot;&gt;
          &lt;list&gt;
              &lt;value&gt;classpath:errors&lt;/value&gt;&lt;!--errors.properties的中文一定要用Unicode码--&gt;
          &lt;/list&gt;
      &lt;/property&gt;
      &lt;!-- 资源文件编码格式 --&gt;
      &lt;property name=&quot;fileEncodings&quot; value=&quot;utf-8&quot; /&gt;
      &lt;!-- 对资源文件内容缓存时间，单位秒 --&gt;
      &lt;property name=&quot;cacheSeconds&quot; value=&quot;120&quot; /&gt;
&lt;/bean&gt;
</code></pre>
</li>
<li>将validator加到处理器适配器</li>
<li>配置方式1<br> <code>xml  &lt;mvc:annotation-driven validator=&quot;validator&quot;&gt; &lt;/mvc:annotation-driven&gt;  </code>	</li>
<li>配置方式2<pre><code class="line-numbers language-xml">&lt;!-- 自定义webBinder --&gt;
&lt;bean id=&quot;customBinder&quot;
      class=&quot;org.springframework.web.bind.support.ConfigurableWebBindingInitializer&quot;&gt;
    &lt;property name=&quot;validator&quot; ref=&quot;validator&quot; /&gt;
&lt;/bean&gt;
&lt;!-- 注解适配器 --&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;
    &lt;property name=&quot;webBindingInitializer&quot; ref=&quot;customBinder&quot;&gt;&lt;/property&gt;
&lt;/bean&gt;
</code></pre>
</li>
<li>添加验证规则<pre><code class="line-numbers language-java">public class User implements Serializable&#123;
  @NotNull(message = &quot;&#123;field.is.not.null&#125;&quot;)
  @Size(min = 6,max = 20,message = &quot;&#123;field.rang.error&#125;&quot;)
  private String username;
  @Min(value = 18,message = &quot;&#123;field.must.be.greater.than.min&#125;&quot;)
  private Integer age;
&#125;
</code></pre>
</li>
<li>自定义errors.properties，放入项目classpath路径下<pre><code class="line-numbers language-xml">field.is.not.null=&#123;field&#125;\u4e0d\u80fd\u4e3a\u7a7a
field.is.not.empty=&#123;field&#125;\u4e0d\u80fd\u4e3a\u7a7a\u6216\u8005\u7a7a\u5b57\u7b26\u4e32
field.must.be.greater.than.min=&#123;field&#125;\u4e0d\u80fd\u5c0f\u4e8e&#123;value&#125;
field.must.be.letter.than.max=&#123;field&#125;\u4e0d\u80fd\u5927\u4e8e&#123;value&#125;
field.rang.error=\u4e0d\u5728\u8303\u56f4\u533a\u95f4
email.error.info=\u4e0d\u662f\u90ae\u7bb1\u683c\u5f0f
</code></pre>
</li>
<li>定义全局ValidationExceptionResovler解析器<pre><code class="line-numbers language-java">import lombok.extern.slf4j.Slf4j;
import org.springframework.validation.BindException;
import org.springframework.validation.BindingResult;
import org.springframework.validation.ObjectError;
import org.springframework.web.bind.MethodArgumentNotValidException;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver;
import org.springframework.web.servlet.view.json.MappingJackson2JsonView;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.List;
import java.util.Map;
import java.util.TreeMap;
@Slf4j
public class ValidationExceptionResovler extends AbstractHandlerExceptionResolver &#123;
  public ValidationExceptionResovler() &#123;
      // 设置order，在DefaultHandlerExceptionResolver之前执行
      this.setOrder(0);
  &#125;
  @ResponseBody
  protected ModelAndView handleMethodArgumentNotValidException(BindingResult bindingResult, HttpServletRequest request, HttpServletResponse response, Object handler) throws IOException
  &#123;
      List&lt;ObjectError&gt; errors = bindingResult.getAllErrors();
      StringBuffer errmsgBF = new StringBuffer();
      for (ObjectError error : errors) &#123;
          String massage = error.getDefaultMessage();
          errmsgBF.append(massage);
          errmsgBF.append(&quot;||&quot;);
      &#125;
      String errmsgString = errmsgBF.toString();
      errmsgString = errmsgString.length() &gt; 2 ? errmsgString.substring(0, errmsgString.length() - 2) : errmsgString;
      log.error(&quot;Validation failed!&#123;&#125;&quot;,errmsgString);
      Map&lt;String, Object&gt; map = new TreeMap&lt;String, Object&gt;();
      map.put(&quot;success&quot;, false);
      map.put(&quot;errorCode&quot;, &quot;9999&quot;);
      map.put(&quot;errorMsg&quot;, errmsgString);
      ModelAndView mav = new ModelAndView();
      MappingJackson2JsonView view = new MappingJackson2JsonView();
      view.setAttributesMap(map);
      mav.setView(view);
      return mav;
  &#125;
  @Override
  protected ModelAndView doResolveException(HttpServletRequest request,
                                            HttpServletResponse response, Object handler,
                                            Exception ex) &#123;
      BindingResult bindingResult = null;
      if (ex instanceof MethodArgumentNotValidException) &#123;
          bindingResult = ((MethodArgumentNotValidException) ex).getBindingResult();
      &#125; else if (ex instanceof BindException) &#123;
          bindingResult = ((BindException) ex).getBindingResult();
      &#125; else &#123;
          //other exception , ignore
      &#125;
      if (bindingResult != null) &#123;
          try &#123;
              return handleMethodArgumentNotValidException(bindingResult, request, response, handler);
          &#125; catch (IOException e) &#123;
              log.error(&quot;doResolveException: &quot;, e);
          &#125;
      &#125;
      return null;
  &#125;
&#125;
</code></pre>
</li>
<li>测试校验<pre><code class="line-numbers language-java">@RequestMapping(&quot;/testUser&quot;)
public String item(@Validated User items) &#123;
      System.out.println(&quot;items:&quot; + items);
          return &quot;success&quot;;
&#125;
// 输出结果：
// &#123;&quot;errorCode&quot;:&quot;9999&quot;,&quot;success&quot;:false,&quot;errorMsg&quot;:&quot;不在范围区间||&#123;field&#125;不能小于18&quot;&#125;
</code></pre>
</li>
</ul>
<h2 id="视图和视图解析器"><a href="#视图和视图解析器" class="headerlink" title="视图和视图解析器"></a>视图和视图解析器</h2><p><img src="/images/spring/%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90.png"></p>
<ul>
<li>请求处理方法执行完成后，最终返回- -个ModelAndView对象。对于那些返回String，View 或ModeMap等类型的处理方法，Spring MVC也会在内部将它们装配成一一个ModelAndView对象，它包含了逻辑名和模型对象的视图</li>
<li>Spring MVC借助视图解析器(ViewResolver )得到最终的视图对象(View) ，最终的视图可以是JSP , 也可能是Excel、JFreeChart 等各种表现形式的视图</li>
<li>对于最终究竟采取何种视图对象对模型数据进行渲染，处理器并不关心，处理器工作重点聚焦在生产模型数据的工作上，从而实现MVC的充分解耦</li>
</ul>
<h3 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h3><ul>
<li>视图的作用是渲染模型数据，将模型里的数据以某种形式呈现给客户。为了实现视图模型和具体实现技术的解耦，Spring在org.springframework.web.servlet包中定义了一个高度抽象的View接口.</li>
<li><strong>视图对象由视图解析器负责实例化。由于视图是无状态的，所以他们不会有线程安全的问题</strong></li>
</ul>
<h4 id="常见视图实现类"><a href="#常见视图实现类" class="headerlink" title="常见视图实现类"></a>常见视图实现类</h4><p><img src="/images/spring/%E5%B8%B8%E8%A7%81%E8%A7%86%E5%9B%BE%E5%AE%9E%E7%8E%B0%E7%B1%BB.png"></p>
<h4 id="Excel视图"><a href="#Excel视图" class="headerlink" title="Excel视图"></a>Excel视图</h4><ul>
<li>若希望使用Excel展示数据列表，仅<strong>需要扩展SpringMVC提供的AbstractExcelView或AbstractJExcelView即可</strong>。实现buildExcelDocument()方法，在方法中使用模型数据对象构建Excel文档就可以了。</li>
<li>AbstractExcelView基于POI API，而AbstractJExcelView是基于JExcelAPI的。视图对象需要配置I0C容器中的-一个Bean，使用BeanNameViewResolver作为视图解析器即可</li>
<li>若希望直接在浏览器中直接下载Excel文档，则可以设置响应头Content-Disposition 的值为attachment;filename&#x3D;xxx.xls</li>
</ul>
<h3 id="视图解析器"><a href="#视图解析器" class="headerlink" title="视图解析器"></a>视图解析器</h3><ul>
<li>SpringMVC为逻辑视图名的解析提供了不同的策略，可以在SpringWEB上下文中配置一种或多种解析策略，并指定他们之间的先后顺序。每一种映射策略对应一个具体的视图解析器实现类。</li>
<li>视图解析器的作用比较单一:将逻辑视图解析为一个具体的视图对象。</li>
<li>所有的视图解析器都必须实现ViewResolver接口</li>
</ul>
<h4 id="常见视图解析器"><a href="#常见视图解析器" class="headerlink" title="常见视图解析器"></a>常见视图解析器</h4><p><img src="/images/spring/%E5%B8%B8%E8%A7%81%E7%9A%84%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8%E5%AE%9E%E7%8E%B0%E7%B1%BB.png"></p>
<ul>
<li>可以选择一种视图解析器或混用多种视图解析器</li>
<li>每个视图解析器都实现了Ordered接口并开放出一个order属性，可以通过order属性指定解析器的优先顺序，order 越小优先级越高。</li>
<li>SpringMVC会按视图解析器顺序的优先顺序对逻辑视图名进行解析，直到解析成功并返回视图对象，否则将抛出ServletException异常</li>
</ul>
<h4 id="BeanNameViewResolver的使用-输出excel-amp-pdf"><a href="#BeanNameViewResolver的使用-输出excel-amp-pdf" class="headerlink" title="BeanNameViewResolver的使用(输出excel&amp;pdf)"></a>BeanNameViewResolver的使用(输出excel&amp;pdf)</h4><pre><code class="line-numbers language-java">@Data
public class User implements Serializable&#123;
    private String username;
    private Integer age;
    private Date birthday;
    private String name;
&#125;
</code></pre>
<pre><code class="line-numbers language-java">@RequestMapping(&quot;/exportUserExcel&quot;)
public String exportUserExcel(ModelMap mm)&#123;
        List&lt;User&gt; userList = new ArrayList&lt;User&gt;();
        for(int i = 0 ; i &lt; 101; i ++)&#123;
            User user = new User();
            user.setAge(i);
            user.setBirthday(new Date());
            user.setName(&quot;ecit-excel&quot; + i );
            userList.add(user);
        &#125;
        mm.put(&quot;userList&quot;, userList);
        return &quot;userListExcel&quot;;
&#125;
@RequestMapping(&quot;/exportUserPdf&quot;)
public String exportPdf(Model model) &#123;
        model.addAttribute(DATA, data());
        model.addAttribute(FILENAME, &quot;战略协议合同.pdf&quot;);
        return &quot;userListPdf&quot;; // 与personal.hutao.view.PdfStamperView的bean id匹配
&#125;
private Map&lt;String, String&gt; data() &#123;
        Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();
        data.put(&quot;partyA&quot;, &quot;海天科技有限公司&quot;);
        data.put(&quot;partyB&quot;, &quot;天弘科技有限公司&quot;);
        data.put(&quot;legalPersonA&quot;, &quot;张三&quot;);
        data.put(&quot;legalPersonB&quot;, &quot;李四&quot;);
        data.put(&quot;addressA&quot;, &quot;上海&quot;);
        data.put(&quot;addressB&quot;, &quot;北京&quot;);
        return data;
&#125;
</code></pre>
<ul>
<li>添加视图扩展用到的三方依赖<pre><code class="line-numbers language-xml"> &lt;dependency&gt;
          &lt;groupId&gt;com.lowagie&lt;/groupId&gt;
          &lt;artifactId&gt;itext&lt;/artifactId&gt;
          &lt;version&gt;2.1.7&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
          &lt;groupId&gt;com.lowagie&lt;/groupId&gt;
          &lt;artifactId&gt;itextasian&lt;/artifactId&gt;
          &lt;version&gt;1.5.2&lt;/version&gt;
          &lt;scope&gt;system&lt;/scope&gt;
          &lt;systemPath&gt;$&#123;project.basedir&#125;/lib/itextasian-1.5.2.jar&lt;/systemPath&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>设置Excel和PDF的view<pre><code class="line-numbers language-java">public class UserListExcel extends AbstractExcelView&#123;
  @Override
  protected void buildExcelDocument(Map&lt;String, Object&gt; mm,
          HSSFWorkbook workbook,
          HttpServletRequest request,
          HttpServletResponse response) throws Exception &#123;
      List&lt;User&gt; userList = (List&lt;User&gt;)mm.get(&quot;userList&quot;);
      HSSFSheet sheet = workbook.createSheet(&quot;ecit_sheet&quot;);
      HSSFRow row = sheet.createRow(0);//创建第一行数据
      row.createCell((short)0).setCellValue(&quot;名字&quot;);
      row.createCell((short)1).setCellValue(&quot;年龄&quot;);
      row.createCell((short)2).setCellValue(&quot;生日&quot;);
      int startRow = 1;
      HSSFRow new_row = null; 
      for (User user : userList) &#123;
          new_row = sheet.createRow(startRow);//创建第一行数据
          new_row.createCell((short)0).setCellValue(user.getName());
          new_row.createCell((short)1).setCellValue(user.getAge());
          new_row.createCell((short)2).setCellValue(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(user.getBirthday()));
          startRow ++;
      &#125;
      response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+new String(&quot;用户.xls&quot;.getBytes(),&quot;ISO8859-1&quot;));
  &#125;
&#125;
</code></pre>
</li>
<li>Adobe Acrobat创建表单导入word模板，添加属性域，完成pdf导出成template.pdf,在WEB-INF 下创建template目录，template.pdf放入下面<br><img src="/images/spring/pdf%E6%A8%A1%E6%9D%BF%E5%88%B6%E4%BD%9C.png"><br>最终程序运行效果：<br><img src="/images/spring/pdf%E6%95%88%E6%9E%9C.png"><pre><code class="line-numbers language-java">import com.lowagie.text.DocumentException;
import com.lowagie.text.pdf.AcroFields;
import com.lowagie.text.pdf.PdfStamper;
import org.springframework.web.servlet.view.document.AbstractPdfStamperView;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.Map;
public class PdfStamperView extends AbstractPdfStamperView &#123;
  public static final String DATA = &quot;data&quot;;  
  public static final String FILENAME = &quot;mergePdfFileName&quot;;
  @SuppressWarnings(&quot;unchecked&quot;)  
  @Override  
  protected void mergePdfDocument(Map&lt;String, Object&gt; model, PdfStamper stamper,
                                  HttpServletRequest request, HttpServletResponse response) throws Exception &#123;
      response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; 
              + new String(model.get(FILENAME).toString().getBytes(), &quot;ISO8859-1&quot;));  
      AcroFields fields = stamper.getAcroFields();
      fillData(fields, (Map&lt;String, String&gt;) model.get(DATA));  
      stamper.setFormFlattening(true);  
  &#125;
  private void fillData(AcroFields fields, Map&lt;String, String&gt; data)  
          throws IOException, DocumentException &#123;
      for (String key : data.keySet()) &#123;  
          String value = data.get(key);  
          fields.setField(key, value);  
      &#125;  
  &#125;
&#125;
</code></pre>
</li>
<li>注册视图解析器到SpringMVC-servlet.xml<pre><code class="line-numbers language-xml">&lt;bean class=&quot;org.springframework.web.servlet.view.BeanNameViewResolver&quot;&gt;
          &lt;property name=&quot;order&quot;&gt;
              &lt;value&gt;1&lt;/value&gt;
          &lt;/property&gt;
&lt;/bean&gt;
&lt;bean id=&quot;userListExcel&quot; class=&quot;com.ecit.controller.view.document.UserListExcel&quot; /&gt;
&lt;bean id=&quot;userListPdf&quot; class=&quot;com.ecit.controller.view.document.PdfStamperView&quot;&gt;
      &lt;property name=&quot;url&quot;  value=&quot;/WEB-INF/template/template.pdf&quot;&gt;&lt;/property&gt;
&lt;/bean&gt;
</code></pre>
</li>
<li>测试jsp<pre><code class="line-numbers language-html">&lt;a href=&quot;/exportUserExcel&quot;&gt;exportUserExcel&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;/exportUserPdf&quot;&gt;exportUserPdf&lt;/a&gt;
</code></pre>
</li>
</ul>
<h2 id="国际化"><a href="#国际化" class="headerlink" title="国际化"></a>国际化</h2><ul>
<li>国际化是设计软件应用的过程中应用被使用与不同语言和地区，国际化通常采用多属性文件的方式解决，每个属性文件保存一种语言的文字信息，不同语言的用户看到的是不同的内容</li>
<li>默认情况下，SpringMVC 根据Accept-Language参数判断客户端的本地化类型。当接受到请求时，SpringMVC 会在上下文中查找-一个本地化解析器(LocalResolver )，找到后使用它获取请求所对应的本地化类型信息。</li>
<li>SpringMVC还允许装配一个动态更改本地化类型的拦截器，这样通过指定一个请求参数就可以控制单个请求的本地化类型。</li>
</ul>
<h3 id="错误信息回显"><a href="#错误信息回显" class="headerlink" title="错误信息回显"></a>错误信息回显</h3><ul>
<li>每个属性在数据绑定和数据校验发生错误时,都会生成个对应的FieldError对象。</li>
<li>当一个属性校验失败后,校验框架会为该属性生成4个消息代码,这些代码以校验注解类名为前缀,结合modleAttribute、属性名及属性类型名生成多个对应的消息代码:例如User类中的password属性标准了一个@Pattern注解,当该属性值不满足@Pattern所定义的规则时,就会产生以下4个错误代码:<br>一Pattern.user.password<br>一Pattern.password<br>一Pattern.java.lang.String<br>一Pattern</li>
<li>当使用Spring MVC标签显示错误消息时, Spring MVC会查看WEB上下文是否装配了对应的国际化消息,如果没有,则显示默认的错误消息，<strong>否则使用国际化消息。</strong></li>
<li>若数据类型转换或数据格式转换时发生错误, 或该有的参数不存在，或调用处理方法时发生错误，都会在隐含模型中创建错误消息。其错误代码前缀说明如下:<br><strong>required</strong> : 必要的参数不存在。如@RequiredParam(“param1”)标注了一个入参，但是该参数不存在<br><strong>typeMismatch</strong> : 在数据绑定时，发生数据类型不匹配的问题<br><strong>methodInvocation</strong> : Spring MVC在调用处理方法时发生了错误,注册国际化资源文件</li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96.png"></td>
<td align="center"><img src="/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E9%85%8D%E7%BD%AE.png"></td>
</tr>
</tbody></table>
<pre><code class="line-numbers language-java">@Data
public class Employee &#123;
    private Integer id;
    @NotNull
    @Size(min = 2,max = 20)
    private String lastName;
    @Email
    private String email;
    //1 male, 0 female
    private Integer gender;
    @Past
    @DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)
    private Date birth;
    @NumberFormat(pattern=&quot;#,###,###.#&quot;)
    private Float salary;
&#125;
</code></pre>
<p>input.jsp</p>
<pre><code class="line-numbers language-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;
&lt;html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;br&gt;&lt;br&gt;
&lt;form:form action=&quot;/emp&quot; method=&quot;POST&quot; modelAttribute=&quot;employee&quot;&gt;
     LastName: &lt;form:input path=&quot;lastName&quot;/&gt;
     &lt;form:errors path=&quot;lastName&quot;&gt;&lt;/form:errors&gt;
    &lt;br&gt;
    Email: &lt;form:input path=&quot;email&quot;/&gt;
    &lt;form:errors path=&quot;email&quot;&gt;&lt;/form:errors&gt;
    &lt;br&gt;
    Birth: &lt;form:input path=&quot;birth&quot;/&gt;
    &lt;form:errors path=&quot;birth&quot;&gt;&lt;/form:errors&gt;
    &lt;br&gt;
    Salary: &lt;form:input path=&quot;salary&quot;/&gt;
    &lt;br&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;
&lt;/form:form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="line-numbers language-java">@RequestMapping(value=&quot;/employ&quot;)
public String save(@Valid Employee employee, Errors result,
                       Map&lt;String, Object&gt; map)&#123;
        if(result.getErrorCount() &gt; 0)&#123;
            for(FieldError error:result.getFieldErrors())&#123;
                System.out.println(error.getField() + &quot;:&quot; + error.getDefaultMessage());
            &#125;
            return &quot;input&quot;;
        &#125;
        return &quot;redirect:/employ-list&quot;;
&#125;
</code></pre>
<h3 id="不同语言切换显示"><a href="#不同语言切换显示" class="headerlink" title="不同语言切换显示"></a>不同语言切换显示</h3><ul>
<li>1.在页面上能够根据浏览器语言设置的情况对文本(不是内容)， 时间，数值进行本地化处理</li>
<li>2.可以在bean中获取国际化资源文件Locale对应的消息</li>
<li>3.可以通过超链接切换Locale，而不再依赖于浏览器的语言设置情况</li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E6%8B%A6%E6%88%AA%E5%99%A8%E5%8E%9F%E7%90%86.png"></td>
<td align="center"><img src="/images/spring/%E6%9C%AC%E5%9C%B0%E5%8C%96%E8%A7%A3%E6%9E%90%E5%99%A8%E5%92%8C%E6%8B%A6%E6%88%AA%E5%99%A8.png"></td>
</tr>
</tbody></table>
<ul>
<li><p>在resources下或项目任意的classpath路径下添加 message_en_US.properties,message_zh_CN.properties<br><img src="/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6.png"></p>
</li>
<li><p>在springmvc-servlet.xml配置国际化资源，本地化解析器以及本地化拦截器</p>
<pre><code class="line-numbers language-xml"> &lt;!-- 存储区域设置信息 SessionLocaleResolver类通过一个预定义会话名将区域化信息存储在会话中 从session判断用户语言defaultLocale:默认语言 --&gt;
&lt;bean id=&quot;localeResolver&quot;
        class=&quot;org.springframework.web.servlet.i18n.SessionLocaleResolver&quot;&gt;
      &lt;property name=&quot;defaultLocale&quot; value=&quot;zh_CN&quot; /&gt;
&lt;/bean&gt;
  &lt;!-- 国际化资源文件 messageSource配置的是国际化资源文件的路径， classpath:messages指的是classpath路径下的
      messages_zh_CN.properties文件和messages_en_US.properties文件 设置“useCodeAsDefaultMessage”，默认为false，这样当Spring在ResourceBundle中找不到messageKey的话，就抛出NoSuchMessageException，
      把它设置为True，则找不到不会抛出异常，而是使用messageKey作为返回值。 --&gt;
&lt;bean id=&quot;messageSource&quot;
        class=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;
      &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot; /&gt;
      &lt;property name=&quot;useCodeAsDefaultMessage&quot; value=&quot;true&quot; /&gt;
      &lt;property name=&quot;basenames&quot;&gt;
          &lt;list&gt;
              &lt;value&gt;classpath:message&lt;/value&gt;
          &lt;/list&gt;
      &lt;/property&gt;
&lt;/bean&gt;
  &lt;!--该拦截器通过名为”lang”的参数来拦截HTTP请求，使其重新设置页面的区域化信息 --&gt;
&lt;mvc:interceptors&gt;
      &lt;bean id=&quot;localeChangeInterceptor&quot;
            class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot;&gt;
          &lt;property name=&quot;paramName&quot; value=&quot;lang&quot; /&gt;
      &lt;/bean&gt;
&lt;/mvc:interceptors&gt;
</code></pre>
</li>
<li><p>编写控制器<br> <strong>是在springmvc-servlet.xml配置</strong></p>
<pre><code class="line-numbers language-xml">&lt;mvc:view-controller path=&quot;/login&quot; view-name=&quot;login&quot;&gt;&lt;/mvc:view-controller&gt;
</code></pre>
<p> <strong>path&#x3D;”&#x2F;login 就是你访问的路径（相当于RequestMapping(“&#x2F;login)）view-name&#x3D;”hello”是你所要的视图（如login.jsp,相当于return “login”） 配置了这个后对于&#x2F;login请求,就会直接交给dispatcherServlet,然后使用ViewResolver进行解析。</strong><br> 相当于以下代码：</p>
<pre><code class="line-numbers language-java">@RequestMapping(value=&quot;/login&quot;)
public String login()&#123;
 return &quot;login&quot;;
&#125;
</code></pre>
</li>
<li><p>在WEB-INF&#x2F;jsp目录下编写login.jsp</p>
<pre><code class="line-numbers language-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;%@ taglib uri=&quot;http://www.springframework.org/tags&quot; prefix=&quot;spring&quot;%&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;&lt;spring:message code=&quot;TITLE&quot; /&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;login&quot;&gt;
  &lt;h1&gt;&lt;spring:message code=&quot;TITLE&quot; /&gt; &lt;/h1&gt;
  &lt;form action=&quot;test.do&quot; method=&quot;post&quot;&gt;
      &lt;spring:message code=&quot;USERNAME&quot; /&gt;: &lt;input type=&quot;text&quot; name=&quot;name&quot; placeholder=&lt;spring:message code=&quot;USERNAME&quot; /&gt; required=&quot;required&quot; value=&quot;&quot; /&gt; &lt;br/&gt;
      &lt;spring:message code=&quot;PASSWORD&quot; /&gt;: &lt;input type=&quot;password&quot; name=&quot;password&quot; placeholder=&lt;spring:message code=&quot;PASSWORD&quot; /&gt; required=&quot;required&quot; value=&quot;&quot; /&gt; &lt;br/&gt;
      &lt;button type=&quot;submit&quot; &gt;&lt;spring:message code=&quot;LOGIN&quot; /&gt; &lt;/button&gt;
  &lt;/form&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li><p>在index.jsp添加如下测试代码,启动查看效果</p>
<pre><code class="line-numbers language-jsp">&lt;a href=&quot;/login?lang=zh_CN&quot;&gt;中文&lt;/a&gt;
&lt;br /&gt;
&lt;a href=&quot;/login?lang=en_US&quot;&gt;英文&lt;/a&gt;
&lt;/body&gt;
</code></pre>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E5%90%AF%E5%8A%A8.png"></td>
<td align="center"><img src="/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E4%B8%AD%E6%96%87.png"></td>
<td align="center"><img src="/images/spring/%E5%9B%BD%E9%99%85%E5%8C%96%E8%8B%B1%E6%96%87.png"></td>
</tr>
</tbody></table>
<h2 id="SpringMVC文件上传"><a href="#SpringMVC文件上传" class="headerlink" title="SpringMVC文件上传"></a>SpringMVC文件上传</h2><h3 id="文件上传的必要前提"><a href="#文件上传的必要前提" class="headerlink" title="文件上传的必要前提"></a>文件上传的必要前提</h3><ul>
<li>form表单的 enctype取值必须是: multipart&#x2F;form-data (默认值是:application&#x2F;x-www-form-urlencoded),enctype:是表单请求正文的类型</li>
<li>method属性取值必须是post</li>
</ul>
<h3 id="文件上传的原理分析"><a href="#文件上传的原理分析" class="headerlink" title="文件上传的原理分析"></a>文件上传的原理分析</h3><ul>
<li>当form表单的 enctype取值不是默认值后, request.getParameter()将失效,enctype&#x3D;”application&#x2F;x-www-form-urlencoded”时,form表单的正文内容是key&#x3D;value&amp;key&#x3D;value&amp;key&#x3D;value</li>
<li>当form表单的 enctype取值为 Mutilpart&#x2F;form-data时,请求正文内容就变成每一部分都是MIME类型描述的正文:<pre><code class="line-numbers language-xml">--------------------------------7de1a433602aC       分界符
Content-Disposition: form-data ;name=userName       协议头
aaa                                                 协议的正文
--------------------------------7de1a433602ac 
Content-Disposition: form-data ;name=&quot;file&quot;;
filename= &quot;/Users/sxm\Desktop\test.txt&quot;
Content-Type: text/plain                            协议的类型(MIME类型)
bbb bb bbbb bbbbbb bbbb bb bbbb bbbbbbb
--------------------------------7de1a433602ac
</code></pre>
<h3 id="文件上传的不同情况"><a href="#文件上传的不同情况" class="headerlink" title="文件上传的不同情况"></a>文件上传的不同情况</h3>需要用到的三方依赖包<pre><code class="line-numbers language-xml">&lt;dependency&gt;
   &lt;groupId&gt;commons-io&lt;/groupId&gt;
   &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
   &lt;version&gt;2.2&lt;/version&gt;
   &lt;/dependency&gt;
   &lt;dependency&gt;
    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;
    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;
    &lt;version&gt;1.3.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h4 id="传统方式文件上传"><a href="#传统方式文件上传" class="headerlink" title="传统方式文件上传"></a>传统方式文件上传</h4></li>
<li>传统方式的文件上传，指的是我们上传的文件和访问的应用存在于同一台服务器上。并且上传完成之后，浏览器可能跳转。<br><strong>1.采用HttpServletRequest方式，文件上传</strong><pre><code class="line-numbers language-jsp">&lt;form action=&quot;/fileupload1&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
  选择文件：&lt;input type=&quot;file&quot; name=&quot;upload&quot; /&gt;&lt;br/&gt;
  &lt;input type=&quot;submit&quot; value=&quot;上传&quot; /&gt;
&lt;/form&gt;
</code></pre>
<pre><code class="line-numbers language-java">@RequestMapping(&quot;/fileupload1&quot;)
public String fileuoload1(HttpServletRequest request) throws Exception &#123;
      System.out.println(&quot;文件上传...&quot;);
        //判断表单是否支持文件上传
      boolean isMultiForm= ServletFileUpload.isMultipartContent(request);
      if(!isMultiForm) &#123;
          return &quot;error&quot;;
      &#125;
      // 使用fileupload组件完成文件上传
      // 上传的位置
      String path = request.getSession().getServletContext().getRealPath(&quot;/uploads/&quot;);
      System.out.println(&quot;保存path:&quot; + path);
      // 判断，该路径是否存在
      File file = new File(path);
      if(!file.exists())&#123;
          // 创建该文件夹
          file.mkdirs();
      &#125;
      // 解析request对象，获取上传文件项
      DiskFileItemFactory factory = new DiskFileItemFactory();
      ServletFileUpload upload = new ServletFileUpload(factory);
      // 解析request
      List&lt;FileItem&gt; items = upload.parseRequest(request);
      // 遍历
      for(FileItem item:items)&#123;
          // 进行判断，当前item对象是否是上传文件项
          if(item.isFormField())&#123;
              // 说明普通表单向
              String fieldName=item.getFieldName();//普通字的字段名
              String fieldvalue= item.getString(&quot;UTF-8&quot;);//普通字段的字段值,UTF8编码去取
          &#125;else&#123;
              // 说明上传文件项
              // 获取上传文件的名称
              String filename = item.getName();
              // 把文件的名称设置唯一值，uuid
              String uuid = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);
              filename = uuid+&quot;_&quot;+filename;
              // 完成文件上传
              item.write(new File(path,filename));
              // 删除临时文件
              item.delete();
          &#125;
  &#125;
      return &quot;success&quot;;
&#125;
</code></pre>
<strong>2.采用SpringMVC MultipartFile 方式，文件上传</strong><br>配置文件上传的解析对象<pre><code class="line-numbers language-xml">&lt;!--配置文件解析器对象--&gt;
&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;
      &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot; /&gt;
      &lt;property name=&quot;maxUploadSize&quot; value=&quot;10485760&quot; /&gt;
&lt;/bean&gt;
</code></pre>
<pre><code class="line-numbers language-jsp">&lt;form action=&quot;/fileupload2&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
  选择文件：&lt;input type=&quot;file&quot; name=&quot;upload&quot; /&gt;&lt;br/&gt;
  &lt;input type=&quot;submit&quot; value=&quot;上传&quot; /&gt;
&lt;/form&gt;
</code></pre>
&#96;&#96;&#96;java<br>@RequestMapping(“&#x2F;fileupload2”)<br>public String fileuoload2(HttpServletRequest request, MultipartFile upload) throws Exception {<br>  System.out.println(“springmvc文件上传…”);<br>  &#x2F;&#x2F; 使用fileupload组件完成文件上传<br>  &#x2F;&#x2F; 上传的位置<br>  String path &#x3D; request.getSession().getServletContext().getRealPath(“&#x2F;uploads&#x2F;“);<br>  &#x2F;&#x2F; 判断，该路径是否存在<br>  File file &#x3D; new File(path);<br>  if(!file.exists()){<br>      &#x2F;&#x2F; 创建该文件夹<br>      file.mkdirs();<br>  }<br>  &#x2F;&#x2F; 说明上传文件项<br>  &#x2F;&#x2F; 获取上传文件的名称<br>  String filename &#x3D; upload.getOriginalFilename();<br>  &#x2F;&#x2F; 把文件的名称设置唯一值，uuid<br>  String uuid &#x3D; UUID.randomUUID().toString().replace(“-“, “”);<br>  filename &#x3D; uuid+”_”+filename;<br>  &#x2F;&#x2F; 完成文件上传<br>  upload.transferTo(new File(path,filename));<br><br>  return “success”;</li>
</ul>
<p>}</p>
<pre><code>
#### 跨服务器上传
- 准备另一台服务器，专门做图片服务器，只需要建立一个图片服务器，这里以tomcat举例
修改web.xml
```xml
&lt;servlet&gt;
        &lt;servlet-name&gt;default&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.apache.catalina.servlets.DefaultServlet&lt;/servlet-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;debug&lt;/param-name&gt;
            &lt;param-value&gt;0&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;readonly&lt;/param-name&gt;&lt;!--主要设置这个参数--&gt;
            &lt;param-value&gt;false&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;listings&lt;/param-name&gt;
            &lt;param-value&gt;false&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
</code></pre>
<p>并在tomcat下的webapps下 建立uploads目录，假设端口9090</p>
<ul>
<li>添加三方jar包<pre><code class="line-numbers language-xml">&lt;dependency&gt;
          &lt;groupId&gt;commons-io&lt;/groupId&gt;
          &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
          &lt;version&gt;2.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
          &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;
          &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;
          &lt;version&gt;1.3.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
          &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
          &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;
          &lt;version&gt;1.17.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
          &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
          &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;
          &lt;version&gt;1.17.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<pre><code class="line-numbers language-jsp">&lt;form action=&quot;/fileupload3&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
  选择文件：&lt;input type=&quot;file&quot; name=&quot;upload&quot; /&gt;&lt;br/&gt;
  &lt;input type=&quot;submit&quot; value=&quot;上传&quot; /&gt;
&lt;/form&gt;
</code></pre>
添加测试<pre><code class="line-numbers language-java">  /**
   * 跨服务器文件上传
   * @return
   */
@RequestMapping(&quot;/fileupload3&quot;)
public String fileuoload3(MultipartFile upload) throws Exception &#123;
      System.out.println(&quot;跨服务器文件上传...&quot;);
      // 定义上传文件服务器路径
      String path = &quot;http://127.0.0.1:9090/uploads/&quot;;
      // 说明上传文件项
      // 获取上传文件的名称
      String filename = upload.getOriginalFilename();
      // 把文件的名称设置唯一值，uuid
      String uuid = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);
      filename = uuid+&quot;_&quot;+filename;
      // 创建客户端的对象
      Client client = Client.create();
      // 和图片服务器进行连接
      WebResource webResource = client.resource(path + filename);
      // 上传文件
      webResource.put(upload.getBytes());
      return &quot;success&quot;;
&#125;
</code></pre>
</li>
</ul>
<h2 id="SpringMVC中的拦截器"><a href="#SpringMVC中的拦截器" class="headerlink" title="SpringMVC中的拦截器"></a>SpringMVC中的拦截器</h2><ul>
<li>SpringMVC的处理器拦截器类似于Servlet开发中的过滤器Filter,用于对处理器进行预处理和后处理。用户可以自己定义一些拦截器来实现特定的功能。谈到拦截器，还要提一个词一**拦截器链(Interceptor Chain)**。拦截器链就是将拦截器按一定的顺序联结成一条链。在访问被拦截的方法或字段时，拦截器链中的拦截器就会按其之前定义的顺序被调用。</li>
<li>他们的区别:<br> 过滤器是servlet规范中的一部分，任何java web 工程都可以使用。<br> <strong>拦截器是SpringMVC框架自己的，只有使用了SpringMVC 框架的工程才能用。</strong><br> 过滤器在url-pattern中配置了&#x2F;*之后，可以对所有要访问的资源拦截。<br> <strong>拦截器它是只会拦截访问的控制器方法，如果访问的是jsp, html,css, image或者js是不会进行拦截的。它也是AOP思想的具体应用。</strong><br> 我们要想自定义拦截器，要 求必须实现: HandlerInterceptor 接口。</li>
</ul>
<h3 id="自定义拦截器"><a href="#自定义拦截器" class="headerlink" title="自定义拦截器"></a>自定义拦截器</h3><p>Spring MVC也可以使用拦截器对请求进行拦截处理，用户可以自定义拦截器来实现特定的功能，自定义的拦截器必须实现Handlerlnterceptor接口</p>
<ul>
<li>preHandle() :controller执行前调用此方法，返回true表示继续执行，返回false中止执行，这里可以加入登录校验、权限拦截等</li>
<li>postHandle () :controller执行后但未返回视图前调用此方法，这里可在返回用户前对模型数据进行加工处理，比如这里加入公用信息以便页面显示</li>
<li>afterCompletion () :controller执行后且视图返回后调用此方法，这里可得到执行controller时的异常信息，这里可记录操作日志，资源清理等</li>
</ul>
<h3 id="针对某种mapping配置拦截器"><a href="#针对某种mapping配置拦截器" class="headerlink" title="针对某种mapping配置拦截器"></a>针对某种mapping配置拦截器</h3><pre><code class="line-numbers language-xml">&lt;bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;&gt;
    &lt;property name=&quot;interceptors&quot;&gt;
        &lt;list&gt;
            &lt;ref bean=&quot;handlerInterceptor1&quot;/&gt;
            &lt;ref bean=&quot;handlerInterceptor2&quot;/&gt;
        &lt;/list&gt;
    &lt;/property&gt;
&lt;/bean&gt;
&lt;bean id=&quot;handlerInterceptor1&quot; class=&quot;springmvc.intercapter.HandlerInterceptor1&quot;/&gt;
&lt;bean id=&quot;handlerInterceptor2&quot; class=&quot;springmvc.intercapter.HandlerInterceptor2&quot;/&gt;
</code></pre>
<h3 id="针对所有mapping配置全局拦截器"><a href="#针对所有mapping配置全局拦截器" class="headerlink" title="针对所有mapping配置全局拦截器"></a>针对所有mapping配置全局拦截器</h3><pre><code class="line-numbers language-xml">&lt;!--拦截器 --&gt;
&lt;mvc:interceptors&gt;
    &lt;!--多个拦截器,顺序执行 --&gt;
    &lt;mvc:interceptor&gt;
    &lt;!--/**表示所有url包括子url路径 --&gt;
        &lt;mvc:mapping path=&quot;/**&quot;/&gt;
        &lt;bean class=&quot;cn.ecit.springmvc.filter.HandlerInterceptor1&quot;&gt;&lt;/bean&gt;
    &lt;/mvc:interceptor&gt;
    &lt;mvc:interceptor&gt;
    &lt;!--/**表示所有url包括子url路径 --&gt;
        &lt;mvc:mapping path=&quot;/**&quot;/&gt;
        &lt;bean class=&quot;cn.ecit.springmvc.filter.HandlerInterceptor2&quot;&gt;&lt;/bean&gt;
    &lt;/mvc:interceptor&gt;
&lt;/mvc:interceptors&gt;
</code></pre>
<h3 id="正常的多拦截器执行流程"><a href="#正常的多拦截器执行流程" class="headerlink" title="正常的多拦截器执行流程"></a>正常的多拦截器执行流程</h3><p><img src="/images/spring/%E6%8B%A6%E6%88%AA%E5%99%A8%E6%AD%A3%E5%B8%B8%E6%B5%81%E7%A8%8B.png"></p>
<h3 id="多拦截器中断流程"><a href="#多拦截器中断流程" class="headerlink" title="多拦截器中断流程"></a>多拦截器中断流程</h3><p><img src="/images/spring/%E6%8B%A6%E6%88%AA%E5%99%A8%E4%B8%AD%E6%96%AD%E6%B5%81%E7%A8%8B.png"></p>
<h3 id="拦截器应用–登录拦截"><a href="#拦截器应用–登录拦截" class="headerlink" title="拦截器应用–登录拦截"></a>拦截器应用–登录拦截</h3><pre><code class="line-numbers language-java">public class LoginInterceptor implements HandlerInterceptor&#123;
    @Override
    Public boolean preHandle(HttpServletRequest request,
            HttpServletResponse response, Object handler) throws Exception &#123;
        //如果是登录页面则放行
        if(request.getRequestURI().indexOf(&quot;login.action&quot;)&gt;=0)&#123;
            return true;
        &#125;
        HttpSession session = request.getSession();
        //如果用户已登录也放行
        if(session.getAttribute(&quot;user&quot;)!=null)&#123;
            return true;
        &#125;
        //用户没有登录挑战到登录页面
        request.getRequestDispatcher(&quot;/WEB-INF/jsp/login.jsp&quot;).forward(request, response);
        return false;
&#125;
</code></pre>
<pre><code class="line-numbers language-java">@RequestMapping(&quot;/login&quot;)
public String loginsubmit(HttpSession session,String userid,String pwd)throws Exception&#123;
        //向session记录用户身份信息
        session.setAttribute(&quot;activeUser&quot;, userid);
        return &quot;redirect:system/email.jsp&quot;;
&#125;
    //退出
@RequestMapping(&quot;/logout&quot;)
public String logout(HttpSession session)throws Exception&#123;
        //session过期
        session.invalidate();
        return &quot;redirect:system/ad.jsp&quot;;
&#125;
</code></pre>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><ul>
<li>Spring MVC通过HandlerExceptionResolver处 理程序的异常，包括Handler映射、数据绑定以及目标方法执行时发生的异常。</li>
<li>SpringMVC提供的HandlerExceptionResolver的实现类</li>
</ul>
<h3 id="DispatcherServlet默认装配的HandlerExceptionResolver"><a href="#DispatcherServlet默认装配的HandlerExceptionResolver" class="headerlink" title="DispatcherServlet默认装配的HandlerExceptionResolver"></a>DispatcherServlet默认装配的HandlerExceptionResolver</h3><pre><code class="line-numbers language-java">//没有使用&lt;mvc:annotation-driven/&gt;配置:
AnnotationMethodHandlerExceptionResolver //这个已过时了
ResponseStatusExceptionResolver
DefaultHandlerExceptionResolver
//使用&lt;mvc:annotation-driven/&gt;配置时，默认装配
ExceptionHandlerExceptionResolver
ResponseStatusExceptionResolver
DefaultHandlerExceptionResolver
</code></pre>
<h3 id="ExceptionHandlerExceptionResolver"><a href="#ExceptionHandlerExceptionResolver" class="headerlink" title="ExceptionHandlerExceptionResolver"></a>ExceptionHandlerExceptionResolver</h3><ul>
<li>主要处理Handler中用@ExceptionHandler注解定义的方法。</li>
<li>@ExceptionHandler注解定义的方法优先级问题:例如发生的是NullPointerException，但是声明的异常有RuntimeException和Exception，此候会根据异常的最近继承关系找到继承深度最浅的那个@ExceptionHandler注解方法，即标记了RuntimeException 的方法</li>
<li>ExceptionHandlerMethodResolver内部若找不到@ExceptionHandler注解的话，会找@ControllerAdvice中 的@ExceptionHandler注解方法</li>
</ul>
<h3 id="ResponseStatusExceptionResolver"><a href="#ResponseStatusExceptionResolver" class="headerlink" title="ResponseStatusExceptionResolver"></a>ResponseStatusExceptionResolver</h3><p>HTTP authentication [在异常及异常父类中找到@ResponseStatus 注解，然后使用这个注解的属性进行处理。</p>
<ul>
<li>定义一个@ResponseStatus注解修饰的异常类.<br> @ResponseStatus (HttpStatus UNAUTHORIZED)<br> public class UnauthorizedException extends RuntimeException { }</li>
<li>若在处理器方法中抛出了上述异常，若ExceptionHandlerExceptionResolver不解析述异常。由于触发的异常UnauthorizedException带有@ResponseStatus注解。因此会被ResponseStatusExceptionResolver 解析到。最后响应HttpStatus.UNAUTHORIZED代码给客户端。HttpStatus.UNAUTHORIZED代表响应码401，无权限。关于其他的响应码请参考HttpStatus枚举类型源码。</li>
</ul>
<h3 id="DefaultHandlerExceptionResolver"><a href="#DefaultHandlerExceptionResolver" class="headerlink" title="DefaultHandlerExceptionResolver"></a>DefaultHandlerExceptionResolver</h3><ul>
<li>对一些特殊的异常进行处理，比如NoSuchRequestHandlingMethodException、HttpRequestMethodNotSupportedException、HttpMediaTypeNotSupportedException、HttpMediaTypeNotAcceptableException等。会将Spring MVC 框架的异常转为响应的状态码<br><img src="/images/spring/%E5%BC%82%E5%B8%B8%E8%BD%AC%E7%8A%B6%E6%80%81%E7%A0%81.jpeg"></li>
</ul>
<h3 id="SimpleMappingExceptionResolver"><a href="#SimpleMappingExceptionResolver" class="headerlink" title="SimpleMappingExceptionResolver"></a>SimpleMappingExceptionResolver</h3><p>如果希望对所有异常进行统一处理, 可以使用SimpleMappingExceptionResolver,它将异常类名映射为视图名，即发生异常时使用对应的视图报告异常</p>
<pre><code class="line-numbers language-xml">&lt;bean id=&quot;simpleMappingExceptionResolver&quot;
          class=&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;&gt;
        &lt;property name=&quot;exceptionMappings&quot;&gt;
            &lt;props&gt;
                &lt;prop key=&quot;java.lang.ArithmeticException&quot;&gt;error&lt;/prop&gt;
            &lt;/props&gt;
        &lt;/property&gt;
&lt;/bean&gt;
</code></pre>
<h2 id="若Spring的Ioc容器和SpringMVC的Ioc容器扫描的包有重合的部分，就会导致有的bean会被创建2次。"><a href="#若Spring的Ioc容器和SpringMVC的Ioc容器扫描的包有重合的部分，就会导致有的bean会被创建2次。" class="headerlink" title="若Spring的Ioc容器和SpringMVC的Ioc容器扫描的包有重合的部分，就会导致有的bean会被创建2次。"></a>若Spring的Ioc容器和SpringMVC的Ioc容器扫描的包有重合的部分，就会导致有的bean会被创建2次。</h2><ul>
<li><p>解决:<br>1.使Spring的IOC容器扫描的包和SpringMVC的IOC容器扫描的包没有重合的部分.<br>2.使用exclude-filter和include-filter子节点来规定只能扫描的注解</p>
<pre><code class="line-numbers language-xml">&lt;context:component-scan base-package=&quot;com.ecit.**&quot; use-default-filters=&quot;false&quot;&gt;
      &lt;context:include-filter type=&quot;annotation&quot;
                              expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;
      &lt;context:include-filter type=&quot;annotation&quot;
                              expression=&quot;org.springframework.web.bind.annotation.ControllerAdvice&quot;/&gt;
&lt;/context:component-scan&gt;
</code></pre>
</li>
<li><p><strong>SpringMVC的I0C容器中的bean可以来引用Spring IOC容器中的bean。返回来呢?反之则不行。Spring IoC容器中的bean却不能来引用SpringMVC IoC 容器中的Bean</strong></p>
</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>SpringMVC-WEB框架</p><p><a href="http://example.com/2016/11/04/framework/spring-mvc/web框架-springmvc/">http://example.com/2016/11/04/framework/spring-mvc/web框架-springmvc/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>sxm-star</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2016-11-04</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2020-07-10</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/SpringMVC/">SpringMVC</a></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2016/11/04/framework/springboot/springboot-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">SpringBoot组件学习</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2016/11/04/framework/springboot/springboot%E7%88%B6%E5%B7%A5%E7%A8%8Bpom%E9%AA%A8%E6%9E%B6/"><span class="level-item">SpringBoot父工程pom骨架整理</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content" id="valine-thread"></div><script src="//cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.4.16/dist/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread',
            appId: "IfrP2z24klBnzSqFsYHnXGcR-gzGzoHsz",
            appKey: "oc5OS3irrT5ytSoVIXaSFDxI",
            placeholder: "请留言...",
            avatar: "mm",
            avatarForce: false,
            meta: ["nick","mail","link"],
            pageSize: 10,
            lang: "zh-CN",
            visitor: false,
            highlight: true,
            recordIP: false,
            
            
            
            enableQQ: false,
            requiredFields: [],
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="sxm-star"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">sxm-star</p><p class="is-size-6 is-block">见路非路,即见因果,见相非相,即见如来</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Asia</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">202</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">97</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">64</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget"><link href="/music/APlayer.min.css"><div id="aplayer" style="margin: 0 auto;"></div><script src="/music/APlayer.min.js"></script><script src="/music/APlayer_Music.js"></script></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#三层架构和MVC模型"><span class="level-left"><span class="level-item">1</span><span class="level-item">三层架构和MVC模型</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#三层架构"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">三层架构</span></span></a></li><li><a class="level is-mobile" href="#MVC模型"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">MVC模型</span></span></a></li></ul></li><li><a class="level is-mobile" href="#思考框架的产生"><span class="level-left"><span class="level-item">2</span><span class="level-item">思考框架的产生</span></span></a></li><li><a class="level is-mobile" href="#Spring-MVC框架"><span class="level-left"><span class="level-item">3</span><span class="level-item">Spring MVC框架</span></span></a></li><li><a class="level is-mobile" href="#SpringMVC与Struts2优略分析"><span class="level-left"><span class="level-item">4</span><span class="level-item">SpringMVC与Struts2优略分析</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#共同点"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">共同点:</span></span></a></li><li><a class="level is-mobile" href="#区别"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">区别</span></span></a></li></ul></li><li><a class="level is-mobile" href="#SpringMVC在Spring框架的位置"><span class="level-left"><span class="level-item">5</span><span class="level-item">SpringMVC在Spring框架的位置</span></span></a></li><li><a class="level is-mobile" href="#SpringMVC执行流程"><span class="level-left"><span class="level-item">6</span><span class="level-item">SpringMVC执行流程</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#核心分发器DispatcherServlet"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">核心分发器DispatcherServlet</span></span></a></li><li><a class="level is-mobile" href="#DispatcherServlet主要职责"><span class="level-left"><span class="level-item">6.2</span><span class="level-item">DispatcherServlet主要职责</span></span></a></li><li><a class="level is-mobile" href="#DispatcherServlet核心代码"><span class="level-left"><span class="level-item">6.3</span><span class="level-item">DispatcherServlet核心代码</span></span></a></li><li><a class="level is-mobile" href="#DispatcherServlet辅助类"><span class="level-left"><span class="level-item">6.4</span><span class="level-item">DispatcherServlet辅助类</span></span></a></li></ul></li><li><a class="level is-mobile" href="#SpringMVC搭建"><span class="level-left"><span class="level-item">7</span><span class="level-item">SpringMVC搭建</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#添加pom依赖jar"><span class="level-left"><span class="level-item">7.1</span><span class="level-item">添加pom依赖jar</span></span></a></li><li><a class="level is-mobile" href="#SpringMVC在web-xml配置–即一个核心组件DispatcherServlet的配置"><span class="level-left"><span class="level-item">7.2</span><span class="level-item">SpringMVC在web.xml配置–即一个核心组件DispatcherServlet的配置</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#param-name"><span class="level-left"><span class="level-item">7.2.1</span><span class="level-item">param-name</span></span></a></li><li><a class="level is-mobile" href="#url-pattern问题"><span class="level-left"><span class="level-item">7.2.2</span><span class="level-item">url-pattern问题</span></span></a></li><li><a class="level is-mobile" href="#以下三种方式解决url-pattern访问静态资源的问题"><span class="level-left"><span class="level-item">7.2.3</span><span class="level-item">以下三种方式解决url-pattern访问静态资源的问题</span></span></a></li></ul></li><li><a class="level is-mobile" href="#springmvc-servlet-xml配置"><span class="level-left"><span class="level-item">7.3</span><span class="level-item">springmvc-servlet.xml配置</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#非注解版本，了解即可"><span class="level-left"><span class="level-item">7.3.1</span><span class="level-item">非注解版本，了解即可</span></span></a></li><li><a class="level is-mobile" href="#注解版本"><span class="level-left"><span class="level-item">7.3.2</span><span class="level-item">注解版本</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#第一个SpringMVC程序过程记录"><span class="level-left"><span class="level-item">8</span><span class="level-item">第一个SpringMVC程序过程记录</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#编写一个HelloController"><span class="level-left"><span class="level-item">8.1</span><span class="level-item">编写一个HelloController</span></span></a></li><li><a class="level is-mobile" href="#测试Spring-MVC"><span class="level-left"><span class="level-item">8.2</span><span class="level-item">测试Spring MVC</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#pom文件添加web服务器，这里用jetty服务器"><span class="level-left"><span class="level-item">8.2.1</span><span class="level-item">pom文件添加web服务器，这里用jetty服务器</span></span></a></li><li><a class="level is-mobile" href="#编译运行浏览"><span class="level-left"><span class="level-item">8.2.2</span><span class="level-item">编译运行浏览</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#常用注解"><span class="level-left"><span class="level-item">9</span><span class="level-item">常用注解</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#RequestMapping"><span class="level-left"><span class="level-item">9.1</span><span class="level-item">@RequestMapping</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#params和headers支持简单的表达式"><span class="level-left"><span class="level-item">9.1.1</span><span class="level-item">params和headers支持简单的表达式</span></span></a></li><li><a class="level is-mobile" href="#Ant风格资源地址支持3种匹配符"><span class="level-left"><span class="level-item">9.1.2</span><span class="level-item">Ant风格资源地址支持3种匹配符:</span></span></a></li><li><a class="level is-mobile" href="#接收数组参数"><span class="level-left"><span class="level-item">9.1.3</span><span class="level-item">接收数组参数</span></span></a></li><li><a class="level is-mobile" href="#使用POJO对象绑定请求参数值"><span class="level-left"><span class="level-item">9.1.4</span><span class="level-item">使用POJO对象绑定请求参数值</span></span></a></li><li><a class="level is-mobile" href="#pojo-list集合参数和map参数接受"><span class="level-left"><span class="level-item">9.1.5</span><span class="level-item">pojo list集合参数和map参数接受</span></span></a></li><li><a class="level is-mobile" href="#使用Servlet-API作为入参"><span class="level-left"><span class="level-item">9.1.6</span><span class="level-item">使用Servlet API作为入参</span></span></a></li></ul></li><li><a class="level is-mobile" href="#RequestParam表单参数处理"><span class="level-left"><span class="level-item">9.2</span><span class="level-item">@RequestParam表单参数处理</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#方法的参数名与表单传参的name值相同"><span class="level-left"><span class="level-item">9.2.1</span><span class="level-item">方法的参数名与表单传参的name值相同</span></span></a></li><li><a class="level is-mobile" href="#方法的参数名与表单传参的name值不同"><span class="level-left"><span class="level-item">9.2.2</span><span class="level-item">方法的参数名与表单传参的name值不同</span></span></a></li></ul></li><li><a class="level is-mobile" href="#PathVariable获取路径参数"><span class="level-left"><span class="level-item">9.3</span><span class="level-item">@PathVariable获取路径参数</span></span></a></li><li><a class="level is-mobile" href="#CookieValue"><span class="level-left"><span class="level-item">9.4</span><span class="level-item">@CookieValue</span></span></a></li><li><a class="level is-mobile" href="#RequestHeader"><span class="level-left"><span class="level-item">9.5</span><span class="level-item">@RequestHeader</span></span></a></li><li><a class="level is-mobile" href="#RequestBody-和-ResponseBody"><span class="level-left"><span class="level-item">9.6</span><span class="level-item">@RequestBody 和 @ResponseBody</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#原理理解-HttpMessageConverter转换器"><span class="level-left"><span class="level-item">9.6.1</span><span class="level-item">原理理解 HttpMessageConverter转换器</span></span></a></li><li><a class="level is-mobile" href="#MarshallingHttpMessageConverter-接收与返回xml数据自动转换为Java对象"><span class="level-left"><span class="level-item">9.6.2</span><span class="level-item">MarshallingHttpMessageConverter 接收与返回xml数据自动转换为Java对象</span></span></a></li><li><a class="level is-mobile" href="#RequestBody原始接收key-x3D-value-amp-key2-x3D-value2"><span class="level-left"><span class="level-item">9.6.3</span><span class="level-item">@RequestBody原始接收key=value&amp;key2=value2</span></span></a></li><li><a class="level is-mobile" href="#RequestBody直接使用对象接收"><span class="level-left"><span class="level-item">9.6.4</span><span class="level-item">@RequestBody直接使用对象接收</span></span></a></li><li><a class="level is-mobile" href="#ResponseBody直接把返回的对象转json返回"><span class="level-left"><span class="level-item">9.6.5</span><span class="level-item">@ResponseBody直接把返回的对象转json返回</span></span></a></li><li><a class="level is-mobile" href="#自定义类型转换–日期接收为例"><span class="level-left"><span class="level-item">9.6.6</span><span class="level-item">自定义类型转换–日期接收为例</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#转发和重定向"><span class="level-left"><span class="level-item">10</span><span class="level-item">转发和重定向</span></span></a></li><li><a class="level is-mobile" href="#SpringMVC参数乱码–针对post方式的"><span class="level-left"><span class="level-item">11</span><span class="level-item">SpringMVC参数乱码–针对post方式的</span></span></a></li><li><a class="level is-mobile" href="#处理模型数据"><span class="level-left"><span class="level-item">12</span><span class="level-item">处理模型数据</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ModelAndView"><span class="level-left"><span class="level-item">12.1</span><span class="level-item">ModelAndView</span></span></a></li><li><a class="level is-mobile" href="#Map及Model"><span class="level-left"><span class="level-item">12.2</span><span class="level-item">Map及Model</span></span></a></li><li><a class="level is-mobile" href="#SessionAttrilbutes"><span class="level-left"><span class="level-item">12.3</span><span class="level-item">@SessionAttrilbutes</span></span></a></li><li><a class="level is-mobile" href="#ModelAttribute"><span class="level-left"><span class="level-item">12.4</span><span class="level-item">@ModelAttribute</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#基于POJO属性的基本使用"><span class="level-left"><span class="level-item">12.4.1</span><span class="level-item">基于POJO属性的基本使用:</span></span></a></li><li><a class="level is-mobile" href="#基于-Map-的应用场景示例-ModelAttribute-修饰方法带返回值"><span class="level-left"><span class="level-item">12.4.2</span><span class="level-item">基于 Map 的应用场景示例:ModelAttribute 修饰方法带返回值</span></span></a></li><li><a class="level is-mobile" href="#基于-Map-的应用场景示例-ModelAttribute-修饰方法不带返回值"><span class="level-left"><span class="level-item">12.4.3</span><span class="level-item">基于 Map 的应用场景示例:ModelAttribute 修饰方法不带返回值</span></span></a></li></ul></li><li><a class="level is-mobile" href="#InitBinder"><span class="level-left"><span class="level-item">12.5</span><span class="level-item">@InitBinder</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#数据绑定流程"><span class="level-left"><span class="level-item">12.5.1</span><span class="level-item">数据绑定流程</span></span></a></li></ul></li><li><a class="level is-mobile" href="#数据格式化"><span class="level-left"><span class="level-item">12.6</span><span class="level-item">数据格式化</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#日期格式化"><span class="level-left"><span class="level-item">12.6.1</span><span class="level-item">日期格式化</span></span></a></li><li><a class="level is-mobile" href="#数值格式化"><span class="level-left"><span class="level-item">12.6.2</span><span class="level-item">数值格式化</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#SpringMVC-JSR303-Validation"><span class="level-left"><span class="level-item">13</span><span class="level-item">SpringMVC-JSR303-Validation</span></span></a></li><li><a class="level is-mobile" href="#视图和视图解析器"><span class="level-left"><span class="level-item">14</span><span class="level-item">视图和视图解析器</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#视图"><span class="level-left"><span class="level-item">14.1</span><span class="level-item">视图</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#常见视图实现类"><span class="level-left"><span class="level-item">14.1.1</span><span class="level-item">常见视图实现类</span></span></a></li><li><a class="level is-mobile" href="#Excel视图"><span class="level-left"><span class="level-item">14.1.2</span><span class="level-item">Excel视图</span></span></a></li></ul></li><li><a class="level is-mobile" href="#视图解析器"><span class="level-left"><span class="level-item">14.2</span><span class="level-item">视图解析器</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#常见视图解析器"><span class="level-left"><span class="level-item">14.2.1</span><span class="level-item">常见视图解析器</span></span></a></li><li><a class="level is-mobile" href="#BeanNameViewResolver的使用-输出excel-amp-pdf"><span class="level-left"><span class="level-item">14.2.2</span><span class="level-item">BeanNameViewResolver的使用(输出excel&amp;pdf)</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#国际化"><span class="level-left"><span class="level-item">15</span><span class="level-item">国际化</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#错误信息回显"><span class="level-left"><span class="level-item">15.1</span><span class="level-item">错误信息回显</span></span></a></li><li><a class="level is-mobile" href="#不同语言切换显示"><span class="level-left"><span class="level-item">15.2</span><span class="level-item">不同语言切换显示</span></span></a></li></ul></li><li><a class="level is-mobile" href="#SpringMVC文件上传"><span class="level-left"><span class="level-item">16</span><span class="level-item">SpringMVC文件上传</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#文件上传的必要前提"><span class="level-left"><span class="level-item">16.1</span><span class="level-item">文件上传的必要前提</span></span></a></li><li><a class="level is-mobile" href="#文件上传的原理分析"><span class="level-left"><span class="level-item">16.2</span><span class="level-item">文件上传的原理分析</span></span></a></li><li><a class="level is-mobile" href="#文件上传的不同情况"><span class="level-left"><span class="level-item">16.3</span><span class="level-item">文件上传的不同情况</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#传统方式文件上传"><span class="level-left"><span class="level-item">16.3.1</span><span class="level-item">传统方式文件上传</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#SpringMVC中的拦截器"><span class="level-left"><span class="level-item">17</span><span class="level-item">SpringMVC中的拦截器</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#自定义拦截器"><span class="level-left"><span class="level-item">17.1</span><span class="level-item">自定义拦截器</span></span></a></li><li><a class="level is-mobile" href="#针对某种mapping配置拦截器"><span class="level-left"><span class="level-item">17.2</span><span class="level-item">针对某种mapping配置拦截器</span></span></a></li><li><a class="level is-mobile" href="#针对所有mapping配置全局拦截器"><span class="level-left"><span class="level-item">17.3</span><span class="level-item">针对所有mapping配置全局拦截器</span></span></a></li><li><a class="level is-mobile" href="#正常的多拦截器执行流程"><span class="level-left"><span class="level-item">17.4</span><span class="level-item">正常的多拦截器执行流程</span></span></a></li><li><a class="level is-mobile" href="#多拦截器中断流程"><span class="level-left"><span class="level-item">17.5</span><span class="level-item">多拦截器中断流程</span></span></a></li><li><a class="level is-mobile" href="#拦截器应用–登录拦截"><span class="level-left"><span class="level-item">17.6</span><span class="level-item">拦截器应用–登录拦截</span></span></a></li></ul></li><li><a class="level is-mobile" href="#异常处理"><span class="level-left"><span class="level-item">18</span><span class="level-item">异常处理</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#DispatcherServlet默认装配的HandlerExceptionResolver"><span class="level-left"><span class="level-item">18.1</span><span class="level-item">DispatcherServlet默认装配的HandlerExceptionResolver</span></span></a></li><li><a class="level is-mobile" href="#ExceptionHandlerExceptionResolver"><span class="level-left"><span class="level-item">18.2</span><span class="level-item">ExceptionHandlerExceptionResolver</span></span></a></li><li><a class="level is-mobile" href="#ResponseStatusExceptionResolver"><span class="level-left"><span class="level-item">18.3</span><span class="level-item">ResponseStatusExceptionResolver</span></span></a></li><li><a class="level is-mobile" href="#DefaultHandlerExceptionResolver"><span class="level-left"><span class="level-item">18.4</span><span class="level-item">DefaultHandlerExceptionResolver</span></span></a></li><li><a class="level is-mobile" href="#SimpleMappingExceptionResolver"><span class="level-left"><span class="level-item">18.5</span><span class="level-item">SimpleMappingExceptionResolver</span></span></a></li></ul></li><li><a class="level is-mobile" href="#若Spring的Ioc容器和SpringMVC的Ioc容器扫描的包有重合的部分，就会导致有的bean会被创建2次。"><span class="level-left"><span class="level-item">19</span><span class="level-item">若Spring的Ioc容器和SpringMVC的Ioc容器扫描的包有重合的部分，就会导致有的bean会被创建2次。</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/C%E8%AF%AD%E8%A8%80/"><span class="level-start"><span class="level-item">C语言</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Groovy/"><span class="level-start"><span class="level-item">Groovy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVAEE/"><span class="level-start"><span class="level-item">JAVAEE</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/"><span class="level-start"><span class="level-item">JAVASE</span></span><span class="level-end"><span class="level-item tag">49</span></span></a><ul><li><a class="level is-mobile" href="/categories/JAVASE/IO%E6%B5%81/"><span class="level-start"><span class="level-item">IO流</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/JDBC/"><span class="level-start"><span class="level-item">JDBC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%9B%BD%E9%99%85%E5%8C%96%E5%BA%94%E7%94%A8/"><span class="level-start"><span class="level-item">国际化应用</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2/"><span class="level-start"><span class="level-item">图形界面</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"><span class="level-start"><span class="level-item">基础语法</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="level-start"><span class="level-item">多线程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%BA%93/"><span class="level-start"><span class="level-item">常用类库</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6/"><span class="level-start"><span class="level-item">异常机制</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E6%96%B0%E7%89%B9%E6%80%A7/"><span class="level-start"><span class="level-item">新特性</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">网络编程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">设计模式</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E9%98%9F%E5%88%97%E4%B8%8E%E6%A0%88/"><span class="level-start"><span class="level-item">队列与栈</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E9%9B%86%E5%90%88/"><span class="level-start"><span class="level-item">集合</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><span class="level-start"><span class="level-item">面向对象</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/"><span class="level-start"><span class="level-item">高级特性</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/JVM/"><span class="level-start"><span class="level-item">JVM</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/MAC/"><span class="level-start"><span class="level-item">MAC</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/MAC/Homebrew/"><span class="level-start"><span class="level-item">Homebrew</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/MAC/%E5%BD%A9%E8%9B%8B%E9%97%B2%E8%81%8A/"><span class="level-start"><span class="level-item">彩蛋闲聊</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/PHP/"><span class="level-start"><span class="level-item">PHP</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/PHP/%E6%95%B4%E4%BD%93%E4%BA%86%E8%A7%A3/"><span class="level-start"><span class="level-item">整体了解</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/docker/"><span class="level-start"><span class="level-item">docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/node/"><span class="level-start"><span class="level-item">node</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/react-native/"><span class="level-start"><span class="level-item">react native</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%9A%E5%8A%A1%E9%A2%86%E5%9F%9F/"><span class="level-start"><span class="level-item">业务领域</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"><span class="level-start"><span class="level-item">中间件</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/NFS%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/"><span class="level-start"><span class="level-item">NFS网络文件系统</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/nginx/"><span class="level-start"><span class="level-item">nginx</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/nosql/"><span class="level-start"><span class="level-item">nosql</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/nosql/redis/"><span class="level-start"><span class="level-item">redis</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6-RocketMQ/"><span class="level-start"><span class="level-item">消息中间件-RocketMQ</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E4%BA%A7%E5%93%81%E5%BF%83%E5%BE%97/"><span class="level-start"><span class="level-item">产品心得</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">前端</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/HTML/"><span class="level-start"><span class="level-item">HTML</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/HTML/%E5%90%8E%E5%8F%B0%E6%A8%A1%E6%9D%BF/"><span class="level-start"><span class="level-item">后台模板</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/Vue/"><span class="level-start"><span class="level-item">Vue</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/XML/"><span class="level-start"><span class="level-item">XML</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/bootstrap/"><span class="level-start"><span class="level-item">bootstrap</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/react/"><span class="level-start"><span class="level-item">react</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">项目构建工具</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">前端项目</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/%E5%9C%A8%E7%BA%BF%E6%95%99%E8%82%B2%E5%B9%B3%E5%8F%B0%E6%A1%88%E4%BE%8B/"><span class="level-start"><span class="level-item">在线教育平台案例</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%AE%89%E5%8D%93/"><span class="level-start"><span class="level-item">安卓</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">工具</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/Photoshop/"><span class="level-start"><span class="level-item">Photoshop</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/gradle/"><span class="level-start"><span class="level-item">gradle</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%BB%BA%E6%A8%A1/"><span class="level-start"><span class="level-item">建模</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%BB%BA%E6%A8%A1/UML/"><span class="level-start"><span class="level-item">UML</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0/"><span class="level-start"><span class="level-item">微信开放平台</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="level-start"><span class="level-item">微信小程序</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/"><span class="level-start"><span class="level-item">微信支付</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><span class="level-start"><span class="level-item">微服务</span></span><span class="level-end"><span class="level-item tag">15</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud/"><span class="level-start"><span class="level-item">SpringCloud</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/springboot%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">springboot框架</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">数据库</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/"><span class="level-start"><span class="level-item">MySQL</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">嵌入式数据库</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/"><span class="level-start"><span class="level-item">数据持久层</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/commons-dbutils%E5%B7%A5%E5%85%B7%E7%B1%BB/"><span class="level-start"><span class="level-item">commons-dbutils工具类</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/"><span class="level-start"><span class="level-item">数据库连接池</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="level-start"><span class="level-item">数据结构</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A6%82%E8%AE%BA%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/"><span class="level-start"><span class="level-item">概论和复杂度</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">日志框架</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">框架</span></span><span class="level-end"><span class="level-item tag">14</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/SpringBatch/"><span class="level-start"><span class="level-item">SpringBatch</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/SpringMVC/"><span class="level-start"><span class="level-item">SpringMVC</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/spring/"><span class="level-start"><span class="level-item">spring</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/"><span class="level-start"><span class="level-item">全文检索</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/lucene/"><span class="level-start"><span class="level-item">lucene</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/solr/"><span class="level-start"><span class="level-item">solr</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">安全框架</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/shiro/"><span class="level-start"><span class="level-item">shiro</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/spring-security/"><span class="level-start"><span class="level-item">spring-security</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/"><span class="level-start"><span class="level-item">数据持久层</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/mybatis%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">mybatis框架</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%B5%8B%E8%AF%95%E4%B8%93%E6%A0%8F/"><span class="level-start"><span class="level-item">测试专栏</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/"><span class="level-start"><span class="level-item">网络爬虫</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%8B%B1%E8%AF%AD%E5%A4%A9%E5%9C%B0/"><span class="level-start"><span class="level-item">英语天地</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/"><span class="level-start"><span class="level-item">计算机原理</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/%E6%B1%87%E7%BC%96/"><span class="level-start"><span class="level-item">汇编</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">设计模式</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">结构型模式</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">行为型模式</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">软件设计</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%9A%8F%E7%AC%94/"><span class="level-start"><span class="level-item">随笔</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%9A%8F%E7%AC%94/%E5%8F%B3%E8%84%91%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">右脑开发</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">项目</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE/%E6%95%88%E7%8E%87/"><span class="level-start"><span class="level-item">效率</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E7%AE%A1%E7%90%86/"><span class="level-start"><span class="level-item">项目构建管理</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E7%AE%A1%E7%90%86/JUnit/"><span class="level-start"><span class="level-item">JUnit</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-01T13:12:06.000Z">2020-12-01</time></p><p class="title"><a href="/2020/12/01/%E6%B1%87%E7%BC%96/%E6%B5%85%E8%B0%88%E8%BE%85%E5%8A%A9/">浅谈辅助</a></p><p class="categories"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/">计算机原理</a> / <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/%E6%B1%87%E7%BC%96/">汇编</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-01T13:12:06.000Z">2020-11-01</time></p><p class="title"><a href="/2020/11/01/%E6%B1%87%E7%BC%96/review-%E6%B1%87%E7%BC%96/">重温汇编</a></p><p class="categories"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/">计算机原理</a> / <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/%E6%B1%87%E7%BC%96/">汇编</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-10-20T08:52:17.000Z">2020-10-20</time></p><p class="title"><a href="/2020/10/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%AC%E4%B8%80%E7%AF%87/">重温数据结构--概论和复杂度</a></p><p class="categories"><a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a> / <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A6%82%E8%AE%BA%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/">概论和复杂度</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-07-06T06:00:00.000Z">2020-07-06</time></p><p class="title"><a href="/2020/07/06/%E9%9A%8F%E7%AC%94/%E5%8F%B3%E8%84%91%E5%BC%80%E5%8F%91/">右脑开发</a></p><p class="categories"><a href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a href="/categories/%E9%9A%8F%E7%AC%94/%E5%8F%B3%E8%84%91%E5%BC%80%E5%8F%91/">右脑开发</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-06-29T08:11:35.896Z">2020-06-29</time></p><p class="title"><a href="/2020/06/29/%E5%89%8D%E7%AB%AF/%E5%89%8D%E5%8F%B0%E6%B8%B2%E6%9F%93%E6%A8%A1%E6%9D%BF/thymeleaf/"> </a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">十月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">十一月 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">十月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">九月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">十二月 2017</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">十月 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">九月 2017</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/08/"><span class="level-start"><span class="level-item">八月 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/06/"><span class="level-start"><span class="level-item">六月 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/05/"><span class="level-start"><span class="level-item">五月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">十二月 2016</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/11/"><span class="level-start"><span class="level-item">十一月 2016</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/10/"><span class="level-start"><span class="level-item">十月 2016</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/08/"><span class="level-start"><span class="level-item">八月 2016</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/03/"><span class="level-start"><span class="level-item">三月 2016</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/11/"><span class="level-start"><span class="level-item">十一月 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/10/"><span class="level-start"><span class="level-item">十月 2015</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/08/"><span class="level-start"><span class="level-item">八月 2015</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/07/"><span class="level-start"><span class="level-item">七月 2015</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/02/"><span class="level-start"><span class="level-item">二月 2015</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/01/"><span class="level-start"><span class="level-item">一月 2015</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/11/"><span class="level-start"><span class="level-item">十一月 2014</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/10/"><span class="level-start"><span class="level-item">十月 2014</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/09/"><span class="level-start"><span class="level-item">九月 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/07/"><span class="level-start"><span class="level-item">七月 2014</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/04/"><span class="level-start"><span class="level-item">四月 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/03/"><span class="level-start"><span class="level-item">三月 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/11/"><span class="level-start"><span class="level-item">十一月 2013</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/10/"><span class="level-start"><span class="level-item">十月 2013</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/09/"><span class="level-start"><span class="level-item">九月 2013</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/04/"><span class="level-start"><span class="level-item">四月 2013</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/12/"><span class="level-start"><span class="level-item">十二月 2012</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/10/"><span class="level-start"><span class="level-item">十月 2012</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/09/"><span class="level-start"><span class="level-item">九月 2012</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/CSS/"><span class="tag">CSS</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Groovy/"><span class="tag">Groovy</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Homebrew/"><span class="tag">Homebrew</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVASE%E8%AF%AD%E6%B3%95/"><span class="tag">JAVASE语法</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVASE%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/"><span class="tag">JAVASE高级特性</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JVM/"><span class="tag">JVM</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MAC/"><span class="tag">MAC</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NFS/"><span class="tag">NFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NOSQL/"><span class="tag">NOSQL</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PHP/"><span class="tag">PHP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Photoshop/"><span class="tag">Photoshop</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Properties/"><span class="tag">Properties</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RocketMQ/"><span class="tag">RocketMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SpringMVC/"><span class="tag">SpringMVC</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UML/"><span class="tag">UML</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WEB%E5%AE%B9%E5%99%A8/"><span class="tag">WEB容器</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XML/"><span class="tag">XML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XML%E8%A7%A3%E6%9E%90%E5%99%A8/"><span class="tag">XML解析器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bootstrap/"><span class="tag">bootstrap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gradle/"><span class="tag">gradle</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jmeter/"><span class="tag">jmeter</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kafka/"><span class="tag">kafka</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lucene/"><span class="tag">lucene</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/redis/"><span class="tag">redis</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/solr/"><span class="tag">solr</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springboot/"><span class="tag">springboot</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springcloud/"><span class="tag">springcloud</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/stream/"><span class="tag">stream</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vsftpd/"><span class="tag">vsftpd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zookeeper/"><span class="tag">zookeeper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%89%E6%96%B9%E6%94%AF%E4%BB%98/"><span class="tag">三方支付</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%9A%E5%8A%A1%E9%A2%86%E5%9F%9F/"><span class="tag">业务领域</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"><span class="tag">中间件</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%A7%E5%93%81/"><span class="tag">产品</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BB%A3%E7%90%86%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">代理设计模式</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%A9%E5%99%A8/"><span class="tag">利器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF%E6%A1%88%E4%BE%8B/"><span class="tag">前端案例</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"><span class="tag">前端项目构建工具</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"><span class="tag">单例模式</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"><span class="tag">单元测试</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8D%E5%B0%84/"><span class="tag">反射</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/"><span class="tag">反射机制</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%BD%E9%99%85%E5%8C%96%E5%BA%94%E7%94%A8/"><span class="tag">国际化应用</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="tag">小程序</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7/"><span class="tag">工具</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8C%81%E4%B9%85%E5%B1%82/"><span class="tag">持久层</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93ID%E7%94%9F%E6%88%90%E8%AE%BE%E8%AE%A1/"><span class="tag">数据库ID生成设计</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/"><span class="tag">数据库设计</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/"><span class="tag">日志框架</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/"><span class="tag">权限管理</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"><span class="tag">正则表达式</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B3%9B%E5%9E%8B/"><span class="tag">泛型</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/"><span class="tag">线程安全</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4/"><span class="tag">终端命令</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><span class="tag">网络编程</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%8B%B1%E8%AF%AD%E5%A4%A9%E5%9C%B0/"><span class="tag">英语天地</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">设计模式</span><span class="tag">4</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="藏经阁" height="28"></a><p class="is-size-7"><span>&copy; 2022 sxm-star</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><canvas class="fireworks" width="100%" height="100%" style="position: fixed; left: 0; top: 0; z-index: 99999999; pointer-events: none;"></canvas><script src="/js/anime.min.js" defer></script><script src="/js/fireworks.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/prism/codeBlockFuction.js"></script><script src="/js/prism/prism.js"></script><script src="/js/night/night.js" defer></script><script src="/js/snow/snow.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>