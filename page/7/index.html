<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>藏经阁</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="藏经阁"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="藏经阁"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="藏经阁"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="藏经阁"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="sxm-star"><meta property="article:tag" content="’Developer,Programmer,Coder,Book,History,culture,science and technology‘"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"藏经阁","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"sxm-star"},"publisher":{"@type":"Organization","name":"藏经阁","logo":{"@type":"ImageObject","url":"http://example.com/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="藏经阁" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-05-03T12:52:41.000Z" title="2017/5/3 下午8:52:41">2017-05-03</time>发表</span><span class="level-item"><time dateTime="2020-06-19T09:52:00.413Z" title="2020/6/19 下午5:52:00">2020-06-19</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a><span> / </span><a class="link-muted" href="/categories/%E6%A1%86%E6%9E%B6/SpringBatch/">SpringBatch</a></span><span class="level-item">3 分钟读完 (大约490个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/05/03/framework/spring/springbatch%E6%89%B9%E5%A4%84%E7%90%86/">SpringBatch批处理框架</a></h1><div class="content"><h2 id="什么是批处理"><a href="#什么是批处理" class="headerlink" title="什么是批处理"></a>什么是批处理</h2><p>面向海量数据<br>离线、自动、不需要人工参与。高效处理复杂数据分析<br>基础设施</p>
<h3 id="批处理与大数据"><a href="#批处理与大数据" class="headerlink" title="批处理与大数据"></a>批处理与大数据</h3><p>Mapreduce</p>
<h3 id="批处理与消息传递"><a href="#批处理与消息传递" class="headerlink" title="批处理与消息传递"></a>批处理与消息传递</h3><p>互补和整合</p>
<h2 id="批处理的流程"><a href="#批处理的流程" class="headerlink" title="批处理的流程"></a>批处理的流程</h2><p><img src="/images/spring/%E6%89%B9%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B.png"></p>
<h2 id="Spring-Batch特点"><a href="#Spring-Batch特点" class="headerlink" title="Spring Batch特点"></a>Spring Batch特点</h2><p>满足批处理需求<br>基于 Spring和Java<br>轻量级<br>组件和模式<br>文件、数据库、读写方式健壮和可靠<br><strong>跟踪、重试、跳过、重启</strong></p>
<h2 id="Spring-Batch－应用"><a href="#Spring-Batch－应用" class="headerlink" title="Spring Batch－应用"></a>Spring Batch－应用</h2><p>定期提交批处理任务<br>按顺序处理依赖的任务<br>部分处理<br>批处理事务支持<br>消息传递等基础设施集成</p>
<h3 id="Spring-Batch－离线并行"><a href="#Spring-Batch－离线并行" class="headerlink" title="Spring Batch－离线并行"></a>Spring Batch－离线并行</h3><p><strong>并行计算,分片操作</strong><br><strong>SpringBatch与Hadoop整合离线服务</strong></p>
<h3 id="Spring-Batch－流式"><a href="#Spring-Batch－流式" class="headerlink" title="Spring Batch－流式"></a>Spring Batch－流式</h3><p><strong>流式处理</strong><br><strong>SpringBatch与消息中间件整合</strong><br><img src="/images/spring/%E6%B5%81%E5%BC%8F.png"></p>
<h2 id="Spring-Batch－技术目标"><a href="#Spring-Batch－技术目标" class="headerlink" title="Spring Batch－技术目标"></a>Spring Batch－技术目标</h2><p>Spring编程模型管理流程，专注业务通用核心的服务以接口形式提供<br>完整的默认核心执行接囗实现<br>明确分离批处理的执行环境和应用<br>部署模型简单</p>
<h2 id="Spring-Batch基本架构"><a href="#Spring-Batch基本架构" class="headerlink" title="Spring Batch基本架构"></a>Spring Batch基本架构</h2><p><img src="/images/spring/%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84.png"></p>
<h2 id="Spring-Batch-领域模型"><a href="#Spring-Batch-领域模型" class="headerlink" title="Spring Batch 领域模型"></a>Spring Batch 领域模型</h2><p><img src="/images/spring/%E9%A2%86%E5%9F%9F%E6%A8%A1%E5%9E%8B.png"></p>
<h2 id="Spring-Batch集成"><a href="#Spring-Batch集成" class="headerlink" title="Spring Batch集成"></a>Spring Batch集成</h2><p><img src="/images/spring/%E9%9B%86%E6%88%90.png"></p>
<h2 id="案例介绍"><a href="#案例介绍" class="headerlink" title="案例介绍"></a>案例介绍</h2><p><img src="/images/spring/%E6%A1%88%E4%BE%8B%E4%BB%8B%E7%BB%8D.png"></p>
<h3 id="ETL"><a href="#ETL" class="headerlink" title="ETL"></a>ETL</h3><p><img src="/images/spring/ETL.png"></p>
<h3 id="数据导入"><a href="#数据导入" class="headerlink" title="数据导入"></a>数据导入</h3><p><img src="/images/spring/%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5.png"></p>
<h3 id="基本模型"><a href="#基本模型" class="headerlink" title="基本模型"></a>基本模型</h3><p><img src="/images/spring/%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9E%8B.png"></p>
<h3 id="扩展模型"><a href="#扩展模型" class="headerlink" title="扩展模型"></a>扩展模型</h3><p><img src="/images/spring/%E6%89%A9%E5%B1%95%E6%A8%A1%E5%9E%8B.png"></p>
<h3 id="基本接口"><a href="#基本接口" class="headerlink" title="基本接口"></a>基本接口</h3><p><img src="/images/spring/%E5%9F%BA%E6%9C%AC%E6%8E%A5%E5%8F%A3.png"></p>
<h3 id="读取文本"><a href="#读取文本" class="headerlink" title="读取文本"></a>读取文本</h3><p><img src="/images/spring/%E8%AF%BB%E5%8F%96%E6%96%87%E6%9C%AC.png"></p>
<h3 id="实现mapper"><a href="#实现mapper" class="headerlink" title="实现mapper"></a>实现mapper</h3><p><img src="/images/spring/%E5%AE%9E%E7%8E%B0mapper.png"></p>
<h3 id="配置reader"><a href="#配置reader" class="headerlink" title="配置reader"></a>配置reader</h3><p><img src="/images/spring/%E9%85%8D%E7%BD%AEreader.png"></p>
<h3 id="实现writer"><a href="#实现writer" class="headerlink" title="实现writer"></a>实现writer</h3><p><img src="/images/spring/%E5%AE%9E%E7%8E%B0writer.png"></p>
<h3 id="配置job"><a href="#配置job" class="headerlink" title="配置job"></a>配置job</h3><p><img src="/images/spring/%E9%85%8D%E7%BD%AEjob.png"></p>
<h3 id="解压文件"><a href="#解压文件" class="headerlink" title="解压文件"></a>解压文件</h3><p><img src="/images/spring/%E8%A7%A3%E5%8E%8B%E6%96%87%E4%BB%B6.png"><br><img src="/images/spring/tasklet.png"></p>
<h3 id="启动job"><a href="#启动job" class="headerlink" title="启动job"></a>启动job</h3><p><img src="/images/spring/%E5%90%AF%E5%8A%A8job.png"></p>
<h3 id="启动job基础配置"><a href="#启动job基础配置" class="headerlink" title="启动job基础配置"></a>启动job基础配置</h3><p><img src="/images/spring/%E5%90%AF%E5%8A%A8job%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE.png"></p>
<h3 id="中间遇到异常处理"><a href="#中间遇到异常处理" class="headerlink" title="中间遇到异常处理"></a>中间遇到异常处理</h3><p><img src="/images/spring/%E4%B8%AD%E9%97%B4%E9%81%87%E5%88%B0%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-28T10:52:17.000Z" title="2016/12/28 下午6:52:17">2016-12-28</time>发表</span><span class="level-item"><time dateTime="2022-05-09T08:03:44.178Z" title="2022/5/9 下午4:03:44">2022-05-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span> / </span><a class="link-muted" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a></span><span class="level-item">1 小时读完 (大约7188个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/28/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E7%AC%AC%E4%B8%89%E7%AF%87--%E4%BC%98%E5%8C%96%E7%AF%87/">MySQL第三篇--性能优化篇</a></h1><div class="content"><h2 id="优化服务器硬件"><a href="#优化服务器硬件" class="headerlink" title="优化服务器硬件"></a>优化服务器硬件</h2><pre><code class="line-numbers language-text">服务器的硬件性能直接决定着MySQL数据库的性能，硬件的性能瓶颈，直接决定MySQL数据库的运行速度和效率。
需要从以下几个方面考虑：
1、	配置较大的内存。足够大的内存，是提高MySQL数据库性能的方法之一。内存的IO比硬盘快的多，可以增加系统的缓冲区容量，使数据在内存停留的时间更长，以减少磁盘的IO。
2、	配置高速磁盘，比如SSD。
3、	合理分配磁盘IO，把磁盘IO分散到多个设备上，以减少资源的竞争，提高并行操作能力。
4、	配置多核处理器，MySQL是多线程的数据库，多处理器可以提高同时执行多个线程的能力。
</code></pre>
<h2 id="优化MySQL的参数"><a href="#优化MySQL的参数" class="headerlink" title="优化MySQL的参数"></a>优化MySQL的参数</h2><blockquote>
<p>通过优化MySQL的参数可以提高资源利用率，从而达到提高MySQL服务器性能的目的。<br>MySQL的配置参数都在my.conf或者my.ini文件的[mysqld]组中，常用的参数如下：<br><img src="/images/database/ini1.png" alt="my.conf参数信息"><br><img src="/images/database/ini2.png" alt="my.conf参数信息"></p>
</blockquote>
<h2 id="MYSQL连接优化"><a href="#MYSQL连接优化" class="headerlink" title="MYSQL连接优化"></a>MYSQL连接优化</h2><ul>
<li>很多开发人员都会遇见”MySQL: ERROR 1040: Too many connections”的异常情况，造成这种情况的一种原因是访问量过高，MySQL服务器抗不住，这个时候就要考虑增加从服务器分散读压力；另一种原因就是MySQL配置文件中max_connections值过小。<pre><code class="line-numbers language-sql">show variables like &#39;%max_connections%&#39;;
show global status like &#39;Max_used_connections&#39;;
show status;
</code></pre></div><a class="article-more button is-small is-size-7" href="/2016/12/28/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL%E7%AC%AC%E4%B8%89%E7%AF%87--%E4%BC%98%E5%8C%96%E7%AF%87/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-27T10:52:17.000Z" title="2016/12/27 下午6:52:17">2016-12-27</time>发表</span><span class="level-item"><time dateTime="2018-03-01T12:35:10.532Z" title="2018/3/1 下午8:35:10">2018-03-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span><span class="level-item">6 分钟读完 (大约941个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/27/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E4%BC%98%E5%8C%96%E5%92%8C%E6%8F%92%E5%85%A5%E4%BC%98%E5%8C%96/">MySQL数据库表优化和插入优化</a></h1><div class="content"><h2 id="数据库表结构优化"><a href="#数据库表结构优化" class="headerlink" title="数据库表结构优化"></a>数据库表结构优化</h2><p>一个好的数据库设计方案对于数据库的性能往往会起到事半功倍的效果。<br>需要考虑数据冗余、查询和更新的速度、字段的数据类型是否合理等多方面的内容。</p>
<h3 id="将字段很多的表分解成多个表"><a href="#将字段很多的表分解成多个表" class="headerlink" title="将字段很多的表分解成多个表"></a>将字段很多的表分解成多个表</h3><p>对于字段较多的表，如果有些字段的使用频率很低，可以将这些字段分离出来形成新表。<br>因为当一个表的数据量很大时，会由于使用频率低的字段的存在而变慢。</p>
<h3 id="增加中间表"><a href="#增加中间表" class="headerlink" title="增加中间表"></a>增加中间表</h3><p>对于需要经常联合查询的表，可以建立中间表以提高查询效率。<br>通过建立中间表，将需要通过联合查询的数据插入到中间表中，然后将原来的联合查询改为对中间表的查询。</p>
<h3 id="增加冗余字段"><a href="#增加冗余字段" class="headerlink" title="增加冗余字段"></a>增加冗余字段</h3><p>设计数据表时应尽量遵循范式理论的规约，尽可能的减少冗余字段，让数据库设计看起来精致、优雅。但是，合理的加入冗余字段可以提高查询速度。<br>表的规范化程度越高，表和表之间的关系越多，需要连接查询的情况也就越多，性能也就越差。<br>注意：<br>冗余字段的值在一个表中修改了，就要想办法在其他表中更新，否则就会导致数据不一致的问题。</p>
<h2 id="插入数据的优化"><a href="#插入数据的优化" class="headerlink" title="插入数据的优化"></a>插入数据的优化</h2><p>插入数据时，影响插入速度的主要是索引、唯一性校验、一次插入的数据条数等。<br>插入数据的优化，不同的存储引擎优化手段不一样，在MySQL中常用的存储引擎有，MyISAM和InnoDB，两者的区别<br><img src="/images/database/%E5%BC%95%E6%93%8E%E5%8C%BA%E5%88%AB.png"></p>
<h3 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h3><h4 id="禁用索引"><a href="#禁用索引" class="headerlink" title="禁用索引"></a>禁用索引</h4><p><strong>对于非空表</strong>，插入记录时，MySQL会根据表的索引对插入的记录建立索引。如果插入大量数据，建立索引会降低插入数据速度。<br>为了解决这个问题，<strong>可以在批量插入数据之前禁用索引，数据插入完成后再开启索引。</strong><br>禁用索引的语句：<br>ALTER TABLE table_name DISABLE KEYS<br>开启索引语句：<br>ALTER TABLE table_name ENABLE KEYS<br><strong>对于空表批量插入数据，则不需要进行操作，因为MyISAM引擎的表是在导入数据后才建立索引。</strong></p>
<h4 id="禁用唯一性检查"><a href="#禁用唯一性检查" class="headerlink" title="禁用唯一性检查"></a>禁用唯一性检查</h4><p>唯一性校验会降低插入记录的速度，可以在插入记录之前禁用唯一性检查，插入数据完成后再开启。<br>禁用唯一性检查的语句：SET UNIQUE_CHECKS &#x3D; 0;<br>开启唯一性检查的语句：SET UNIQUE_CHECKS &#x3D; 1;</p>
<h4 id="批量插入数据"><a href="#批量插入数据" class="headerlink" title="批量插入数据"></a>批量插入数据</h4><p>插入数据时，可以使用一条INSERT语句插入一条数据，也可以插入多条数据。<br><img src="/images/database/addBatch.png"></p>
<h4 id="使用LOAD-DATA-INFILE"><a href="#使用LOAD-DATA-INFILE" class="headerlink" title="使用LOAD DATA INFILE"></a>使用LOAD DATA INFILE</h4><p>当需要批量导入数据时，使用LOAD DATA INFILE语句比INSERT语句插入速度快很多</p>
<h3 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h3><h4 id="禁用唯一性检查-1"><a href="#禁用唯一性检查-1" class="headerlink" title="禁用唯一性检查"></a>禁用唯一性检查</h4><p>用法和MyISAM一样。</p>
<h4 id="禁用外键检查"><a href="#禁用外键检查" class="headerlink" title="禁用外键检查"></a>禁用外键检查</h4><p>插入数据之前执行禁止对外键的检查，数据插入完成后再恢复，可以提供插入速度。<br>禁用：SET foreign_key_checks &#x3D; 0;<br>开启：SET foreign_key_checks &#x3D; 1;</p>
<h4 id="禁止自动提交"><a href="#禁止自动提交" class="headerlink" title="禁止自动提交"></a>禁止自动提交</h4><p>插入数据之前执行禁止事务的自动提交，数据插入完成后再恢复，可以提供插入速度。<br>禁用：SET autocommit &#x3D; 0;<br>开启：SET autocommit &#x3D; 1;</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-26T10:52:17.000Z" title="2016/12/26 下午6:52:17">2016-12-26</time>发表</span><span class="level-item"><time dateTime="2022-05-09T09:27:34.705Z" title="2022/5/9 下午5:27:34">2022-05-09</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span><span class="level-item">2 小时读完 (大约17600个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/26/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/mysql%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/">MySQL5.6的查询优化</a></h1><div class="content"><h2 id="优化定义"><a href="#优化定义" class="headerlink" title="优化定义"></a>优化定义</h2><pre><code class="line-numbers language-text">1.	合理安排资源、调整系统参数使MySQL运行更快、更节省资源。
2.	优化是多方面的，包括查询、更新、服务器等。
3.	原则：减少系统瓶颈，减少资源占用，增加系统的反应速度。
</code></pre>
<p><img src="/images/database/mysql%E6%9E%B6%E6%9E%84%E5%9B%BE.png"></p>
<pre><code class="line-numbers language-text">select * from tb_student A where A.age=&#39;18&#39; and A.name=&#39; 张三 &#39;; 
结合上面的说明，我们分析下这个语句的执行流程:
- 先检查该语句是否有权限，如果没有权限，直接返回错误信息，如果有权限，在 MySQL8.0 版本以前，会先查询缓存，以这条 sql 语句为 key 在内存中查询是否有结果，如果有直接缓存，如果没有，执行下一步。
- 通过分析器进行词法分析，提取 sql 语句的关键元素，比如提取上面这个语句是查询 select，提取需要查 询的表名为 tb_student,需要查询所有的列，查询条件是这个表的 id=&#39;1&#39;。然后判断这个 sql 语句是否有语法错误，比如关键词是否正确等等，如果检查没问题就执行下一步。
- 接下来就是优化器进行确定执行方案，上面的 sql 语句，可以有两种执行方案: 
  - 先查询学生表中姓名为“张三”的学生，然后判断是否年龄是 18。 
  - 先找出学生中年龄 18 岁的学生，然后再查询姓名为“张三”的学生。
那么优化器根据自己的优化算法进行选择执行效率最好的一个方案(优化器认为，有时候不一定最好)。
那么确认了执行计划后就准备开始执行了。
- 进行权限校验，如果没有权限就会返回错误信息，如果有权限就会调用数据库引擎接口，返回引擎的执行结果
</code></pre>
<pre><code class="line-numbers language-text">updatetb_studentAsetA.age=&#39;19&#39;whereA.name=&#39; 张三 &#39;;
 我们来给张三修改下年龄。其实这条语句也基本上会沿着上一个查询的流程走，只不过执行更新的时候肯定要记录 日志啦，这就会引入日志模块了，MySQL 自带的日志模块式 binlog(归档日志)，所有的存储引擎都可以使用，我们常用的 InnoDB 引擎还自带了一个日志模块 redo log(重做日志)，我们就以 InnoDB 模式下来探讨这个语句的 执行流程。流程如下:
- 先查询到张三这一条数据，如果有缓存，也是会用到缓存。
- 然后拿到查询的数据，把 age 改为 19
- 然后调用引擎 API 接口，写入这一行数据。InnoDB 引擎把数据保存在内存中，同时记录 redo log，此时 redo log进入 prepare(预提交)状态，然后告诉执行器，执行完成了，随时可以提交。
- 执行器收到通知后记录 binlog，然后调用引擎接口，提交 redo log 为 commit(提交)状态
</code></pre>
<pre><code class="line-numbers language-text">MySQL 主要分为 Server 层和引擎层，Server 层主要包括连接器、查询缓存、分析器、优化器、执行器，同 时还有一个日志模块(binlog)，这个日志模块所有执行引擎都可以共用,redolog 只有 InnoDB 有。
- 引擎层是插件式的，目前主要包括，MyISAM,InnoDB,Memory 等。
- SQL 等执行过程分为两类，一类对于查询等过程如下:权限校验---》查询缓存---》分析器---》优化器---》权
限校验---》执行器---》引擎
- 对于更新等语句执行流程如下:分析器----》权限校验----》执行器---》引擎---redo log prepare---》binlog---》redo
log commit
</code></pre>
<h2 id="redo-log理解"><a href="#redo-log理解" class="headerlink" title="redo log理解"></a>redo log理解</h2><pre><code class="line-numbers language-text">Mysql 是先把磁盘上的数据加载到内存中，在内存中对数据进行修改，再刷回磁盘上。为了避免此时突然宕 机，内存中的数据就会丢失。事务提交前直接把数据写入磁盘啊。但是直接写入磁盘又会出现新的问题-----只修改 一个页面里的一个字节，就要将整个页面刷入磁盘，太浪费资源了。毕竟一个页面 16kb 大小，你只改其中一点点 东西，就要将 16kb 的内容刷入磁盘。毕竟一个事务里的 SQL 可能牵涉到多个数据页的修改，而这些数据页可能 不是相邻的，也就是属于随机 IO。显然操作随机IO，速度会比较慢。于是，决定采用 redo log 解决上面的问题。 
当做数据修改的时候，不仅在内存中操作，还会在 redo log 中记录这次操作。当事务提交的时候，会将 redo log 日 志进行刷盘(redo log 一部分在内存中，一部分在磁盘上)。当数据库宕机重启的时候，会将 redo log 中的内容恢复 到数据库中，再根据 undo log 和 binlog 内容决定回滚数据还是提交数据。
- 采用 redo log 的好处
其实好处就是将 redo log 进行刷盘比对数据页刷盘效率高，具体表现如下 redo log 体积小，毕竟只记录了哪一页修改了啥，因此体积小，刷盘快。 redo log 是一直往末尾进行追加，属于顺序IO。效率显然比随机IO来的快。
- 使用 redo log 怎么保证的 crashsafe
最开始 MySQL 并没与 InnoDB 引擎( InnoDB 引擎是其他公司以插件形式插入 MySQL 的) ，MySQL 自带的 引擎是 MyISAM 该引擎只有用来归档 binlog 日志， redo log 是 InnoDB 引擎特有的，因此只有 InnoDB 引擎具有 crash-safe 的能力(crash-safe 的能力即使数据库发生异常重启，之前提交的记录都不会丢失)。
- InnoDB 引擎就是通 过 redo log 两阶段提交的方式+Mysql 事务处理机制来支持事务的。
通过 redo log 预提交—&gt; bin log 入库—&gt; redo log 提交来保证 crashsafe。但是 redo log 处于预提交状态，binglog 也已经写完了，这个时候发生了异常重启会怎么样呢?这个就要依赖于 MySQL 的处理机制了，MySQL 的处理过程 如下:
 - 判断redolog是否完整，如果判断是完整的，就立即提交。
 - 如果 redo log 只是预提交但不是 commit 状态，这个时候就会去判断 binlog 是否完整，如果完整就提交 redo log, 
   不完整就回滚事务【undo log】。这样就解决了数据一致性的问题。
</code></pre>
<h2 id="数据库的性能参数"><a href="#数据库的性能参数" class="headerlink" title="数据库的性能参数"></a>数据库的性能参数</h2><p>使用SHOW STATUS语句查看MySQL数据库的性能参数</p>
<ul>
<li>SHOW STATUS LIKE ‘value‘<br><strong>常用的参数：</strong><br> Slow_queries  慢查询次数<br> Com_(CRUD) 操作的次数<br> Uptime  上线时间<br>慢查询查看状态示例:<br><img src="/images/database/slow_queries.png"><br>统计CRUD次数<pre><code class="line-numbers language-sql">show status like &#39;Com_delete&#39;;
show status like &#39;Com_select&#39;;
show status like &#39;Com_insert&#39;;
</code></pre>
统计上线时间<pre><code class="line-numbers language-sql">show status like &#39;Uptime&#39;
输出
Uptime	6960661    //表示这么多秒之前上线的
</code></pre>
</li>
</ul>
<h2 id="查询优化"><a href="#查询优化" class="headerlink" title="查询优化"></a>查询优化</h2><h3 id="Explain"><a href="#Explain" class="headerlink" title="Explain"></a>Explain</h3><p>在MySQL中可以使用EXPLAIN查看SQL执行计划，用法：EXPLAIN SELECT * FROM tb_item<br><img src="/images/database/explain.png"></p>
<h3 id="结果说明"><a href="#结果说明" class="headerlink" title="结果说明"></a>结果说明</h3><h4 id="id"><a href="#id" class="headerlink" title="id"></a>id</h4><p>SELECT识别符。这是SELECT查询序列号。这个不重要</p>
<h4 id="select-type"><a href="#select-type" class="headerlink" title="select_type"></a>select_type</h4><p>有以下几种值：</p>
<ul>
<li><p>SIMPLE 表示简单查询，其中不包含连接查询和子查询</p>
</li>
<li><p>PRIMARY 表示主查询，或者是最外面的查询语句<br><img src="/images/database/primary.png"></p>
</li>
<li><p>UNION 表示连接查询的第2个或后面的查询语句。<br><img src="/images/database/union.png"></p>
</li>
<li><p>DEPENDENT UNION UNION中的第二个或后面的SELECT语句，取决于外面的查询。</p>
</li>
<li><p>UNION RESULT 连接查询的结果。</p>
</li>
<li><p>SUBQUERY子查询中的第1个SELECT语句<br><img src="/images/database/sub.png"></p>
</li>
<li><p>DEPENDENT SUBQUERY 子查询中的第1个SELECT语句，取决于外面的查询。</p>
</li>
<li><p>DERIVED SELECT(FROM 子句的子查询)。</p>
<h4 id="table"><a href="#table" class="headerlink" title="table"></a>table</h4><p>表示查询的表</p>
<h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><p>表示表的连接类型。<br>以下的连接类型的顺序是从最佳类型到最差类型：</p>
</li>
<li><p>1、system<br>表仅有一行，这是const类型的特列，平时不会出现，这个也可以忽略不计。</p>
</li>
<li><p>2、const<br>数据表最多只有一个匹配行，因为只匹配一行数据，所以很快，常用于PRIMARY KEY或者UNIQUE索引的查询，可理解为const是最优化的<br><img src="/images/database/const.png"></p>
</li>
<li><p>3、eq_ref (多出现在唯一索引或者主键)<br>mysql手册是这样说的:”对于每个来自于前面的表的行组合，从该表中读取一行。这可能是最好的联接类型，除了const类型。它用在一个索引的所有部分被联接使用并且索引是UNIQUE或PRIMARY KEY”。eq_ref可以用于使用&#x3D;比较带索引的列<br><img src="/images/database/eq-ref.png"></p>
</li>
<li><p>4、ref (多出现在普通索引情况下)<br>查询条件索引既不是UNIQUE也不是PRIMARY KEY的情况。ref可用于&#x3D;或&lt;或&gt;操作符的带索引的列。<br><img src="/images/database/ref.png"></p>
</li>
<li><p>5、 	ref_or_null<br>该联接类型如同ref，但是添加了MySQL可以专门搜索包含NULL值的行。在解决子查询中经常使用该联接类型的优化。<br><strong>上面这五种情况都是很理想的索引使用情况。</strong></p>
</li>
<li><p>6、index_merge  （多出现在联合索引）<br>该联接类型表示使用了索引合并优化方法。在这种情况下，key列包含了使用的索引的清单，key_len包含了使用的索引的最长的关键元素。</p>
</li>
<li><p>7、unique_subquery<br>该类型替换了下面形式的IN子查询的ref: value IN (SELECT primary_key FROM single_table WHERE some_expr) unique_subquery是一个索引查找函数,可以完全替换子查询,效率更高。</p>
</li>
<li><p>8、index_subquery<br>该联接类型类似于unique_subquery。可以替换IN子查询,但只适合下列形式的子查询中的非唯一索引: value IN (SELECT key_column FROM single_table WHERE some_expr)</p>
</li>
<li><p>9、range<br>只检索给定范围的行,使用一个索引来选择行<br><img src="/images/database/range.png"></p>
</li>
<li><p>10、index<br>该联接类型与ALL相同,除了只有索引树被扫描。这通常比ALL快,因为索引文件通常比数据文件小。</p>
</li>
<li><p>11 ALL<br>对于每个来自于先前的表的行组合,进行完整的表扫描。（性能最差）</p>
<h4 id="possible-keys"><a href="#possible-keys" class="headerlink" title="possible_keys"></a>possible_keys</h4><p>表示可用的索引有哪些</p>
<h4 id="key-实际用到的索引"><a href="#key-实际用到的索引" class="headerlink" title="key 实际用到的索引"></a>key 实际用到的索引</h4><p>显示MySQL实际决定使用的键(索引)。如果没有选择索引,键是NULL。<br>可以强制使用索引或者忽略索引<br><img src="/images/database/key.png"></p>
<h4 id="key-len"><a href="#key-len" class="headerlink" title="key_len"></a>key_len</h4><p>显示MySQL决定使用的键长度。如果键是NULL,则长度为NULL。<br>注意：key_len是确定了MySQL将实际使用的索引长度。</p>
<h4 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h4><p>显示使用哪个列或常数与key一起从表中选择行。</p>
<h4 id="rows"><a href="#rows" class="headerlink" title="rows"></a>rows</h4><p>显示MySQL认为它执行查询时必须检查的行数。</p>
<h4 id="Extra"><a href="#Extra" class="headerlink" title="Extra"></a>Extra</h4><p>该列包含MySQL解决查询的详细信息<br>•	Distinct:MySQL发现第1个匹配行后,停止为当前的行组合搜索更多的行。<br>•	Not exists:MySQL能够对查询进行LEFT JOIN优化,发现1个匹配LEFT JOIN标准的行后,不再为前面的的行组合在该表内检查更多的行。<br>•	range checked for each record (index map: #):MySQL没有发现好的可以使用的索引,但发现如果来自前面的表的列值已知,可能部分索引可以使用。<br>•	Using filesort:MySQL需要额外的一次传递,以找出如何按排序顺序检索行。<br>•	Using index:从只使用索引树中的信息而不需要进一步搜索读取实际的行来检索表中的列信息。<br>•	Using temporary:为了解决查询,MySQL需要创建一个临时表来容纳结果。<br>•	Using where:WHERE 子句用于限制哪一个行匹配下一个表或发送到客户。<br>•	Using sort_union(…), Using union(…), Using intersect(…):这些函数说明如何为index_merge联接类型合并索引扫描。<br>•	Using index for group-by:类似于访问表的Using index方式,Using index for group-by表示MySQL发现了一个索引,可以用来查 询GROUP BY或DISTINCT查询的所有列,而不要额外搜索硬盘访问实际的表。</p>
<h3 id="使用索引注意的地方"><a href="#使用索引注意的地方" class="headerlink" title="使用索引注意的地方"></a>使用索引注意的地方</h3><p>索引可以提供查询的速度，但并不是使用了带有索引的字段查询都会生效，有些情况下是不生效的，需要注意！</p>
<h4 id="使用LIKE关键字的查询"><a href="#使用LIKE关键字的查询" class="headerlink" title="使用LIKE关键字的查询"></a>使用LIKE关键字的查询</h4><p>在使用LIKE关键字进行查询的查询语句中，如果匹配字符串的第一个字符为“%”，索引不起作用。<strong>只有“%”不在第一个位置，索引才会生效。</strong><br><img src="/images/database/like_index.png"></p>
<h4 id="使用联合索引的查询"><a href="#使用联合索引的查询" class="headerlink" title="使用联合索引的查询"></a>使用联合索引的查询</h4><p>MySQL可以为多个字段创建索引，一个索引可以包括16个字段。对于联合索引，<strong>只有查询条件中使用了这些字段中第一个字段时，索引才会生效。</strong><br><img src="/images/database/%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95%E7%94%9F%E6%95%88%E6%9D%A1%E4%BB%B6.png"></p>
<h4 id="使用OR关键字的查询"><a href="#使用OR关键字的查询" class="headerlink" title="使用OR关键字的查询"></a>使用OR关键字的查询</h4><p>查询语句的查询条件中只有OR关键字，<strong>且OR前后的两个条件中的列都是索引时</strong>，索引才会生效，否则，索引不生效<br><img src="/images/database/or%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E7%94%9F%E6%95%88%E6%9D%A1%E4%BB%B6.png"></p>
<h3 id="子查询优化"><a href="#子查询优化" class="headerlink" title="子查询优化"></a>子查询优化</h3><p>MySQL从4.1版本开始支持子查询，使用子查询进行SELECT语句嵌套查询，可以一次完成很多逻辑上需要多个步骤才能完成的SQL操作。<br>子查询虽然很灵活，但是执行效率并不高。<br>执行子查询时，MYSQL需要创建临时表，查询完毕后再删除这些临时表，所以，子查询的速度会受到一定的影响。<br>优化：<br><strong>可以使用连接查询（JOIN）代替子查询，连接查询时不需要建立临时表，其速度比子查询快</strong></p>
</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><pre><code class="line-numbers language-text">SELECT 语句务必指明字段名称(避免直接使用 select * ) SQL 语句要避免造成索引失效的写法
SQL 语句中 IN 包含的值不应过多 当只需要一条数据的时候，使用 limit 1 如果排序字段没有用到索引，就尽量少排序 如果限制条件中其他字段没有索引，尽量少用 or
尽量用 union all 代替 union,union all 不过滤 效率提高,如非必须,请用 union all因为 union 去重的代价非常高, 放在程序里去重
避免在 where 子句中对字段进行 null 值判断
不建议使用%前缀模糊查询
避免在 where 子句中对字段进行表达式操作
Join 优化 能用 inner join 就不用 left join right join，如必须使用 一定要已小表为驱动
limit 及翻页优化
limit offset,N, 当 offset 非常大时, 效率极低, 原因是 mysql 并不是跳过 offset 行,然后单取 N 行, 而是取 offset+N 行,返回放弃前 offset 行,返回 N 行. 效率较低,当 offset 越大时,效率越低
优化办法:
1: 从业务上去解决
办法: 不允许翻过 100 页 以百度为例,一般翻页到 70 页左右.
1:不用 offset,用条件查询.
3: 非要物理删除,还要用 offset 精确查询,还不限制用户分页,怎么办? 分析: 优化思路是 不查,少查,查索引,少取. 我们现在必须要查,则只查索引,不查数据,得到 id.
再用 id 去查具体条目. 这种技巧就是延迟索引.

索引优化策略
1. 选择唯一性索引
2. 唯一性索引的值是唯一的，可以更快速的通过该索引来确定某条记录。
3. 为经常需要排序、分组和联合操作的字段建立索引:
4. 为常作为查询条件的字段建立索引。
5. 限制索引的数目: 越多的索引，会使更新表变得很浪费时间。
6. 尽量使用数据量少的索引
7. 如果索引的值很长，那么查询的速度会受到影响。
8. 尽量使用前缀来索引
9. 如果索引字段的值很长，最好使用值的前缀来索引。
10. 删除不再使用或者很少使用的索引
11. 最左前缀匹配原则，非常重要的原则。
12. 尽量选择区分度高的列作为索引
13. 区分度的公式是表示字段不重复的比例
14. 索引列不能参与计算，保持列“干净”:带函数的查询不参与索引。
15. 尽量的扩展索引，不要新建索引。

应尽量避免在 where 子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行 全表扫描。如:
select id from t where substring(name,1,3)=’abc’ –name 以 abc 开头的 id
select id from t where datediff(day,createdate,’2005-11-30′)=0 –’2005-11-30′生成 的 id
应改为:
select id from t where name like ‘abc%’
select id from t where createdate&gt;=’2005-11-30′ and createdate&lt;’2005-12-1′

用 exists 代替 in
很多时候用 exists 代替 in 是一个好的选择:
select num from a where num in(select num from b) 用下面的语句替换:
select num from a where exists(select 1 from b where num=a.num)

大临时表使用 select into 代替 create table 在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替
create table，避免造成大量 log ，以提高速度;如果数据量不大，为了缓和系统表的资 源，应先 create table，然后 insert

临时表先 truncate table，然后 drop table
如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，这样可以避免系统表的较长时间锁定

避免在 where 子句中对字段进行 null 值判断
应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索
引而进行全表扫描。如:
select id from t where num is null
可以在 num 上设置默认值 0，确保表中 num 列没有 null 值，然后这样查询: select id from t where num=0
在 Mysql5.7 版本中该条建议已经不用考虑了，因为 null 判断也能使用索引了。

尽可能减少 Join 语句中 Nested Loop 的循环总次数
最有效的办法是让驱动表的结果集尽可能地小，“永远用小结果集驱动大结果集”。
比如，当两个表(表 A 和表 B)Join 时，如果表 A 通过 WHERE 条件过滤后有 10 条 记录，而表 B 有 20 条记录。如果选择表 A 作为驱动表，也就是被驱动表的结果集为 20， 那么我们通过 Join 条件对被驱动表(表 B)的比较过滤就会进行 10 次。反之，如果选择 表 B 作为驱动表，则须要进行 20 次对表 A 的比较过滤。
其目的正是基于上面两点的考虑，只有让被驱动表的 Join 条件字段被索引了，才能保 证循环中每次查询都能够消耗较少的资源，这也正是内层循环的实际优化方法

分页优化方法一
select * from person limit 999900,100; -- 慢了，大概需要 0.4 秒多
select * from person where id&gt;999900 limit 100;-- 这样就非常快，0.001s 左右，因为使用了 id 索引，但这样用有前提，id 是连续的，中间的数据不能删，否则 id 为 999900 的并不是第 999900 个记录。

分页技术优化方法二
如果必须用 limit offset 查询，就用延迟关联
select id from person limit 999900 ,100;
这样只查询 id 列，实现了索引覆盖，就会很快
select p.* from person p inner join (select id from person limit 999900 ,100) as tmp on p.id=tmp.id;
通过内连接再获取分页后每条记录的详细信息

优化更须要优化的Query 这个问题须要从对整个系统的影响来考虑。哪个 Query 的优化能给系统整体带来更大的收益，就更须要优化。一般来说，高并发低消耗的影响 &gt; 低并发高消耗
假设有一个 Query 每小时执行 10000 次，每次需要 20 个 IO，而另外一个 Query 每 小时执行 10 次，每次需要 20000 个 IO。
(1)通过 IO 消耗来分析
两个 Query 每小时所消耗的 IO 总数目是一样的，都是 200000 IO/小时 假设优化第一个 Query，从 20 个 IO 降低到 18 个 IO，也就是降低了 2 个 IO，则节
省了 2×10000 = 20000 (IO/小时)
而如果希望通过优化第二个 Query 达到相同的效果，必须要让每个 Query 减少 20000
/ 10 = 2000 IO
可以看出第一个 Query 节省 2 个 IO 即可达到第二个 Query 节省 2000 个 IO 相同的
效果
(2)通过 CPU 消耗来分析
原理和上面一样，只要让第一个 Query 节省一小块资源，就可以让整个系统节省出一
大块资源，尤其是在排序、分组这些对 CPU 消耗比较多的操作中更加明显 (3)从对整个系统的影响来分析
一个频繁执行的高并发 Query 的危险性比一个低并发的 Query 要大很多，当一个低
并发的 Query 执行计划有误时，所带来的影响只是该 Query 请求者的体验会变差，对整 体系统的影响并不会特别突出，但是，如果一个高并发的 Query 执行计划有误，它带来的 后果很可能就是灾难性的。

让 InnoDB 使用全部内存
innodb_buffer_pool_size 参数指定了 InnoDB 可以使用的内存总量
建议设置为物理内存的 80%，因为要给操作系统留有空间。
如果你的内存是 32GB，可以设置为大约 25GB innodb_buffer_pool_size = 25600M
注意:
(1)如果值小于 1GB，说明真的应该升级服务器了
(2)如果内存特别大，例如 200gb，就不必给操作系统留 20% 了，因为 OS 用不
了 40gb。

让 InnoDB 多实例
innodb_buffer_pool_size 的 值 大 于 1G 时 ， innodb_buffer_pool_instances 会 把
InnoDB 的缓存池划分成多个实例。
多个缓冲池的好处: 多个线程同时访问缓冲池时可能会遇到瓶颈，而多个缓冲池则可以最小化这个冲突 官方建议的 buffer 数量:每个 buffer pool 实例至少要 1G
例如内存为 32GB，innodb_buffer_pool_size 为 25GB，那么合适的方案就是
25600M / 24 = 1.06GB innodb_buffer_pool_instances = 24

加大 max_length_for_sort_data 参数的设置
在 MySQL 中，排序算法分为两种，一是只加载排序字段到内存，排序完成后再到表 中取其他字段，二是加载所有需要的字段到内存，显然第二种节省了 IO 操作，所以更快。 决定使用哪种算法是通过参数 max_length_for_sort_data 来决定的，当所有返回字段的最 大长度小于这个参数值时，MySQL 就会选择第二种算法，反之使用第一种。所以，如果 有充足的内存让 MySQL 存放须要返回的非排序字段，就可以加大这个参数的值来让 MySQL 选择第二种排序算法。
当内存不是很充裕时，不能简单地通过强行加大上面的参数来强迫 MySQL 去使用高 效算法，否则可能会造成 MySQL 不得不将数据分成很多段，然后进行排序，这样可能会 得不偿失，此时就须要去掉不必要的返回字段，让返回结果长度适应 max_length_for_sort_data 参数的限制。

增大 sort_buffer_size 参数设置
增大 sort_buffer_size 并不是为了让 MySQL 选择第二种排序算法，而是为了让MySQL 尽量减少在排序过程中对须要排序的数据进行分段，因为分段会造成 MySQL 不得 不使用临时表来进行交换排序
</code></pre>
<h2 id="案例-发现网站页面打开非常慢，对处理过程简单记录了一下。"><a href="#案例-发现网站页面打开非常慢，对处理过程简单记录了一下。" class="headerlink" title="案例 发现网站页面打开非常慢，对处理过程简单记录了一下。"></a>案例 发现网站页面打开非常慢，对处理过程简单记录了一下。</h2><ul>
<li>找问题</li>
</ul>
<pre><code class="line-numbers language-text">首先登录服务器使用 top 查看当前进程信息，发现排名第一的是 mysql，占用 cpu达到了 100% 以上，这就明确了是 mysql 的问题。
登录 mysql，使用 show processlist 查看下当前执行状态，发现了大量 LOCK 操作，
也有多个 Copying to tmp table 的操作，说明有 sql 出现了问题，操作过于复杂，对临 时表使用频繁，把其他操作阻塞了

解决思路
找到了问题后，把处理方向确定为检查和修改配置、sql 优化。
临时表
既然涉及了到了临时表，就先查看下目前临时表的信息
查看临时表的使用状态
show global status like &#39;created_tmp%&#39;;
发现 created_tmp_disk_tables 值过高，需要增加此值。
再看一下现在临时表的大小 show variables like &#39;%tmp_table_size%&#39;;
在现在值的基础上增加一些，重新设置临时表大小

线程缓存数
看当前线程情况
show global status like &#39;Thread%&#39;;
发现 threads_created 的值过大，表明 MySQL 服务器一直在创建线程
查看当前值
show variables like &#39;thread_cache_size&#39;;
此参数需要调高

打开表数量
查看打开表的情况
show global status like &#39;open%tables%&#39;;
发现 opened_tables 数量过大，说明 table_cache 的值可能太小。
查看当前值
show variables like &#39;table_cache&#39;;
此参数需要调高

最大连接数 
查看当前允许的最大连接数
show variables like &#39;max_connections&#39;; 查看服务器连接数的峰值
show global status like &#39;Max_used_connections&#39;; 峰值还没到最大限制，不需要修改
join buffer 和 sort buffer 查看现有值
SELECT @@sort_buffer_size; SELECT @@join_buffer_size;
是默认值，需要修改
修改配置
确定了要修改的参数后，修改 my.cnf ，例如
table_cache = 64 
sort_buffer_size = 8M 
join_buffer_size = 4M 
thread_cache_size = 300 
thread_concurrency = 8 
tmp_table_size = 246M

sql 优化
从 show processlist 结果集中找出主要的复杂语句，对其进行 explain 和 profile
分析，进行索引优化，把复杂的 sql 根据业务拆分为多个小的 sql
</code></pre>
<h2 id="主从复制、读写分离、高可用-HA"><a href="#主从复制、读写分离、高可用-HA" class="headerlink" title="主从复制、读写分离、高可用 HA"></a>主从复制、读写分离、高可用 HA</h2><pre><code class="line-numbers language-text">主从复制
MySQL 主从复制是指数据可以从一个 MySQL 数据库服务器主节点复制到一个或多
个从节点。MySQL 默认采用异步复制方式，这样从节点不用一直访问主服务器来更新自 己的数据，数据的更新可以在远程连接上进行，从节点可以复制主数据库中的所有数据库 或者特定的数据库，或者特定的表。
读写分离
可以把写操作放在 master，读取操作放在 slave，减轻单一数据库的操作压力
高可用 HA
随着系统中业务访问量的增大，如果是单机部署数据库，就会导致 I/O 访问频率过高。
有了主从复制，增加多个数据存储节点，将负载分布在多个从节点上，降低单机磁盘 I/O 访问的频率，提高单个机器的 I/O 性能
</code></pre>
<ul>
<li>基本原理<br>&#96;&#96;&#96;text<br>master 记录下自己的操作日志，授权从服务器可以读取操作日志，slave 会开启两个线程。<br>IO 线程<br>负责连接 master 连接成功后，睡眠并等待 master 产生新的事件，有新的就保存到 自己的中继日志中，中继日志通常位于操作系统的缓存中，所以开销很小<br>sql 进程<br>负责执行中继日志中的 sql 操作，这样 slave 的内容就和 master 的一致了</li>
</ul>
<p>具体执行</p>
<ol>
<li>主库 db 的更新事件(update、insert、delete)被写到 binlog</li>
<li>从库发起连接，连接到主库</li>
<li>主库创建一个 binlog dump thread 线程，把 binlog 的内容发送到从库</li>
<li>从库启动之后，创建一个 I&#x2F;O 线程，读取主库传过来的 binlog 内容并写入到 relay<br>log。</li>
<li>还会创建一个 SQL 线程，从 relay log 里面读取内容，从 Exec_Master_Log_Pos<br>位置开始执行读取到的更新事件，将更新内容写入到 slave 的 db。<br>&#96;&#96;&#96;</li>
</ol>
<ul>
<li>配置方式<br>&#96;&#96;&#96;shell<br>前提条件<br>停止对 master 数据库的操作，把 master 中的数据库全部导入到 slave，使两边数据 库完全一致。</li>
</ul>
<p>配置 master</p>
<ol>
<li>修改 master 的配置文件，使用二进制日志，指定 server-id，重启服务。目的是让各自<br>都有了自己的唯一标示，并以二进制文件格式进行交流。Centos 中路径为 &#x2F;etc&#x2F;my.cnf。<br>[mysqld]<br>Log_bin&#x3D;mysql-bin &#x2F;&#x2F;[必须]启用二进制日志<br>server-id&#x3D;10&#x2F;&#x2F;[必须]服务器唯一 ID，默认是 1，一般取 IP 最后一段<br>配置完成后需要重启 mysqlserver 才能生效。 systemctl restart mysqld</li>
</ol>
<p>创建授权用户<br>登陆主服务器 mysql 命令行，创建一个用于从服务器复制的用户。<br>mysql -uroot -p<br>mysql&gt;grant replication slave on <em>.</em> to ‘root‘@’%’ identified by ‘123456’;<br>“<em>.</em>“表示对所有库的所有操作，“%”表示所有客户端都可能连，也可用具体客户端 IP 代替，如 192.168.33.11，加强安全。</p>
<p>记录 master 状态信息<br>查看二进制日志文件名，及最新位置。让 slave 知道用哪个用户信息访问 master，知<br>道读取哪个日志文件，及从哪儿开始读。 mysql&gt;show master status;<br>其中 file、position 字段需要记录下值，mysql-bin.000001 是用于主从复制的文件名，<br>437 是日志文件内的最新位置</p>
<p>配置 slave</p>
<ol>
<li>修改配置文件 my.cnf，使用二进制日志，指定 server-id，重新启动服务。<br>[mysqld] Log_bin&#x3D;mysql-bin<br>Server_id&#x3D;11</li>
<li>将 slave 指向 master<br>登陆从服务器 mysql 命令行，使用之前创建的用户和 master 的日志文件及其位置。<br>slave 中使用被授权用户信息及日志文件信息，进行指向 master。这时已经建立了和 master<br>的联系，明确了从哪儿读取日志文件。<br>mysql&gt;change master to master_host&#x3D;’192.168.33.10’,master_user&#x3D;’root’,master_password&#x3D;’123456’,master_log_file&#x3D;’mysql-bin.00 0001’,master_log_pos&#x3D;437;<br>&#x2F;&#x2F;注意不要断开，“437”无单引号</li>
</ol>
<p>启动 slave<br>执行启动 slave 的命令，开始主从复制 mysql&gt;start slave;<br>4. 查看 slave 状态<br>mysql&gt; show slave status\G;<br>结果中有两个重要数据项:</p>
<ol>
<li>Slave_IO_Running: Yes IO 线程状态，必须 YES</li>
<li>Slave_SQL_Running: Yes SQL 线程状态，必须 YES<br>常见的问题是 SQL 线程没有正常工作 Slave_SQL_Running: No 通常是两边的数据库不是完全对应的，需要确保 master 上的库及到目前为止的最新<br>记录都复制到 slave 上了。</li>
</ol>
<p>验证测试<br>当 IO 线程和 SQL 线程都正常后，到 master 中随意测试下插入、修改、删除操作，<br>同时到 slave 中检查。<br>master 执行以下命令:<br>Create database mastertest; Use mastertest;<br>CREATE TABLE <code>test</code> (<br><code>id</code> bigint(20) unsigned NOT NULL AUTO_INCREMENT, <code>name</code> varchar(100) NOT NULL,<br>PRIMARY KEY (<code>id</code>)<br>) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;<br>Insert into test(name) values(‘1test’);<br>Insert into test(name) values(‘2test’);<br>Insert into test(name) values(‘3test’);</p>
<p>slave 下验证<br>show databases;<br>Use mastertest;<br>Show tables;<br>Select * from test;</p>
<pre><code>
### 使用MysqlUtilities快速搭建主从复制
```text
Mysql Utilities 是一个 Mysql 的工具箱(基于 python )，里面有不少好用的小工具，其中的 mysqlreplicate 命令，可以让我们通过一个命令就能快速配置好主从复制环境。
Mysql Utilities 下载地址 http://dev.mysql.com/downloads/utilities/1.5.html 
Mysql Utilities 文档 http://dev.mysql.com/doc/mysql-utilities/1.6/en/utils-overview.html 
用法:
mysqlreplicate \ --master=root:111111@192.168.31.168:3306 \ --slave=root:111111@192.168.31.101:3306 \ --rpl-user=replutil:111111
--master 指定主库的连接信息
--slave 指定从库的连接信息
--rpl-user 指定用于复制的用户信息，这个用户需要提前在 master 上创建好，例如: grant ALL PRIVILEGES on *.* to replutil@&quot;192.168.31.101&quot; Identified by &quot;111111&quot;;
注意，创建用户时，其中的从库 IP 要明确，不要用 &#39;%&#39;。 可以看到，总共只需要两步:
(1)master 上创建用于复制的用户
(2)执行 mysqlreplicate 命令
几秒钟就完成了主从配置
下载解压 Mysql Utilities，进入解压后的目录，执行编译安装命令
python ./setup.py build python ./setup.py install
执行完成后，就可以使用其中的工具命令了
</code></pre>
<h3 id="读写分离中间件-MaxScale"><a href="#读写分离中间件-MaxScale" class="headerlink" title="读写分离中间件 MaxScale"></a>读写分离中间件 MaxScale</h3><pre><code class="line-numbers language-text">配置好了 Mysql 的主从复制结构后，我们希望实现读写分离，把读操作分散到从服务器中，并且对多个从服务器能实现负载均衡。读写分离和负载均衡是 Mysql 集群的基 础需求，MaxScale 就可以帮着我们方便的实现这些功能
MaxScale 的基础构成
MaxScale 是 Mysql 的兄弟公司 MariaDB 开发的，现在已经发展得非常成熟。
MaxScale 是插件式结构，允许用户开发适合自己的插件。 MaxScale 目前提供的插件功能分为 5 类
1.)认证插件
提供了登录认证功能，MaxScale 会读取并缓存数据库中 user 表中的信息，当有连 接进来时，先从缓存信息中进行验证，如果没有此用户，会从后端数据库中更新信息，再 次进行验证
2.)协议插件
包括客户端连接协议，和连接数据库的协议。
3.)路由插件 
决定如何把客户端的请求转发给后端数据库服务器，读写分离和负载均衡的功能就是
由这个模块实现的。
4.)监控插件 
对各个数据库服务器进行监控，例如发现某个数据库服务器响应很慢，那么就不向其
转发请求了。
5.)日志和过滤插件
提供简单的数据库防火墙功能，可以对 SQL 进行过滤和容错。

安装 MaxScale
最好在另一台服务器上安装，如果资源不足，可以和某个 Mysql 放在一起。
MaxScale 的下载地址，最新版本 2.3.4，实例中使用的是 1.4.5: https://downloads.mariadb.com/files/MaxScale
根据自己的服务器选择合适的安装包，以 centos 7 为例安装步骤如下: 
yum install libaio.x86_64 libaio-devel.x86_64 novacom-server.x86_64 libedit -y
wget https://downloads.mariadb.com/MaxScale/1.4.5/centos/7/x86_64/maxscale-1.4.5-1.centos.7.x8 6_64.rpm
rpm -ivh maxscale-1.4.5-1.centos.7.x86_64.rpm

配置 MaxScale
在开始配置之前，需要在 master 中为 MaxScale 创建两个用户，用于监控模块和
路由模块:
创建监控用户
create user &#39;maxmon&#39;@&#39;%&#39; identified by &#39;123456&#39;;
grant replication slave,replication client on *.* to &#39;maxmon&#39;@&#39;%&#39;;
创建路由用户
create user &#39;maxrou&#39;@&#39;%&#39; identified by &#39;123456&#39;; grant select on mysql.* to &#39;maxrou&#39;@&#39;%&#39;;
flush privileges;
用户创建完成后，开始配置 vi /etc/maxscale.cnf
找到 [server1] 部分，修改其中的 address 和 port，指向 master 的 IP 和端口
复制 2 次 [server1] 的整块儿内容，改为 [server2] 与 [server3]，同样修改其中的 address 和 port，分别指向 slave1 和 slave2
找到 [MySQL Monitor] 部分，修改 servers 为 server1,server2,server3，修改 user 和 passwd 为之前创建的监控用户的信息(maxmon,123456)
找到 [Read-Write Service] 部分，修改 servers 为 server1,server2,server3，修改 user 和 passwd 为之前创建的路由用户的信息(maxrou,123456)
由于我们使用了 [Read-Write Service]，需要删除另一个服务 [Read-Only Service]， 删除其整块儿内容即可，底部还有一个[Read-Only Client]也需要删除。
配置完成，保存并退出编辑器。

启动 MaxScale
执行启动命令
maxscale --config=/etc/maxscale.cnf
查看 MaxScale 的响应端口是否已经就绪
netstat -ntelp
4006 是 Read-Write Listener 使用的端口，用于连接 MaxScale
6603 是 MaxAdmin Listener 使用的端口，用于 MaxScale 管理器
登录 MaxScale 管理器，查看一下数据库连接状态，默认的用户名和密码是
admin/mariadb
maxadmin --user=admin --password=mariadb MaxScale&gt; list servers
可以看到，MaxScale 已经连接到了 master 和 slave

测试
先在 master 上创建一个测试用户
create user &#39;rtest&#39;@&#39;%&#39; identified by &#39;111111&#39;; grant ALL PRIVILEGES on *.* to &#39;rtest&#39;@&#39;%&#39;;
使用 Mysql 客户端到连接 MaxScale mysql -urtest -p&#39;111111&#39; -h&#39;192.168.33.11&#39; -P4006
执行查看数据库服务器名的操作来知道当前实际所在的数据库
Select @@hostname; start transaction; Select @@hostname; roolback;
Select @@hostname;
 开启事务后，就自动路由到了 master，普通的查询操作，是在 slave 上
</code></pre>
<h3 id="读写分离中间件-MySQL-Proxy"><a href="#读写分离中间件-MySQL-Proxy" class="headerlink" title="读写分离中间件 MySQL-Proxy"></a>读写分离中间件 MySQL-Proxy</h3><pre><code class="line-numbers language-text">可参考:https://www.cnblogs.com/luckcs/articles/2543607.html
MySQLProxy 是 MySQL 官方提供的一个数据库代理层产品，和 MySQLServer 一样， 相同是一个基于 GPL 开源协议的开源产品。可用来监视、分析或者传输他们之间的通讯信 息，具备的功能主要有连接路由、Query 分析、Query 过滤和修改、负载均衡以及主要的 HA 机制等。
实际上 MySQLProxy 本身并不具有上述全部的这些功能，而是提供了实现上述功能的 基础。要实现这些功能，还须要通过我们自行编写 LUA 脚本来实现。
MySQLProxy 实际上是在 client 请求与 MySQLServer 之间建立了一个连接池。全部 client 请求都是发向 MySQLProxy，然后经由 MySQLProxy 进行对应的分析。推断出是读 操作还是写操作，分发至对应的 MySQLServer 上。对于多节点 Slave 集群，也能够起做 到负载均衡的效果。
</code></pre>
<h2 id="数据库切分-Sharding-当数据量达到一定程度时，我们处于性能考虑就需要将我们存放在同一个数据库中的"><a href="#数据库切分-Sharding-当数据量达到一定程度时，我们处于性能考虑就需要将我们存放在同一个数据库中的" class="headerlink" title="数据库切分(Sharding) 当数据量达到一定程度时，我们处于性能考虑就需要将我们存放在同一个数据库中的"></a>数据库切分(Sharding) 当数据量达到一定程度时，我们处于性能考虑就需要将我们存放在同一个数据库中的</h2><ul>
<li>垂直切分<br>&#96;&#96;&#96;text<br>数据分散存放到多个数据库(主机)上面，以达到分散单台设备负载的效果。数据的切分 同一时候还能够提高系统的总体可用性，由于单台设备 Crash 之后。仅仅有总体数据的某 部分不可用，而不是全部的数据。<br>数据的切分(Sharding)依据其切分规则的类型，能够分为垂直切分、水平切分、联 合切分模式。</li>
</ul>
<p>数据的垂直切分简介<br>一种是依照不同的表(或者 Schema)来切分到不同的数据库(主机)之上，这样的 切能够称之为数据的垂直(纵向)切分。垂直切分的最大特点就是规则简单，实施也更为方便，尤其适合各业务之间的耦合度 非常低。相互影响非常小，业务逻辑非常清晰的系统。在这样的系统中，能够非常容易做 到将不同业务模块所使用的表分拆到不同的数据库中。依据不同的表来进行拆分。对应用 程序的影响也更小，拆分规则也会比较简单清晰。<br>一个架构设计较好的应用系统。其总体功能肯定是由非常多个功能模块所组成的。而 每一个功能模块所须要的数据对应到数据库中就是一个或者多个表。而在架构设计中，各 个功能模块相互之间的交互点越统一越少，系统的耦合度就越低，系统各个模块的维护性 以及扩展性也就越好。这样的系统实现数据的垂直切分也就越容易，不同功能模块的数据 存放于不同的数据库主机中，能够非常容易就避免掉跨数据库的 Join 存在。<br>当然很多情况下系统的耦合度没有那么低，我们就必须依据实际的应用场景进行评估 权衡。决定是迁就应用程序将须要 Join 的表的相关某快都存放在同一个数据库中，还是让应用程序做很多其它的事情，也就是程序全然通过模块接口取得不同数据库中的数据，然后在程序中完毕 Join 操作。</p>
<pre><code>
- 案例分析
```text
系统功能能够基本分为四个功能模块:用户，群组消息，相册以及事件。分别对应为 例如以下这些表:
1. 用户模块表:user,user_profile,user_group,user_photo_album
2. 群组讨论表:groups,group_message,group_message_content,top_message
3. 相册相关表:photo,photo_album,photo_album_relation,photo_comment
4. 事件信息表:event 初略一看，没有哪一个模块能够脱离其它模块独立存在，模块与模块之间都存在着关
系。莫非无法切分?

当然不是，我们再略微深入分析一下，能够发现，尽管各个模块所使用的表之间都有关联，可是关联关系还算比较清晰，也比较简单。 
◆群组讨论模块和用户模块之间主要存在通过用户或者是群组关系来进行关联。一般关联的时候都会是通过用户的 id 或者 nick_name 以及 group 的 id 来进行关联。通过模块 之间的接口实现不会带来太多麻烦。
◆相册模块仅仅与用户模块存在通过用户的关联。这两个模块之间的关联基本就有通 过用户 id 关联的内容。简单清晰，接口明白;
◆ 事件模块与各个模块可能都有关联，可是都仅仅关注其各个模块中对象的ID信息， 相同能够做到非常容易分拆。
所以。我们第一步能够将数据库依照功能模块相关的表进行一次垂直拆分。每一个模 块所涉及的表单独到一个数据库中，模块与模块之间的表关联都在应用系统端通过藉口来 处理。例如以下图所看到的
通过这样的垂直切分之后。之前仅仅能通过一个数据库来提供的服务。就被分拆成四 个数据库来提供服务，服务能力自然是添加几倍了。

垂直切分的长处
◆ 数据库的拆分简单明了，拆分规则明白; 
◆ 应用程序模块清晰明白，整合容易。
◆ 数据维护方便易行，容易定位。
垂直切分的缺点
◆ 部分表关联无法在数据库级别完毕。须要在程序中完毕。
◆ 对于访问极其频繁且数据量超大的表仍然存在性能平静，不一定能满足要求。
◆ 事务处理相对更为复杂;
◆ 切分达到一定程度之后，扩展性会遇到限制;
◆ 过读切分可能会带来系统过渡复杂而难以维护
</code></pre>
<ul>
<li><p>数据的水平切分</p>
<pre><code class="line-numbers language-text">依据表中的数据的逻辑关系，将同一个表中的数据依照某种条件拆分到多台数据库 (主机)上面，这样的切分称之为数据的水平(横向)切分。一般来说，简单的水平切分 主要是将某个访问极其平庸的表再依照某个字段的某种规则来分散到多个表之中。每一个 表中包括一部分数据。
水平切分于垂直切分相比。相对来说略微复杂一些。由于要将同一个表中的不同数据 拆分到不同的数据库中，对于应用程序来说，拆分规则本身就较依据表名来拆分更为复杂， 后期的数据维护也会更为复杂一些。
如依据某个数字类型字段基于特定数目取模，某个时间类型字段的范围，或者是某个 字符类型字段的 hash 值。假设整个系统中大部分核心表都能够通过某个字段来进行关联。 那这个字段自然是一个进行水平分区的上上之选了。
一般来说，像如今互联网非常火爆的 Web2.0 类型的站点。基本上大部分数据都能够 通过会员用户信息关联上，可能非常多核心表都非常适合通过会员 ID 来进行数据的水平 切分。切分之后基本上不会出现各个库之间的交互。
</code></pre>
</li>
<li><p>案例分析<br>&#96;&#96;&#96;text<br>全部数据都是和用户关联的。那么我们就能够依据用户来进行水平拆分，将不同用户 的数据切分到不同的数据库中。当然，唯一有点差别的是用户模块中的 groups 表和用户 没有直接关系。所以 groups 不能依据用户来进行水平拆分。对于这样的特殊情况下的表， 我们全然能够独立出来。单独放在一个独立的数据库中所以，对于我们的演示样例数据库来说，大部分的表都能够依据用户 ID 来进行水平 的切分。不同用户相关的数据进行切分之后存放在不同的数据库中。如将全部用户 ID 通 过 5 取模然后分别存放于五个不同的数据库中。<br>每一个和用户 ID 关联上的表都能够这样切分。这样，基本上每一个用户相关的数据。 都在同一个数据库中，即使是须要关联，也能够非常简单的关联上。<br>我们能够通过下图来更为直观的展示水平切分相关信息:</p>
</li>
</ul>
<p>水平切分的长处<br>◆ 表关联基本能够在数据库端全部完毕;<br>◆ 不会存在某些超大型数据量和高负载的表遇到瓶颈的问题;<br>◆ 应用程序端总体架构修改相对较少;<br>◆ 事务处理相对简单;<br>◆ 仅仅要切分规则能够定义好。基本上较难遇到扩展性限制;<br>水平切分的缺点<br>◆ 切分规则相对更为复杂，非常难抽象出一个能够满足整个数据库的切分规则;<br>◆ 后期数据的维护难度有所添加，人为手工定位数据更困难;<br>◆ 应用系统各模块耦合度较高，可能会对后面数据的迁移拆分造成一定的困难。</p>
<pre><code>
- 联合切分
```text
当我们某个(或者某些)表的数据量和访问量特别的大，通过垂直切分将其放在独立 的设备上后仍然无法满足性能要求，这时候我们就必须将垂直切分和水平切分相结合。先 垂直切分，然后再水平切分，才能解决这样的超大型表的性能问题。
每一个应用系统的负载都是一步一步增长上来的，在开始遇到性能瓶颈的时候，大多 数架构师和 DBA 都会选择先进行数据的垂直拆分，由于这样的成本最小。最符合这个时 期所追求的最大投入产出比。然而随着业务的不断扩张，系统负载的持续增长，在系统稳 定一段时期之后，经过了垂直拆分之后的数据库集群可能又再一次不堪重负，遇到了性能 瓶颈。这时候我们就必须要通过数据的水平切分的优势，来解决这里所遇到的问题。并且， 我们全然不必在使用数据水平切分的时候，推倒之前进行数据垂直切分的成果，而是在其 基础上利用水平切分的优势来避开垂直切分的弊端。而水平拆分的弊端(规则难以统一) 也已经被之前的垂直切分解决掉了，让水平拆分能够进行的得心应手
</code></pre>
<ul>
<li>案例分析<br>&#96;&#96;&#96;text<br>假设在最开始。我们进行了数据的垂直切分，然而随着业务的不断增长，数据库系统<br>遇到了瓶颈，我们选择重构数据库集群的架构。怎样重构?我们选择了在垂直切分的基础 上再进行水平拆分。在经历过垂直拆分后的各个数据库集群中的每一个都仅仅有一个功能 模块。而每一个功能模块中的全部表基本上都会与某个字段进行关联。如用户模块全部都 能够通过用户 ID 进行切分，群组讨论模块则都通过群组 ID 来切分。相册模块则依据相册ID 来进切分。最后的事件通知信息表考虑到数据的时限性(仅仅会访问近期某个事件段的 信息)，则考虑按时间来切分<br>实际上，在非常多大型的应用系统中，垂直切分和水平切这两种数据的切分方法基本 上都是并存的。并且经常在不断的交替进行，以不断的添加系统的扩展能力。我们在应对 不同的应用场景的时候，也须要充分考虑到这两种切分方法各自的局限，以及各自的优势。 在不同的时期(负载压力)使用不同的结合方式。</li>
</ul>
<p>联合切分的长处<br>◆ 能够充分利用垂直切分和水平切分各自的优势而避免各自的缺陷<br>◆ 让系统扩展性得到最大化提升。<br>联合切分的缺点<br>◆ 数据库系统架构比较复杂。维护难度更大。<br>◆ 应用程序架构也相对更复杂;</p>
<pre><code>
### 数据切分及整合方案
```text
我们已经非常清晰了通过数据库的数据切分能够极大的提高系统的扩展性，可是数据
库中的数据在经过垂直和(或)水平切分被存放在不同的数据库主机之后，应用系统面临 的最大问题就是怎样来让这些数据源得到较好的整合。
数据的整合非常难依靠数据库本身来达到这个效果，尽管 MySQL 存在 Federated 存 储引擎，能够解决部分相似的问题。可是在实际应用场景中却非常难较好的运用。那我们 该怎样来整合这些分散在各个 MySQL 主机上面的数据源呢?
总的来说，存在两种解决思路:
1. 在每一个应用程序模块中配置管理自己须要的一个(或者多个)数据源。直接访问 各个数据库，在模块内完毕数据的整合;
2. 通过中间代理层来统一管理全部的数据源。后端数据库集群对前端应用程序透明;
可能 90%以上的人在面对上面这两种解决思路的时候都会倾向于选择第二种，尤其是 系统不断变得庞大复杂的时候，尽管短期内须要付出的成本可能会相对更大一些，可是对 整个系统的扩展性来说，是非常有帮助的。所以，对于第一种解决思路我这里就不准备过 多的分析，以下我重点分析一下在另外一种解决思路中的一些解决方式.

自行开发中间代理层 通过自行开发中间代理层能够最大程度的应对自身应用的特点，最大化的定制非常多个性化需求，在面对变化的时候也能够灵活的应对。当然，选择自行开发享受让个性化定制最大化的乐趣的同一时候，自然也须要投入很多其它的成本来进行前期研发以及后期的 持续升级改进工作，并且本身的技术门槛可能也比简单的 Web 应用要更高一些。 1.11.4.2. 利用 MySQLProxy 实现数据切分及整合
基于 MySQLProxy 自行编写 LUA 脚本实现数据切分相关代理功能。

利用 Amoeba 实现数据切分及整合
Amoeba 是一个基于 Java 开发的，专注于解决分布式数据库数据源整合 Proxy 程序
的开源框架，基于 GPL3 开源协议。眼下 Amoeba 已经具有 Query 路由、Query 过滤、 读写分离、负载均衡以及 HA 机制等相关内容。
Amoeba 主要解决的以下几个问题:
1. 数据切分后复杂数据源整合;
2. 提供数据切分规则并降低数据切分规则给数据库带来的影响。
3. 降低数据库与 client 的连接数。
4. 读写分离路由;
我们能够看出，Amoeba 所做的事情，正好就是我们通过数据切分来提升数据库的扩
展性所须要的。
Amoeba 并非一个代理层的 Proxy 程序，而是一个开发数据库代理层 Proxy 程序的开
发框架，眼下基于 Amoeba 所开发的 Proxy 程序有 AmoebaForMySQL 和 AmoebaForAladin 两个。
AmoebaForMySQL 主要是专门针对 MySQL 数据库的解决方式，前端应用程序请求 的协议以及后端连接的数据源数据库都必须是 MySQL。对于 client 的不论什么应用程序 来说，AmoebaForMySQL 和一个 MySQL 数据库没有什么差别。不论什么使用 MySQL 协议的 client 请求，都能够被 AmoebaForMySQL 解析并进行对应的处理。

AmoebaForAladin 则是一个适用更为广泛，功能更为强大的 Proxy 程序。
他能够同一时候连接不同数据库的数据源为前端应用程序提供服务，可是仅仅接受符 合 MySQL 协议的 client 应用程序请求。也就是说，仅仅要前端应用程序通过 MySQL 协议 连接上来之后，AmoebaForAladin 会自己主动分析 Query 语句，依据 Query 语句中所请 求的数据来自己主动识别出该所 Query 的数据源是在什么类型数据库的哪一个物理主机 上面.

咋一看，两者好像全然一样。细看之后才会发现两者主要的差别仅在于通过 MySQLProtocalAdapter 处理之后。依据分析结果推断出数据源数据库。然后选择特定的 JDBC 驱动和对应协议连接后端数据库。
事实上通过上面两个架构图大家可能也已经发现了 Amoeba 的特点了，他仅仅仅仅是 一个开发框架。我们除了选择他已经提供的 ForMySQL 和 ForAladin 这两款产品之外。还 能够基于自身的需求进行对应的二次开发。得到更适应我们自己应用特点的 Proxy 程序。
当对于使用 MySQL 数据库来说。不论是 AmoebaForMySQL 还是 AmoebaForAladin 都能够非常好的使用。当然，考虑到不论什么一个系统越是复杂，其性能肯定就会有一定的损失，维护成本自然也会相对更高一些。所以，对于仅仅须要使用 MySQL 数据库的时 候，我还是建议使用 AmoebaForMySQL。
AmoebaForMySQL 的使用非常简单，全部的配置文件都是标准的 XML 文件，总共同 拥有四个配置文件。分别为:
◆amoeba.xml:主配置文件，配置全部数据源以及 Amoeba 自身的參数设置。 ◆rule.xml:配置全部 Query 路由规则的信息。
◆functionMap.xml:配置用于解析 Query 中的函数所对应的 Java 实现类;
◆ rullFunctionMap.xml:配置路由规则中须要使用到的特定函数的实现类; 假设您的规则不是太复杂，基本上仅须要使用到上面四个配置文件里的前面两个就可
完毕全部工作。Proxy 程序经常使用的功能如读写分离。负载均衡等配置都在 amoeba.xml 中进行。此外。Amoeba 已经支持了实现数据的垂直切分和水平切分的自己主动路由。路 由规则能够在 rule.xml 进行设置。
眼下 Amoeba 少有欠缺的主要就是其在线管理功能以及对事务的支持了，以前在与相 关开发人员的沟通过程中提出过相关的建议，希望能够提供一个能够进行在线维护管理的 命令行管理工具，方便在线维护使用，得到的反馈是管理专门的管理模块已经纳入开发日 程了。另外在事务支持方面临时还是 Amoeba 无法做到的，即使 client 应用在提交给 Amoeba 的请求是包括事务信息的，Amoeba 也会忽略事务相关信息。当然，在经过不断 完好之后，我相信事务支持肯定是 Amoeba 重点考虑添加的 feature。
关于 Amoeba 更为具体的用法读者朋友能够通过 Amoeba 开发人员博客 (http://amoeba.sf.net)上面提供的使用手冊获取，这里就不再细述了
</code></pre>
<ul>
<li>利用 HiveDB 实现数据切分及整合</li>
</ul>
<pre><code class="line-numbers language-text">和前面的 MySQLProxy 以及 Amoeba 一样，HiveDB 相同是一个基于 Java 针对 MySQL 数据库的提供数据切分及整合的开源框架，仅仅是眼下的 HiveDB 仅仅支持数据的水平切 分。
主要解决大数据量下数据库的扩展性及数据的高性能访问问题，同一时候支持数据的 冗余及主要的 HA 机制。
HiveDB 的实现机制与 MySQLProxy 和 Amoeba 有一定的差异，他并非借助 MySQL 的 Replication 功能来实现数据的冗余，而是自行实现了数据冗余机制，而其底层主要是 基于 HibernateShards 来实现的数据切分工作。
在 HiveDB 中，通过用户自己定义的各种 Partitionkeys(事实上就是制定数据切分规 则)，将数据分散到多个 MySQLServer 中。在访问的时候。在执行 Query 请求的时候。 会自己主动分析过滤条件，并行从多个 MySQLServer 中读取数据，并合并结果集返回给 client 应用程序。
单纯从功能方面来讲，HiveDB 可能并不如 MySQLProxy 和 Amoeba 那样强大，可是 其数据切分的思路与前面二者并无本质差异。此外，HiveDB 并不仅仅仅仅是一个开源爱 好者所共享的内容，而是存在商业公司支持的开源项目。
以下是 HiveDB 官方站点上面一章图片，描写叙述了 HiveDB 怎样来组织数据的基本 信息，尽管不能具体的表现出太多架构方面的信息，可是也基本能够展示出其在数据切分 方面独特的一面了。
</code></pre>
<ul>
<li>mycat 数据整合<br>&#96;&#96;&#96;text<br>参见:<a target="_blank" rel="noopener" href="http://www.songwie.com/articlelist/11">http://www.songwie.com/articlelist/11</a><br>其它实现数据切分及整合的解决方式 除了上面介绍的几个数据切分及整合的总体解决方式之外，还存在非常多其它相同提供了数据切分与整合的解决方式。如基于 MySQLProxy 的基础上做了进一步扩展的 HSCALE，通过 Rails 构建的 SpockProxy。以及基于 Pathon 的 Pyshards 等等。<br>无论大家选择使用哪一种解决方式，总体设计思路基本上都不应该会有什么变化。那 就是通过数据的垂直和水平切分，增强数据库的总体服务能力，让应用系统的总体扩展能 力尽可能的提升，扩展方式尽可能的便捷。</li>
</ul>
<p>仅仅要我们通过中间层 Proxy 应用程序较好的攻克了数据切分和数据源整合问题。那 么数据库的线性扩展能力将非常容易做到像我们的应用程序一样方便。仅仅须要通过加入 便宜的 PCServerserver，就可以线性添加数据库集群的总体服务能力，让数据库不再轻易 成为应用系统的性能瓶颈。<br>数据切分与整合可能存在的问题 在实施数据切分方案之前，有些可能存在的问题我们还是须要做一些分析的。 一般来说，我们可能遇到的问题主要会有以下几点:<br>◆ 引入分布式事务的问题。<br>◆ 跨节点 Join 的问题;<br>◆ 跨节点合并排序分页问题。</p>
<p>引入分布式事务的问题<br>一旦数据进行切分被分别存放在多个 MySQLServer 中之后，无论我们的切分规则设<br>计的多么的完美(实际上并不存在完美的切分规则)，都可能造成之前的某些事务所涉及 到的数据已经不在同一个 MySQLServer 中了。<br>在这样的场景下，假设我们的应用程序仍然依照老的解决方式，那么势必须要引入分 布式事务来解决。分布式事务本身对于系统资源的消耗就是非常大的，性能本身也并非太 高，并且引入分布式事务本身在异常处理方面就会带来较多比较难控制的因素。<br>首先须要考虑的一件事情就是:是否数据库是唯一一个能够解决事务的地方呢?事实 上并非这样的，我们全然能够结合数据库以及应用程序两者来共同解决。各个数据库解决 自己身上的事务，然后通过应用程序来控制多个数据库上面的事务。将一个跨多个数据库 的分布式事务分拆成多个仅处于单个数据库上面的小事务，并通过应用程序来总控各个小 事务。</p>
<p>当然，这样作的要求就是我们的俄应用程序必须要有足够的健壮性。当然也会给应用 程序带来一些技术难度。<br>跨节点 Join 的问题<br>上面介绍了可能引入分布式事务的问题，如今我们再看看须要跨节点 Join 的问题。<br>数据切分之后可能会造成有些老的 Join 语句无法继续使用。由于 Join 使用的数据源 可能被切分到多个 MySQLServer 中了。<br>怎么办?这个问题从 MySQL 数据库角度来看，假设非得在数据库端来直接解决的话， 恐怕仅仅能通过 MySQL 一种特殊的存储引擎 Federated 来攻克了。Federated 存储引擎 是 MySQL 解决相似于 Oracle 的 DBLink 之类问题的解决方式。<br>和 OracleDBLink 的主要差别在于 Federated 会保存一份远端表结构的定义信息在本 地。咋一看，Federated 确实是解决跨节点 Join 非常好的解决方式。可是我们还应该清晰 一点，那就似乎假设远端的表结构发生了变更，本地的表定义信息是不会跟着发生对应变 化的。假设在更新远端表结构的时候并没有更新本地的 Federated 表定义信息。就非常可 能造成 Query 执行出错，无法得到正确的结果。<br>对待这类问题，我还是推荐通过应用程序来进行处理，先在驱动表所在的 MySQLServer 中取出对应的驱动结果集。然后依据驱动结果集再到被驱动表所在的 MySQLServer 中取出对应的数据。可能非常多读者朋友会觉得这样做对性能会产生一定的 影响，是的，确实是会对性能有一定的负面影响，可是除了此法，基本上没有太多其它更 好的解决的方法了。<br>并且，由于数据库通过较好的扩展之后，每台 MySQLServer 的负载就能够得到较好 的控制。单纯针对单条 Query 来说，其响应时间可能比不切分之前要提高一些，所以性能 方面所带来的负面影响也并非太大。更何况。相似于这样的须要跨节点 Join 的需求也并非太多。相对于总体性能而言，可能也仅仅是非常小一部分而已。所以为了总体性能的考虑， 偶尔牺牲那么一点点。事实上是值得的。毕竟系统优化本身就是存在非常多取舍和平衡的 过程。</p>
<p>跨节点合并排序分页问题<br>一旦进行了数据的水平切分之后，可能就并不仅仅仅仅有跨节点 Join 无法正常执行， 有些排序分页的 Query 语句的数据源可能也会被切分到多个节点。这样造成的直接后果就 是这些排序分页 Query 无法继续正常执行。事实上这和跨节点 Join 是一个道理。数据源 存在于多个节点上，要通过一个 Query 来解决，就和跨节点 Join 是一样的操作。相同 Federated 也能够部分解决。当然存在的风险也一样。<br>还是相同的问题，怎么办?我相同仍然继续建议通过应用程序来解决。<br>怎样解决?解决的思路大体上和跨节点 Join 的解决相似，可是有一点和跨节点 Join 不太一样。Join 非常多时候都有一个驱动与被驱动的关系。所以 Join 本身涉及到的多个表 之间的数据读取一般都会存在一个顺序关系。可是排序分页就不太一样了，排序分页的数 据源基本上能够说是一个表(或者一个结果集)。本身并不存在一个顺序关系，所以在从 多个数据源取数据的过程是全然能够并行的。<br>这样排序分页数据的取数效率我们能够做的比跨库 Join 更高。所以带来的性能损失相 对的要更小，在有些情况下可能比在原来未进行数据切分的数据库中效率更高了。 </p>
<p>小结<br>当然，不论是跨节点 Join 还是跨节点排序分页。都会使我们的应用 server 消耗很多 其它的资源，尤其是内存资源，由于我们在读取访问以及合并结果集的这个过程须要比原 来处理很多其它的数据。<br>事实上全然不是这样，首先应用程序由于其特殊性。能够非常容易做到非常好的扩展 性，可是数据库就不一样。必须借助非常多其它的方式才干做到扩展。并且在这个扩展过 程中，非常难避免带来有些原来在集中式数据库中能够解决但被切分开成一个数据库集群 之后就成为一个难题的情况。<br>要想让系统总体得到最大限度的扩展，我们仅仅能让应用程序做很多其它的事情来解 决数据库集群无法较好解决的问题</p>
<pre><code>
</code></pre>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-18T12:47:47.000Z" title="2016/12/18 下午8:47:47">2016-12-18</time>发表</span><span class="level-item"><time dateTime="2017-12-31T12:05:48.055Z" title="2017/12/31 下午8:05:48">2017-12-31</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/JAVASE/">JAVASE</a></span><span class="level-item">7 分钟读完 (大约1039个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/18/javase/JAVASE-stream%E6%95%B0%E6%8D%AE%E6%B5%81/">JAVASE--数据流stream</a></h1><div class="content"><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><blockquote>
<p>在JDK1.8开始发现整个类集里面所提供的接口都出现了大量的default或者是 static方法，以Collection的父接口Iterable接口里面定义的方法来观察：<br>default void forEach​(Consumer&lt;? super T&gt; action),加了一个消费型的函数式接口（能在方发上接受参数，但是不会返回结果）。</p>
</blockquote>
<p>示例：</p>
<pre><code class="line-numbers language-text">        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;a&quot;);
        list.add(&quot;b&quot;);
        list.forEach(System.out::println);
    /** 输出
    *  a 
    *  b
    */
</code></pre>
<h2 id="stream"><a href="#stream" class="headerlink" title="stream"></a>stream</h2><blockquote>
<p>在Collection接口 专门添加了处理数据流的类 java.util.stream.Stream 定义的方法：<br>default Stream<E>	stream​()</p>
</blockquote>
<h3 id="stream–count"><a href="#stream–count" class="headerlink" title="stream–count()"></a>stream–count()</h3><p>Returns the count of elements in this stream.  定义：  long	count​()</p>
<pre><code class="line-numbers language-java">        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;a&quot;);
        list.add(&quot;b&quot;);
        list.add(&quot;b&quot;);
        Stream&lt;String&gt; stream = list.stream();
        System.out.println(stream.count());

    //输出结果   3
</code></pre>
<h3 id="stream–distinct​-去掉重复数据"><a href="#stream–distinct​-去掉重复数据" class="headerlink" title="stream–distinct​()去掉重复数据"></a>stream–distinct​()去掉重复数据</h3><p>Returns a stream consisting of the distinct elements (according to Object.equals(Object)) of this stream。定义：<br>Stream<T>	distinct​()</p>
<pre><code class="line-numbers language-java">        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;a&quot;);
        list.add(&quot;b&quot;);
        list.add(&quot;b&quot;);
        Stream&lt;String&gt; stream = list.stream();
        System.out.println(stream.distinct().count());

    //输出结果   2
</code></pre>
<h3 id="stream–collect-收集器（最后使用收集）"><a href="#stream–collect-收集器（最后使用收集）" class="headerlink" title="stream–collect()收集器（最后使用收集）"></a>stream–collect()收集器（最后使用收集）</h3><p>Performs a mutable reduction operation on the elements of this stream using a Collector.<br>&lt;R,A&gt; R	collect​(Collector&lt;? super T,A,R&gt; collector)<br>    java.util.stream.Collectors 的 static <T> Collector&lt;T,?,List<T>&gt;	toList​()<br>示例：</p>
<pre><code class="line-numbers language-java">public class Test &#123;
    public static void main(String[] args) &#123;
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;a&quot;);
        list.add(&quot;b&quot;);
        list.add(&quot;b&quot;);
        Stream&lt;String&gt; stream = list.stream();
    //去掉所有重复数据后形成新的集合数据，里面是不包含重复内容的集合
        List&lt;String&gt; newList = stream.distinct().collect(Collectors.toList());
        System.out.println(newList);
        System.out.println(list);
    &#125;
&#125;

/**   输出结果
*      [a, b]
*      [a, b, b]
*/
</code></pre>
<h3 id="stream–filter-数据筛选处理"><a href="#stream–filter-数据筛选处理" class="headerlink" title="stream–filter()数据筛选处理"></a>stream–filter()数据筛选处理</h3><p>Stream<T> filter​(Predicate&lt;? super T&gt; predicate)<br>示例：</p>
<pre><code class="line-numbers language-java">public class Test &#123;
    public static void main(String[] args) &#123;
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;java&quot;);
        list.add(&quot;Android&quot;);
        list.add(&quot;jsp&quot;);
        list.add(&quot;h5&quot;);
        Stream&lt;String&gt; stream = list.stream();
        List&lt;String&gt; newList = stream.distinct().filter((x) -&gt; &#123;
            return x.contains(&quot;a&quot;) || x.contains(&quot;A&quot;);
        &#125;
        ).collect(Collectors.toList());
        System.out.println(newList);
    &#125;
&#125;

/**输出结果
*
*      [java, Android]
*
*/
</code></pre>
<h3 id="stream–map-对数据进行过滤前后的额外处理，比如转大小写"><a href="#stream–map-对数据进行过滤前后的额外处理，比如转大小写" class="headerlink" title="stream–map()对数据进行过滤前后的额外处理，比如转大小写"></a>stream–map()对数据进行过滤前后的额外处理，比如转大小写</h3><p><R> Stream<R> map​(Function&lt;? super T,? extends R&gt; mapper)<br>Function函数式特点，接收数据处理并返回<br>示例：</p>
<pre><code class="line-numbers language-java">public class Test &#123;
    public static void main(String[] args) &#123;
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;java&quot;);
        list.add(&quot;Android&quot;);
        list.add(&quot;jsp&quot;);
        list.add(&quot;h5&quot;);
        Stream&lt;String&gt; stream = list.stream();
        List&lt;String&gt; newList = stream.distinct().filter((x) -&gt; &#123;
            return x.contains(&quot;a&quot;) || x.contains(&quot;A&quot;);
        &#125;
        ).map((x)-&gt;x.toUpperCase()).collect(Collectors.toList()); //对于lamda表达式只有一行语句，可以不写return返回
        System.out.println(newList);
    &#125;
&#125;
/**输出结果
*    [JAVA, ANDROID]
*/
</code></pre>
<h3 id="在Stream接口里面提供有集合数据分页的操作："><a href="#在Stream接口里面提供有集合数据分页的操作：" class="headerlink" title="在Stream接口里面提供有集合数据分页的操作："></a>在Stream接口里面提供有集合数据分页的操作：</h3><ul>
<li>设置跳过的数据行数：public Stream<T> skip(long n);</li>
<li>设置取出的数据个数: public Stream<T> limit(long maxSize).</li>
</ul>
<h3 id="在Stream接口里面还可以进行数据的全匹配或者部分匹配："><a href="#在Stream接口里面还可以进行数据的全匹配或者部分匹配：" class="headerlink" title="在Stream接口里面还可以进行数据的全匹配或者部分匹配："></a>在Stream接口里面还可以进行数据的全匹配或者部分匹配：</h3><ul>
<li>全匹配： public boolean allMatch(Predicate&lt;? super T&gt; predicate);</li>
<li>匹配任意一个: public boolean anyMatch(Predicate&lt;? super T&gt; predicate)</li>
<li>或操作 default Predicate<T>	or​(Predicate&lt;? super T&gt; other)</li>
<li>与操作 default Predicate<T>	and​(Predicate&lt;? super T&gt; other)</li>
</ul>
<p>或操作示例：</p>
<pre><code class="line-numbers language-java">public class Test &#123;

    public static void main(String[] args) &#123;
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;java&quot;);
        list.add(&quot;Android&quot;);
        list.add(&quot;jsp&quot;);
        list.add(&quot;h5&quot;);
        Stream&lt;String&gt; stream = list.stream();
        Predicate&lt;String&gt; p1 = (x)-&gt;x.contains(&quot;jsp&quot;);
        Predicate&lt;String&gt; p2 = (x)-&gt;x.contains(&quot;h5&quot;);
        if(stream.anyMatch(p1.or(p2)))&#123;
            System.out.println(&quot;包含数据h5 或者 jsp&quot;);
        &#125;else&#123;
            System.out.println(&quot;数据不存在&quot;);
        &#125;
    &#125;
&#125;
</code></pre>
<p>或者</p>
<pre><code class="line-numbers language-java">public class Test &#123;

    public static void main(String[] args) &#123;
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;java&quot;);
        list.add(&quot;Android&quot;);
//		list.add(&quot;jsp&quot;);
//		list.add(&quot;h5&quot;);
        list.add(&quot;h5jsp&quot;);
        list.add(&quot;jsph5&quot;);
        Stream&lt;String&gt; stream = list.stream();
        Predicate&lt;String&gt; p1 = (x)-&gt;x.contains(&quot;jsp&quot;);
        Predicate&lt;String&gt; p2 = (x)-&gt;x.contains(&quot;h5&quot;);
        if(stream.anyMatch(p1.or(p2)))&#123; //有两条记录都符合，Predicate之间没有先后顺序
            System.out.println(&quot;包含数据h5 或者 jsp&quot;);
        &#125;else&#123;
            System.out.println(&quot;数据不存在&quot;);
        &#125;
    &#125;
&#125;
/**
*   以上两个输出结果一样：
*   包含数据h5 或者 jsp
*/
</code></pre>
<p>与操作示例</p>
<pre><code class="line-numbers language-java">public class Test &#123;

    public static void main(String[] args) &#123;
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;java&quot;);
        list.add(&quot;Android&quot;);
        list.add(&quot;jsp&quot;);
        list.add(&quot;h5&quot;);
        list.add(&quot;h5jsp&quot;);
        list.add(&quot;jsph5&quot;);
        Stream&lt;String&gt; stream = list.stream();
        Predicate&lt;String&gt; p1 = (x)-&gt;x.contains(&quot;jsp&quot;);
        Predicate&lt;String&gt; p2 = (x)-&gt;x.contains(&quot;h5&quot;);
        if(stream.anyMatch(p1.and(p2)))&#123; //有两条记录都符合，Predicate之间没有先后顺序
            System.out.println(&quot;包含数据h5 或者 jsp&quot;);
        &#125;else&#123;
            System.out.println(&quot;数据不存在&quot;);
        &#125;
    &#125;
&#125;
/**
*   输出结果：
*   包含数据h5 或者 jsp
*/
</code></pre>
<h3 id="Stream的数据分析方法–reduce"><a href="#Stream的数据分析方法–reduce" class="headerlink" title="Stream的数据分析方法–reduce"></a>Stream的数据分析方法–reduce</h3><p>数据分析方法：public Optional<T> reduce​(BinaryOperator<T> accumulator)<br><strong>就是做数据统计使用的。</strong></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-18T12:47:47.000Z" title="2016/12/18 下午8:47:47">2016-12-18</time>发表</span><span class="level-item"><time dateTime="2022-05-08T15:45:44.250Z" title="2022/5/8 下午11:45:44">2022-05-08</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E7%AE%A1%E7%90%86/">项目构建管理</a><span> / </span><a class="link-muted" href="/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E7%AE%A1%E7%90%86/JUnit/">JUnit</a></span><span class="level-item">33 分钟读完 (大约4931个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/18/%E5%B7%A5%E5%85%B7/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/JUnit/Junit-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">JUnit单元测试</a></h1><div class="content"><h2 id="JUnit介绍"><a href="#JUnit介绍" class="headerlink" title="JUnit介绍"></a>JUnit介绍</h2><ul>
<li>单元测试就是针对最小的功能单元编写测试代码。Java程序最小的功能单元是方法，因此，对Java程序进行单元测试就是针对单个Java方法的测试。</li>
<li>JUnit是一个开源的Java语言的单元测试框架，专门针对Java设计，使用最广泛。JUnit是事实上的单元测试的标准框架.</li>
<li>使用JUnit编写单元测试的好处在于，我们可以非常简单地组织测试代码，并随时运行它们，JUnit就会给出成功的测试和失败的测试，<strong>还可以生成测试报告</strong>，不仅包含测试的<strong>成功率</strong>，还可以统计测试的<strong>代码覆盖率</strong>，即被测试的代码本身有多少经过了测试。对于高质量的代码来说，测试覆盖率应该在80%以上。</div><a class="article-more button is-small is-size-7" href="/2016/12/18/%E5%B7%A5%E5%85%B7/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/JUnit/Junit-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-15T15:16:37.000Z" title="2016/12/15 下午11:16:37">2016-12-15</time>发表</span><span class="level-item"><time dateTime="2020-07-22T14:34:54.250Z" title="2020/7/22 下午10:34:54">2020-07-22</time>更新</span><span class="level-item"> Song Xuan Ming </span><span class="level-item"><a class="link-muted" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a><span> / </span><a class="link-muted" href="/categories/%E6%A1%86%E6%9E%B6/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/">安全框架</a><span> / </span><a class="link-muted" href="/categories/%E6%A1%86%E6%9E%B6/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/spring-security/">spring-security</a></span><span class="level-item">1 分钟读完 (大约156个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/15/framework/security/spring-security/spring-security%E7%AC%AC%E4%B8%80%E7%AF%87/">spring-security第一篇</a></h1><div class="content"><h2 id="SpringSecurity核心功能"><a href="#SpringSecurity核心功能" class="headerlink" title="SpringSecurity核心功能"></a>SpringSecurity核心功能</h2><ul>
<li><strong>认证（你是谁）</strong></li>
<li><strong>授权(你能干什么)</strong></li>
<li><strong>攻击防护(防止伪造身份)</strong></li>
</ul>
<h2 id="内容简介"><a href="#内容简介" class="headerlink" title="内容简介"></a>内容简介</h2><ul>
<li><strong>SpringSecurity基本原理</strong></li>
<li><strong>实现用户名 + 密码认证</strong></li>
<li><strong>实现手机号 + 短信认证</strong></li>
</ul>
<h3 id="SpringSecurity基本原理"><a href="#SpringSecurity基本原理" class="headerlink" title="SpringSecurity基本原理"></a>SpringSecurity基本原理</h3><p>图示：<br><img src="/images/spring/spring-security.png" alt="security"></p>
<h4 id="实现用户名-密码认证"><a href="#实现用户名-密码认证" class="headerlink" title="实现用户名 + 密码认证"></a>实现用户名 + 密码认证</h4><h4 id="实现手机号-短信认证"><a href="#实现手机号-短信认证" class="headerlink" title="实现手机号 + 短信认证"></a>实现手机号 + 短信认证</h4><h2 id="实战架构分层介绍"><a href="#实战架构分层介绍" class="headerlink" title="实战架构分层介绍"></a>实战架构分层介绍</h2><p><img src="/images/spring/security001.png" alt="security"></p>
<h2 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h2><ul>
<li>使用URL描述资源</li>
<li>使用HTTP方法描述行为，使用HTTP状态码来表示不同结果</li>
<li>使用json交互数据</li>
<li>RESTful API只是一种风格，不是强制的标准</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-15T08:42:34.000Z" title="2016/12/15 下午4:42:34">2016-12-15</time>发表</span><span class="level-item"><time dateTime="2018-03-01T15:44:04.366Z" title="2018/3/1 下午11:44:04">2018-03-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/JVM/">JVM</a></span><span class="level-item">4 分钟读完 (大约566个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/15/javase/JVM%E4%BC%98%E5%8C%96%E7%AC%AC%E4%BA%8C%E7%AF%87/">JVM优化第二篇</a></h1><div class="content"><p><strong>适当调整Tomcat的运行JVM参数可以提升整体性能</strong></p>
<h2 id="JVM内存模型"><a href="#JVM内存模型" class="headerlink" title="JVM内存模型"></a>JVM内存模型</h2><p><img src="/images/javase/JVM%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.png"><br><img src="/images/javase/JVM%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B2.png"></p>
<h2 id="JVM参数介绍"><a href="#JVM参数介绍" class="headerlink" title="JVM参数介绍"></a>JVM参数介绍</h2><p>修改文件：bin&#x2F;catalina.sh</p>
<pre><code class="line-numbers language-text">JAVA_OPTS=&quot;-Dfile.encoding=UTF-8 -server -Xms1024m -Xmx1024m -XX:NewSize=512m -XX:MaxNewSize=512m -XX:PermSize=256m -XX:MaxPermSize=256m -XX:NewRatio=2 -XX:MaxTenuringThreshold=50 -XX:+DisableExplicitGC&quot;
参数说明：
1、	file.encoding 默认文件编码
2、	-Xmx1024m  设置JVM最大可用内存为1024MB
3、	-Xms1024m  设置JVM最小内存为1024m。此值可以设置与-Xmx相同，以避免每次垃圾回收完成后JVM重新分配内存。
4、	-XX:NewSize  设置年轻代大小
5、	XX:MaxNewSize 设置最大的年轻代大小
6、	-XX:PermSize  设置永久代大小
7、	-XX:MaxPermSize 设置最大永久代大小
8、	-XX:NewRatio=4:设置年轻代（包括Eden和两个Survivor区）与终身代的比值（除去永久代）。设置为4，则年轻代与终身代所占比值为1：4，年轻代占整个堆栈的1/5
9、	-XX:MaxTenuringThreshold=0：设置垃圾最大年龄，默认为：15。如果设置为0的话，则年轻代对象不经过Survivor区，直接进入年老代。对于年老代比较多的应用，可以提高效率。如果将此值设置为一个较大值，则年轻代对象会在Survivor区进行多次复制，这样可以增加对象再年轻代的存活时间，增加在年轻代即被回收的概论。
10、	-XX:+DisableExplicitGC这个将会忽略手动调用GC的代码使得 System.gc()的调用就会变成一个空调用，完全不会触发任何GC
</code></pre>
<h2 id="在tomcat中设置jvm参数"><a href="#在tomcat中设置jvm参数" class="headerlink" title="在tomcat中设置jvm参数"></a>在tomcat中设置jvm参数</h2><h3 id="linux环境下"><a href="#linux环境下" class="headerlink" title="linux环境下"></a>linux环境下</h3><p>修改bin&#x2F;catalina.sh文件参数（第一行）,注意需要引号，Windows环境不需要引号</p>
<pre><code class="line-numbers language-text">JAVA_OPTS=&quot;-Dfile.encoding=UTF-8 -server -Xms1024m -Xmx2048m -XX:NewSize=512m -XX:MaxNewSize=1024m -XX:PermSize=256m -XX:MaxPermSize=256m -XX:MaxTenuringThreshold=10 -XX:NewRatio=2 -XX:+DisableExplicitGC&quot;
</code></pre>
<p><img src="/images/javase/linux_jvm.png"></p>
<h3 id="windows环境下"><a href="#windows环境下" class="headerlink" title="windows环境下"></a>windows环境下</h3><p>修改bin&#x2F;catalina.bat文件设置参数（第一行）,不需要引号</p>
<pre><code class="line-numbers language-text">set JAVA_OPTS=-Dfile.encoding=UTF-8 -server -Xms1024m -Xmx2048m -XX:NewSize=512m -XX:MaxNewSize=1024m -XX:PermSize=256m -XX:MaxPermSize=256m -XX:MaxTenuringThreshold=10 -XX:NewRatio=2 -XX:+DisableExplicitGC
</code></pre>
<p><img src="/images/javase/windows_jvm.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-08T05:44:29.000Z" title="2016/12/8 下午1:44:29">2016-12-08</time>发表</span><span class="level-item"><time dateTime="2018-03-01T14:54:21.292Z" title="2018/3/1 下午10:54:21">2018-03-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/JAVAEE/">JAVAEE</a></span><span class="level-item">2 分钟读完 (大约371个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/08/javaee/web%E5%AE%B9%E5%99%A8/tomcat/tomcat%E9%85%8D%E7%BD%AEnio%E5%92%8C%E7%BA%BF%E7%A8%8B%E6%B1%A0/">tomcat7配置nio和线程池</a></h1><div class="content"><h2 id="Tomcat7-优化配置"><a href="#Tomcat7-优化配置" class="headerlink" title="Tomcat7 优化配置"></a>Tomcat7 优化配置</h2><h3 id="配置tomcat管理员账户"><a href="#配置tomcat管理员账户" class="headerlink" title="配置tomcat管理员账户"></a>配置tomcat管理员账户</h3><p>tomcat 的conf&#x2F; tomcat-users.xml下添加用户：</p>
<pre><code class="line-numbers language-xml">&lt;role rolename=&quot;manager&quot;/&gt;
&lt;role rolename=&quot;manager-gui&quot;/&gt;
&lt;role rolename=&quot;admin&quot;/&gt;
&lt;role rolename=&quot;admin-gui&quot;/&gt;
&lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;admin-gui,admin,manager-gui,manager&quot;/&gt;
</code></pre>
<h3 id="tomcat的3种运行模式"><a href="#tomcat的3种运行模式" class="headerlink" title="tomcat的3种运行模式"></a>tomcat的3种运行模式</h3><p>tomcat的运行模式有3种：<br>        1、bio 默认的模式,性能非常低下,没有经过任何优化处理和支持.<br>        2、nio 利用java的异步io护理技术,no blocking IO技术.<br>        3、apr 安装起来最困难,但是从操作系统级别来解决异步的IO问题,大幅度的提高性能.</p>
<h4 id="启动nio模式"><a href="#启动nio模式" class="headerlink" title="启动nio模式"></a>启动nio模式</h4><p>修改server.xml里的Connector节点,修改protocol为org.apache.coyote.http11.Http11NioProtocol<br><img src="/images/javaee/nio%E6%A8%A1%E5%BC%8F%E5%BC%80%E5%90%AF.png">   </p>
<h3 id="执行器-线程池"><a href="#执行器-线程池" class="headerlink" title="执行器(线程池)"></a>执行器(线程池)</h3><p>在tomcat中每一个用户请求都是一个线程，所以可以使用线程池提高性能。</p>
<h4 id="开启并且使用"><a href="#开启并且使用" class="headerlink" title="开启并且使用"></a>开启并且使用</h4><p><strong>最佳实践</strong></p>
<pre><code class="line-numbers language-xml">   &lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;catalina-exec-&quot;
        maxThreads=&quot;800&quot; minSpareThreads=&quot;100&quot; maxQueueSize=&quot;100&quot; prestartminSpareThreads=&quot;true&quot;/&gt;
&lt;Connector executor=&quot;tomcatThreadPool&quot; port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;
               connectionTimeout=&quot;20000&quot;
               redirectPort=&quot;8443&quot; /&gt;
</code></pre>
<p>运行示例效果：<br><img src="/images/javaee/tomcat_pool.png"><br><img src="/images/javaee/%E6%89%A7%E8%A1%8C%E5%99%A8%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%85%B6%E5%AE%83%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E.png"> </p>
<h3 id="连接器（Connector）"><a href="#连接器（Connector）" class="headerlink" title="连接器（Connector）"></a>连接器（Connector）</h3><p>Connector是Tomcat接收请求的入口，每个Connector有自己专属的监听端口<br>Connector有两种：HTTP Connector和AJP Connector<br><strong>最佳实践</strong></p>
<pre><code class="line-numbers language-xml">    &lt;Connector executor=&quot;tomcatThreadPool&quot; port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;
               connectionTimeout=&quot;20000&quot;
               redirectPort=&quot;8443&quot;
               enableLookups=&quot;false&quot;
               maxPostSize=&quot;10485760&quot;
               URIEncoding=&quot;UTF-8&quot;
               acceptCount=&quot;100&quot;
               acceptorThreadCount=&quot;2&quot;
               disableUploadTimeout=&quot;true&quot;
               maxConnections=&quot;10000&quot;
               SSLEnabled=&quot;false&quot; /&gt;
</code></pre>
<h3 id="禁用AJP连接器"><a href="#禁用AJP连接器" class="headerlink" title="禁用AJP连接器"></a>禁用AJP连接器</h3><p>AJP（Apache JServer Protocol）<br>AJPv13协议是面向包的。WEB服务器和Servlet容器通过TCP连接来交互；为了节省SOCKET创建的昂贵代价，WEB服务器会尝试维护一个永久TCP连接到servlet容器，并且在多个请求和响应周期过程会重用连接。<br><img src="/images/javaee/ajp%E7%A6%81%E7%94%A8.png"> </p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-04T12:52:41.000Z" title="2016/12/4 下午8:52:41">2016-12-04</time>发表</span><span class="level-item"><time dateTime="2018-06-24T14:19:55.616Z" title="2018/6/24 下午10:19:55">2018-06-24</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务</a><span> / </span><a class="link-muted" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/springboot%E6%A1%86%E6%9E%B6/">springboot框架</a></span><span class="level-item">几秒读完 (大约19个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/04/framework/springboot/springboot--restful%E4%B8%89%E7%A7%8D%E6%8B%A6%E6%88%AA%E6%9C%BA%E5%88%B6%E7%9A%84%E7%A0%94%E7%A9%B6/">SpringBoot--RESTFul 三种拦截机制的研究</a></h1><div class="content"><h2 id="总体了解三种拦截"><a href="#总体了解三种拦截" class="headerlink" title="总体了解三种拦截"></a>总体了解三种拦截</h2><ul>
<li>过滤器(Filter)</li>
<li>拦截器(Interceptor)</li>
<li>切片(Aspect)</li>
</ul>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/6/">上一页</a></div><div class="pagination-next"><a href="/page/8/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/6/">6</a></li><li><a class="pagination-link is-current" href="/page/7/">7</a></li><li><a class="pagination-link" href="/page/8/">8</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/21/">21</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="sxm-star"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">sxm-star</p><p class="is-size-6 is-block">见路非路,即见因果,见相非相,即见如来</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Asia</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">202</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">98</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">65</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget"><link href="/music/APlayer.min.css"><div id="aplayer" style="margin: 0 auto;"></div><script src="/music/APlayer.min.js"></script><script src="/music/APlayer_Music.js"></script></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/C%E8%AF%AD%E8%A8%80/"><span class="level-start"><span class="level-item">C语言</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Groovy/"><span class="level-start"><span class="level-item">Groovy</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVAEE/"><span class="level-start"><span class="level-item">JAVAEE</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/"><span class="level-start"><span class="level-item">JAVASE</span></span><span class="level-end"><span class="level-item tag">49</span></span></a><ul><li><a class="level is-mobile" href="/categories/JAVASE/IO%E6%B5%81/"><span class="level-start"><span class="level-item">IO流</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/JDBC/"><span class="level-start"><span class="level-item">JDBC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%9B%BD%E9%99%85%E5%8C%96%E5%BA%94%E7%94%A8/"><span class="level-start"><span class="level-item">国际化应用</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2/"><span class="level-start"><span class="level-item">图形界面</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"><span class="level-start"><span class="level-item">基础语法</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="level-start"><span class="level-item">多线程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%BA%93/"><span class="level-start"><span class="level-item">常用类库</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6/"><span class="level-start"><span class="level-item">异常机制</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E6%96%B0%E7%89%B9%E6%80%A7/"><span class="level-start"><span class="level-item">新特性</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">网络编程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">设计模式</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E9%98%9F%E5%88%97%E4%B8%8E%E6%A0%88/"><span class="level-start"><span class="level-item">队列与栈</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E9%9B%86%E5%90%88/"><span class="level-start"><span class="level-item">集合</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><span class="level-start"><span class="level-item">面向对象</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/JAVASE/%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/"><span class="level-start"><span class="level-item">高级特性</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/JVM/"><span class="level-start"><span class="level-item">JVM</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/MAC/"><span class="level-start"><span class="level-item">MAC</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/MAC/Homebrew/"><span class="level-start"><span class="level-item">Homebrew</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/MAC/%E5%BD%A9%E8%9B%8B%E9%97%B2%E8%81%8A/"><span class="level-start"><span class="level-item">彩蛋闲聊</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/PHP/"><span class="level-start"><span class="level-item">PHP</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/PHP/%E6%95%B4%E4%BD%93%E4%BA%86%E8%A7%A3/"><span class="level-start"><span class="level-item">整体了解</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/docker/"><span class="level-start"><span class="level-item">docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/node/"><span class="level-start"><span class="level-item">node</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/react-native/"><span class="level-start"><span class="level-item">react native</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%9A%E5%8A%A1%E9%A2%86%E5%9F%9F/"><span class="level-start"><span class="level-item">业务领域</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"><span class="level-start"><span class="level-item">中间件</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/NFS%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/"><span class="level-start"><span class="level-item">NFS网络文件系统</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/nginx/"><span class="level-start"><span class="level-item">nginx</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/nosql/"><span class="level-start"><span class="level-item">nosql</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/nosql/redis/"><span class="level-start"><span class="level-item">redis</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6-RocketMQ/"><span class="level-start"><span class="level-item">消息中间件-RocketMQ</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E4%BA%A7%E5%93%81%E5%BF%83%E5%BE%97/"><span class="level-start"><span class="level-item">产品心得</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">前端</span></span><span class="level-end"><span class="level-item tag">17</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/HTML/"><span class="level-start"><span class="level-item">HTML</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/HTML/%E5%90%8E%E5%8F%B0%E6%A8%A1%E6%9D%BF/"><span class="level-start"><span class="level-item">后台模板</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/Vue/"><span class="level-start"><span class="level-item">Vue</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/XML/"><span class="level-start"><span class="level-item">XML</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/bootstrap/"><span class="level-start"><span class="level-item">bootstrap</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/react/"><span class="level-start"><span class="level-item">react</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">项目构建工具</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">前端项目</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE/%E5%9C%A8%E7%BA%BF%E6%95%99%E8%82%B2%E5%B9%B3%E5%8F%B0%E6%A1%88%E4%BE%8B/"><span class="level-start"><span class="level-item">在线教育平台案例</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%AE%89%E5%8D%93/"><span class="level-start"><span class="level-item">安卓</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">工具</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/Photoshop/"><span class="level-start"><span class="level-item">Photoshop</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/gradle/"><span class="level-start"><span class="level-item">gradle</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7maven/"><span class="level-start"><span class="level-item">项目管理工具maven</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%BB%BA%E6%A8%A1/"><span class="level-start"><span class="level-item">建模</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%BB%BA%E6%A8%A1/UML/"><span class="level-start"><span class="level-item">UML</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0/"><span class="level-start"><span class="level-item">微信开放平台</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="level-start"><span class="level-item">微信小程序</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0/%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/"><span class="level-start"><span class="level-item">微信支付</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><span class="level-start"><span class="level-item">微服务</span></span><span class="level-end"><span class="level-item tag">15</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud/"><span class="level-start"><span class="level-item">SpringCloud</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/springboot%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">springboot框架</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">数据库</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/"><span class="level-start"><span class="level-item">MySQL</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">嵌入式数据库</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/"><span class="level-start"><span class="level-item">数据持久层</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/commons-dbutils%E5%B7%A5%E5%85%B7%E7%B1%BB/"><span class="level-start"><span class="level-item">commons-dbutils工具类</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/"><span class="level-start"><span class="level-item">数据库连接池</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="level-start"><span class="level-item">数据结构</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A6%82%E8%AE%BA%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/"><span class="level-start"><span class="level-item">概论和复杂度</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">框架</span></span><span class="level-end"><span class="level-item tag">15</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/SpringBatch/"><span class="level-start"><span class="level-item">SpringBatch</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/SpringMVC/"><span class="level-start"><span class="level-item">SpringMVC</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/spring/"><span class="level-start"><span class="level-item">spring</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/"><span class="level-start"><span class="level-item">全文检索</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/lucene/"><span class="level-start"><span class="level-item">lucene</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/solr/"><span class="level-start"><span class="level-item">solr</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">安全框架</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/shiro/"><span class="level-start"><span class="level-item">shiro</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/spring-security/"><span class="level-start"><span class="level-item">spring-security</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/"><span class="level-start"><span class="level-item">数据持久层</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/mybatis%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">mybatis框架</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%A1%86%E6%9E%B6/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">日志框架</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%B5%8B%E8%AF%95%E4%B8%93%E6%A0%8F/"><span class="level-start"><span class="level-item">测试专栏</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/"><span class="level-start"><span class="level-item">网络爬虫</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%8B%B1%E8%AF%AD%E5%A4%A9%E5%9C%B0/"><span class="level-start"><span class="level-item">英语天地</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/"><span class="level-start"><span class="level-item">计算机原理</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/%E6%B1%87%E7%BC%96/"><span class="level-start"><span class="level-item">汇编</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">设计模式</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">结构型模式</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">行为型模式</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">软件设计</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%9A%8F%E7%AC%94/"><span class="level-start"><span class="level-item">随笔</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%9A%8F%E7%AC%94/%E5%8F%B3%E8%84%91%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">右脑开发</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">项目</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE/%E6%95%88%E7%8E%87/"><span class="level-start"><span class="level-item">效率</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E7%AE%A1%E7%90%86/"><span class="level-start"><span class="level-item">项目构建管理</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E7%AE%A1%E7%90%86/JUnit/"><span class="level-start"><span class="level-item">JUnit</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-01T13:12:06.000Z">2020-12-01</time></p><p class="title"><a href="/2020/12/01/%E6%B1%87%E7%BC%96/%E6%B5%85%E8%B0%88%E8%BE%85%E5%8A%A9/">浅谈辅助</a></p><p class="categories"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/">计算机原理</a> / <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/%E6%B1%87%E7%BC%96/">汇编</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-01T13:12:06.000Z">2020-11-01</time></p><p class="title"><a href="/2020/11/01/%E6%B1%87%E7%BC%96/review-%E6%B1%87%E7%BC%96/">重温汇编</a></p><p class="categories"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/">计算机原理</a> / <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8E%9F%E7%90%86/%E6%B1%87%E7%BC%96/">汇编</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-10-20T08:52:17.000Z">2020-10-20</time></p><p class="title"><a href="/2020/10/20/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%AC%E4%B8%80%E7%AF%87/">重温数据结构--概论和复杂度</a></p><p class="categories"><a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a> / <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A6%82%E8%AE%BA%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/">概论和复杂度</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-07-06T06:00:00.000Z">2020-07-06</time></p><p class="title"><a href="/2020/07/06/%E9%9A%8F%E7%AC%94/%E5%8F%B3%E8%84%91%E5%BC%80%E5%8F%91/">右脑开发</a></p><p class="categories"><a href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a href="/categories/%E9%9A%8F%E7%AC%94/%E5%8F%B3%E8%84%91%E5%BC%80%E5%8F%91/">右脑开发</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-06-29T08:11:35.896Z">2020-06-29</time></p><p class="title"><a href="/2020/06/29/%E5%89%8D%E7%AB%AF/%E5%89%8D%E5%8F%B0%E6%B8%B2%E6%9F%93%E6%A8%A1%E6%9D%BF/thymeleaf/"> </a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">十月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">十一月 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">十月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">九月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">十二月 2017</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">十月 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">九月 2017</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/08/"><span class="level-start"><span class="level-item">八月 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/06/"><span class="level-start"><span class="level-item">六月 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/05/"><span class="level-start"><span class="level-item">五月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">十二月 2016</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/11/"><span class="level-start"><span class="level-item">十一月 2016</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/10/"><span class="level-start"><span class="level-item">十月 2016</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/08/"><span class="level-start"><span class="level-item">八月 2016</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/03/"><span class="level-start"><span class="level-item">三月 2016</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/11/"><span class="level-start"><span class="level-item">十一月 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/10/"><span class="level-start"><span class="level-item">十月 2015</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/08/"><span class="level-start"><span class="level-item">八月 2015</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/07/"><span class="level-start"><span class="level-item">七月 2015</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/02/"><span class="level-start"><span class="level-item">二月 2015</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/01/"><span class="level-start"><span class="level-item">一月 2015</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/11/"><span class="level-start"><span class="level-item">十一月 2014</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/10/"><span class="level-start"><span class="level-item">十月 2014</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/09/"><span class="level-start"><span class="level-item">九月 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/07/"><span class="level-start"><span class="level-item">七月 2014</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/04/"><span class="level-start"><span class="level-item">四月 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/03/"><span class="level-start"><span class="level-item">三月 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/11/"><span class="level-start"><span class="level-item">十一月 2013</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/10/"><span class="level-start"><span class="level-item">十月 2013</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/09/"><span class="level-start"><span class="level-item">九月 2013</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/04/"><span class="level-start"><span class="level-item">四月 2013</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/12/"><span class="level-start"><span class="level-item">十二月 2012</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/10/"><span class="level-start"><span class="level-item">十月 2012</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/09/"><span class="level-start"><span class="level-item">九月 2012</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/CSS/"><span class="tag">CSS</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Groovy/"><span class="tag">Groovy</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Homebrew/"><span class="tag">Homebrew</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVASE%E8%AF%AD%E6%B3%95/"><span class="tag">JAVASE语法</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVASE%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/"><span class="tag">JAVASE高级特性</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JVM/"><span class="tag">JVM</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MAC/"><span class="tag">MAC</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NFS/"><span class="tag">NFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NOSQL/"><span class="tag">NOSQL</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PHP/"><span class="tag">PHP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Photoshop/"><span class="tag">Photoshop</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Properties/"><span class="tag">Properties</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RocketMQ/"><span class="tag">RocketMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SpringMVC/"><span class="tag">SpringMVC</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UML/"><span class="tag">UML</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WEB%E5%AE%B9%E5%99%A8/"><span class="tag">WEB容器</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XML/"><span class="tag">XML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XML%E8%A7%A3%E6%9E%90%E5%99%A8/"><span class="tag">XML解析器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bootstrap/"><span class="tag">bootstrap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gradle/"><span class="tag">gradle</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jmeter/"><span class="tag">jmeter</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kafka/"><span class="tag">kafka</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lucene/"><span class="tag">lucene</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maven/"><span class="tag">maven</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/redis/"><span class="tag">redis</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/solr/"><span class="tag">solr</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springboot/"><span class="tag">springboot</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springcloud/"><span class="tag">springcloud</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/stream/"><span class="tag">stream</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vsftpd/"><span class="tag">vsftpd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zookeeper/"><span class="tag">zookeeper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%89%E6%96%B9%E6%94%AF%E4%BB%98/"><span class="tag">三方支付</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%9A%E5%8A%A1%E9%A2%86%E5%9F%9F/"><span class="tag">业务领域</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"><span class="tag">中间件</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%A7%E5%93%81/"><span class="tag">产品</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BB%A3%E7%90%86%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">代理设计模式</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%A9%E5%99%A8/"><span class="tag">利器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF%E6%A1%88%E4%BE%8B/"><span class="tag">前端案例</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"><span class="tag">前端项目构建工具</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"><span class="tag">单例模式</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"><span class="tag">单元测试</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8D%E5%B0%84/"><span class="tag">反射</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/"><span class="tag">反射机制</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%BD%E9%99%85%E5%8C%96%E5%BA%94%E7%94%A8/"><span class="tag">国际化应用</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="tag">小程序</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7/"><span class="tag">工具</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8C%81%E4%B9%85%E5%B1%82/"><span class="tag">持久层</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93ID%E7%94%9F%E6%88%90%E8%AE%BE%E8%AE%A1/"><span class="tag">数据库ID生成设计</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/"><span class="tag">数据库设计</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/"><span class="tag">日志框架</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/"><span class="tag">权限管理</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"><span class="tag">正则表达式</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B3%9B%E5%9E%8B/"><span class="tag">泛型</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/"><span class="tag">线程安全</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4/"><span class="tag">终端命令</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><span class="tag">网络编程</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%8B%B1%E8%AF%AD%E5%A4%A9%E5%9C%B0/"><span class="tag">英语天地</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">设计模式</span><span class="tag">4</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="藏经阁" height="28"></a><p class="is-size-7"><span>&copy; 2022 sxm-star</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><canvas class="fireworks" width="100%" height="100%" style="position: fixed; left: 0; top: 0; z-index: 99999999; pointer-events: none;"></canvas><script src="/js/anime.min.js" defer></script><script src="/js/fireworks.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/prism/codeBlockFuction.js"></script><script src="/js/prism/prism.js"></script><script src="/js/night/night.js" defer></script><script src="/js/snow/snow.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>